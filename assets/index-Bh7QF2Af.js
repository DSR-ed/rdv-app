(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();var lg={exports:{}},Of={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function AS(){if(fv)return Of;fv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return Of.Fragment=t,Of.jsx=e,Of.jsxs=e,Of}var dv;function ES(){return dv||(dv=1,lg.exports=AS()),lg.exports}var Ht=ES(),ug={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function SS(){if(pv)return Ze;pv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),T=Symbol.iterator;function b(J){return J===null||typeof J!="object"?null:(J=T&&J[T]||J["@@iterator"],typeof J=="function"?J:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,P={};function k(J,L,Y){this.props=J,this.context=L,this.refs=P,this.updater=Y||M}k.prototype.isReactComponent={},k.prototype.setState=function(J,L){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,L,"setState")},k.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function $(){}$.prototype=k.prototype;function nt(J,L,Y){this.props=J,this.context=L,this.refs=P,this.updater=Y||M}var rt=nt.prototype=new $;rt.constructor=nt,j(rt,k.prototype),rt.isPureReactComponent=!0;var vt=Array.isArray;function Dt(){}var G={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function I(J,L,Y){var X=Y.ref;return{$$typeof:n,type:J,key:L,ref:X!==void 0?X:null,props:Y}}function z(J,L){return I(J.type,L,J.props)}function x(J){return typeof J=="object"&&J!==null&&J.$$typeof===n}function D(J){var L={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(Y){return L[Y]})}var O=/\/+/g;function st(J,L){return typeof J=="object"&&J!==null&&J.key!=null?D(""+J.key):L.toString(36)}function At(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(Dt,Dt):(J.status="pending",J.then(function(L){J.status==="pending"&&(J.status="fulfilled",J.value=L)},function(L){J.status==="pending"&&(J.status="rejected",J.reason=L)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function it(J,L,Y,X,ot){var ct=typeof J;(ct==="undefined"||ct==="boolean")&&(J=null);var gt=!1;if(J===null)gt=!0;else switch(ct){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(J.$$typeof){case n:case t:gt=!0;break;case v:return gt=J._init,it(gt(J._payload),L,Y,X,ot)}}if(gt)return ot=ot(J),gt=X===""?"."+st(J,0):X,vt(ot)?(Y="",gt!=null&&(Y=gt.replace(O,"$&/")+"/"),it(ot,L,Y,"",function(jt){return jt})):ot!=null&&(x(ot)&&(ot=z(ot,Y+(ot.key==null||J&&J.key===ot.key?"":(""+ot.key).replace(O,"$&/")+"/")+gt)),L.push(ot)),1;gt=0;var It=X===""?".":X+":";if(vt(J))for(var St=0;St<J.length;St++)X=J[St],ct=It+st(X,St),gt+=it(X,L,Y,ct,ot);else if(St=b(J),typeof St=="function")for(J=St.call(J),St=0;!(X=J.next()).done;)X=X.value,ct=It+st(X,St++),gt+=it(X,L,Y,ct,ot);else if(ct==="object"){if(typeof J.then=="function")return it(At(J),L,Y,X,ot);throw L=String(J),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return gt}function dt(J,L,Y){if(J==null)return J;var X=[],ot=0;return it(J,X,"","",function(ct){return L.call(Y,ct,ot++)}),X}function ht(J){if(J._status===-1){var L=J._result;L=L(),L.then(function(Y){(J._status===0||J._status===-1)&&(J._status=1,J._result=Y)},function(Y){(J._status===0||J._status===-1)&&(J._status=2,J._result=Y)}),J._status===-1&&(J._status=0,J._result=L)}if(J._status===1)return J._result.default;throw J._result}var Nt=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)},zt={map:dt,forEach:function(J,L,Y){dt(J,function(){L.apply(this,arguments)},Y)},count:function(J){var L=0;return dt(J,function(){L++}),L},toArray:function(J){return dt(J,function(L){return L})||[]},only:function(J){if(!x(J))throw Error("React.Children.only expected to receive a single React element child.");return J}};return Ze.Activity=A,Ze.Children=zt,Ze.Component=k,Ze.Fragment=e,Ze.Profiler=s,Ze.PureComponent=nt,Ze.StrictMode=r,Ze.Suspense=f,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(J){return G.H.useMemoCache(J)}},Ze.cache=function(J){return function(){return J.apply(null,arguments)}},Ze.cacheSignal=function(){return null},Ze.cloneElement=function(J,L,Y){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var X=j({},J.props),ot=J.key;if(L!=null)for(ct in L.key!==void 0&&(ot=""+L.key),L)!U.call(L,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&L.ref===void 0||(X[ct]=L[ct]);var ct=arguments.length-2;if(ct===1)X.children=Y;else if(1<ct){for(var gt=Array(ct),It=0;It<ct;It++)gt[It]=arguments[It+2];X.children=gt}return I(J.type,ot,X)},Ze.createContext=function(J){return J={$$typeof:u,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:o,_context:J},J},Ze.createElement=function(J,L,Y){var X,ot={},ct=null;if(L!=null)for(X in L.key!==void 0&&(ct=""+L.key),L)U.call(L,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ot[X]=L[X]);var gt=arguments.length-2;if(gt===1)ot.children=Y;else if(1<gt){for(var It=Array(gt),St=0;St<gt;St++)It[St]=arguments[St+2];ot.children=It}if(J&&J.defaultProps)for(X in gt=J.defaultProps,gt)ot[X]===void 0&&(ot[X]=gt[X]);return I(J,ct,ot)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(J){return{$$typeof:h,render:J}},Ze.isValidElement=x,Ze.lazy=function(J){return{$$typeof:v,_payload:{_status:-1,_result:J},_init:ht}},Ze.memo=function(J,L){return{$$typeof:d,type:J,compare:L===void 0?null:L}},Ze.startTransition=function(J){var L=G.T,Y={};G.T=Y;try{var X=J(),ot=G.S;ot!==null&&ot(Y,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Dt,Nt)}catch(ct){Nt(ct)}finally{L!==null&&Y.types!==null&&(L.types=Y.types),G.T=L}},Ze.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Ze.use=function(J){return G.H.use(J)},Ze.useActionState=function(J,L,Y){return G.H.useActionState(J,L,Y)},Ze.useCallback=function(J,L){return G.H.useCallback(J,L)},Ze.useContext=function(J){return G.H.useContext(J)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(J,L){return G.H.useDeferredValue(J,L)},Ze.useEffect=function(J,L){return G.H.useEffect(J,L)},Ze.useEffectEvent=function(J){return G.H.useEffectEvent(J)},Ze.useId=function(){return G.H.useId()},Ze.useImperativeHandle=function(J,L,Y){return G.H.useImperativeHandle(J,L,Y)},Ze.useInsertionEffect=function(J,L){return G.H.useInsertionEffect(J,L)},Ze.useLayoutEffect=function(J,L){return G.H.useLayoutEffect(J,L)},Ze.useMemo=function(J,L){return G.H.useMemo(J,L)},Ze.useOptimistic=function(J,L){return G.H.useOptimistic(J,L)},Ze.useReducer=function(J,L,Y){return G.H.useReducer(J,L,Y)},Ze.useRef=function(J){return G.H.useRef(J)},Ze.useState=function(J){return G.H.useState(J)},Ze.useSyncExternalStore=function(J,L,Y){return G.H.useSyncExternalStore(J,L,Y)},Ze.useTransition=function(){return G.H.useTransition()},Ze.version="19.2.0",Ze}var mv;function U0(){return mv||(mv=1,ug.exports=SS()),ug.exports}var Vt=U0(),cg={exports:{}},Pf={},hg={exports:{}},fg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function TS(){return gv||(gv=1,(function(n){function t(it,dt){var ht=it.length;it.push(dt);t:for(;0<ht;){var Nt=ht-1>>>1,zt=it[Nt];if(0<s(zt,dt))it[Nt]=dt,it[ht]=zt,ht=Nt;else break t}}function e(it){return it.length===0?null:it[0]}function r(it){if(it.length===0)return null;var dt=it[0],ht=it.pop();if(ht!==dt){it[0]=ht;t:for(var Nt=0,zt=it.length,J=zt>>>1;Nt<J;){var L=2*(Nt+1)-1,Y=it[L],X=L+1,ot=it[X];if(0>s(Y,ht))X<zt&&0>s(ot,Y)?(it[Nt]=ot,it[X]=ht,Nt=X):(it[Nt]=Y,it[L]=ht,Nt=L);else if(X<zt&&0>s(ot,ht))it[Nt]=ot,it[X]=ht,Nt=X;else break t}}return dt}function s(it,dt){var ht=it.sortIndex-dt.sortIndex;return ht!==0?ht:it.id-dt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],d=[],v=1,A=null,T=3,b=!1,M=!1,j=!1,P=!1,k=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function rt(it){for(var dt=e(d);dt!==null;){if(dt.callback===null)r(d);else if(dt.startTime<=it)r(d),dt.sortIndex=dt.expirationTime,t(f,dt);else break;dt=e(d)}}function vt(it){if(j=!1,rt(it),!M)if(e(f)!==null)M=!0,Dt||(Dt=!0,D());else{var dt=e(d);dt!==null&&At(vt,dt.startTime-it)}}var Dt=!1,G=-1,U=5,I=-1;function z(){return P?!0:!(n.unstable_now()-I<U)}function x(){if(P=!1,Dt){var it=n.unstable_now();I=it;var dt=!0;try{t:{M=!1,j&&(j=!1,$(G),G=-1),b=!0;var ht=T;try{e:{for(rt(it),A=e(f);A!==null&&!(A.expirationTime>it&&z());){var Nt=A.callback;if(typeof Nt=="function"){A.callback=null,T=A.priorityLevel;var zt=Nt(A.expirationTime<=it);if(it=n.unstable_now(),typeof zt=="function"){A.callback=zt,rt(it),dt=!0;break e}A===e(f)&&r(f),rt(it)}else r(f);A=e(f)}if(A!==null)dt=!0;else{var J=e(d);J!==null&&At(vt,J.startTime-it),dt=!1}}break t}finally{A=null,T=ht,b=!1}dt=void 0}}finally{dt?D():Dt=!1}}}var D;if(typeof nt=="function")D=function(){nt(x)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,st=O.port2;O.port1.onmessage=x,D=function(){st.postMessage(null)}}else D=function(){k(x,0)};function At(it,dt){G=k(function(){it(n.unstable_now())},dt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(it){it.callback=null},n.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<it?Math.floor(1e3/it):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(it){switch(T){case 1:case 2:case 3:var dt=3;break;default:dt=T}var ht=T;T=dt;try{return it()}finally{T=ht}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function(it,dt){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var ht=T;T=it;try{return dt()}finally{T=ht}},n.unstable_scheduleCallback=function(it,dt,ht){var Nt=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Nt+ht:Nt):ht=Nt,it){case 1:var zt=-1;break;case 2:zt=250;break;case 5:zt=1073741823;break;case 4:zt=1e4;break;default:zt=5e3}return zt=ht+zt,it={id:v++,callback:dt,priorityLevel:it,startTime:ht,expirationTime:zt,sortIndex:-1},ht>Nt?(it.sortIndex=ht,t(d,it),e(f)===null&&it===e(d)&&(j?($(G),G=-1):j=!0,At(vt,ht-Nt))):(it.sortIndex=zt,t(f,it),M||b||(M=!0,Dt||(Dt=!0,D()))),it},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(it){var dt=T;return function(){var ht=T;T=dt;try{return it.apply(this,arguments)}finally{T=ht}}}})(fg)),fg}var yv;function NS(){return yv||(yv=1,hg.exports=TS()),hg.exports}var dg={exports:{}},pa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function xS(){if(vv)return pa;vv=1;var n=U0();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:A==null?null:""+A,children:f,containerInfo:d,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return pa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pa.createPortal=function(f,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,v)},pa.flushSync=function(f){var d=u.T,v=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=v,r.d.f()}},pa.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},pa.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},pa.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var v=d.as,A=h(v,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:A,integrity:T,fetchPriority:b}):v==="script"&&r.d.X(f,{crossOrigin:A,integrity:T,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},pa.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=h(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},pa.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,A=h(v,d.crossOrigin);r.d.L(f,v,{crossOrigin:A,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},pa.preloadModule=function(f,d){if(typeof f=="string")if(d){var v=h(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},pa.requestFormReset=function(f){r.d.r(f)},pa.unstable_batchedUpdates=function(f,d){return f(d)},pa.useFormState=function(f,d,v){return u.H.useFormState(f,d,v)},pa.useFormStatus=function(){return u.H.useHostTransitionStatus()},pa.version="19.2.0",pa}var _v;function CS(){if(_v)return dg.exports;_v=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),dg.exports=xS(),dg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function RS(){if(bv)return Pf;bv=1;var n=NS(),t=U0(),e=CS();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var g=l.return;if(g===null)break;var _=g.alternate;if(_===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===l)return f(g),i;if(_===c)return f(g),a;_=_.sibling}throw Error(r(188))}if(l.return!==c.return)l=g,c=_;else{for(var C=!1,H=g.child;H;){if(H===l){C=!0,l=g,c=_;break}if(H===c){C=!0,c=g,l=_;break}H=H.sibling}if(!C){for(H=_.child;H;){if(H===l){C=!0,l=_,c=g;break}if(H===c){C=!0,c=_,l=g;break}H=H.sibling}if(!C)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function v(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=v(i),a!==null)return a;i=i.sibling}return null}var A=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=x&&i[x]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function st(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case k:return"Profiler";case P:return"StrictMode";case vt:return"Suspense";case Dt:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case nt:return i.displayName||"Context";case $:return(i._context.displayName||"Context")+".Consumer";case rt:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return a=i.displayName||null,a!==null?a:st(i.type)||"Memo";case U:a=i._payload,i=i._init;try{return st(i(a))}catch{}}return null}var At=Array.isArray,it=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Nt=[],zt=-1;function J(i){return{current:i}}function L(i){0>zt||(i.current=Nt[zt],Nt[zt]=null,zt--)}function Y(i,a){zt++,Nt[zt]=i.current,i.current=a}var X=J(null),ot=J(null),ct=J(null),gt=J(null);function It(i,a){switch(Y(ct,a),Y(ot,i),Y(X,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?P5(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=P5(a),i=M5(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}L(X),Y(X,i)}function St(){L(X),L(ot),L(ct)}function jt(i){i.memoizedState!==null&&Y(gt,i);var a=X.current,l=M5(a,i.type);a!==l&&(Y(ot,i),Y(X,l))}function Xt(i){ot.current===i&&(L(X),L(ot)),gt.current===i&&(L(gt),If._currentValue=ht)}var ne,re;function Ot(i){if(ne===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ne=a&&a[1]||"",re=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+i+re}var at=!1;function Xe(i,a){if(!i||at)return"";at=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var Yt=function(){throw Error()};if(Object.defineProperty(Yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Yt,[])}catch(kt){var Lt=kt}Reflect.construct(i,[],Yt)}else{try{Yt.call()}catch(kt){Lt=kt}i.call(Yt.prototype)}}else{try{throw Error()}catch(kt){Lt=kt}(Yt=i())&&typeof Yt.catch=="function"&&Yt.catch(function(){})}}catch(kt){if(kt&&Lt&&typeof kt.stack=="string")return[kt.stack,Lt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),C=_[0],H=_[1];if(C&&H){var lt=C.split(`
`),Rt=H.split(`
`);for(g=c=0;c<lt.length&&!lt[c].includes("DetermineComponentFrameRoot");)c++;for(;g<Rt.length&&!Rt[g].includes("DetermineComponentFrameRoot");)g++;if(c===lt.length||g===Rt.length)for(c=lt.length-1,g=Rt.length-1;1<=c&&0<=g&&lt[c]!==Rt[g];)g--;for(;1<=c&&0<=g;c--,g--)if(lt[c]!==Rt[g]){if(c!==1||g!==1)do if(c--,g--,0>g||lt[c]!==Rt[g]){var Bt=`
`+lt[c].replace(" at new "," at ");return i.displayName&&Bt.includes("<anonymous>")&&(Bt=Bt.replace("<anonymous>",i.displayName)),Bt}while(1<=c&&0<=g);break}}}finally{at=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Ot(l):""}function qe(i,a){switch(i.tag){case 26:case 27:case 5:return Ot(i.type);case 16:return Ot("Lazy");case 13:return i.child!==a&&a!==null?Ot("Suspense Fallback"):Ot("Suspense");case 19:return Ot("SuspenseList");case 0:case 15:return Xe(i.type,!1);case 11:return Xe(i.type.render,!1);case 1:return Xe(i.type,!0);case 31:return Ot("Activity");default:return""}}function we(i){try{var a="",l=null;do a+=qe(i,l),l=i,i=i.return;while(i);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Wt=Object.prototype.hasOwnProperty,ie=n.unstable_scheduleCallback,ee=n.unstable_cancelCallback,Qe=n.unstable_shouldYield,_e=n.unstable_requestPaint,Ge=n.unstable_now,Pe=n.unstable_getCurrentPriorityLevel,Ve=n.unstable_ImmediatePriority,Sn=n.unstable_UserBlockingPriority,Me=n.unstable_NormalPriority,be=n.unstable_LowPriority,ke=n.unstable_IdlePriority,ye=n.log,Un=n.unstable_setDisableYieldValue,nn=null,ae=null;function Se(i){if(typeof ye=="function"&&Un(i),ae&&typeof ae.setStrictMode=="function")try{ae.setStrictMode(nn,i)}catch{}}var Be=Math.clz32?Math.clz32:ze,xe=Math.log,an=Math.LN2;function ze(i){return i>>>=0,i===0?32:31-(xe(i)/an|0)|0}var Ln=256,sr=262144,He=4194304;function Te(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function sn(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var g=0,_=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var H=c&134217727;return H!==0?(c=H&~_,c!==0?g=Te(c):(C&=H,C!==0?g=Te(C):l||(l=H&~i,l!==0&&(g=Te(l))))):(H=c&~_,H!==0?g=Te(H):C!==0?g=Te(C):l||(l=c&~i,l!==0&&(g=Te(l)))),g===0?0:a!==0&&a!==g&&(a&_)===0&&(_=g&-g,l=a&-a,_>=l||_===32&&(l&4194048)!==0)?a:g}function pi(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function ii(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ua(){var i=He;return He<<=1,(He&62914560)===0&&(He=4194304),i}function Wr(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Ae(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ss(i,a,l,c,g,_){var C=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var H=i.entanglements,lt=i.expirationTimes,Rt=i.hiddenUpdates;for(l=C&~l;0<l;){var Bt=31-Be(l),Yt=1<<Bt;H[Bt]=0,lt[Bt]=-1;var Lt=Rt[Bt];if(Lt!==null)for(Rt[Bt]=null,Bt=0;Bt<Lt.length;Bt++){var kt=Lt[Bt];kt!==null&&(kt.lane&=-536870913)}l&=~Yt}c!==0&&Yi(i,c,0),_!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=_&~(C&~a))}function Yi(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-Be(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&261930}function Ci(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-Be(l),g=1<<c;g&a|i[c]&a&&(i[c]|=a),l&=~g}}function Ri(i,a){var l=a&-a;return l=(l&42)!==0?1:qn(l),(l&(i.suspendedLanes|a))!==0?0:l}function qn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Jn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Mr(){var i=dt.p;return i!==0?i:(i=window.event,i===void 0?32:av(i.type))}function mi(i,a){var l=dt.p;try{return dt.p=i,a()}finally{dt.p=l}}var ai=Math.random().toString(36).slice(2),Dn="__reactFiber$"+ai,Gn="__reactProps$"+ai,Ur="__reactContainer$"+ai,Ii="__reactEvents$"+ai,la="__reactListeners$"+ai,Es="__reactHandles$"+ai,Ea="__reactResources$"+ai,Li="__reactMarker$"+ai;function os(i){delete i[Dn],delete i[Gn],delete i[Ii],delete i[la],delete i[Es]}function Wi(i){var a=i[Dn];if(a)return a;for(var l=i.parentNode;l;){if(a=l[Ur]||l[Dn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=z5(i);i!==null;){if(l=i[Dn])return l;i=z5(i)}return a}i=l,l=i.parentNode}return null}function gi(i){if(i=i[Dn]||i[Ur]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Ki(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function ua(i){var a=i[Ea];return a||(a=i[Ea]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function fr(i){i[Li]=!0}var _o=new Set,Di={};function ca(i,a){Sa(i,a),Sa(i+"Capture",a)}function Sa(i,a){for(Di[i]=a,i=0;i<a.length;i++)_o.add(a[i])}var Hs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},wo={};function ol(i){return Wt.call(wo,i)?!0:Wt.call(bo,i)?!1:Hs.test(i)?wo[i]=!0:(bo[i]=!0,!1)}function ls(i,a,l){if(ol(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function Qi(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function on(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}function Tr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function us(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ta(i,a,l){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,_=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return g.call(this)},set:function(C){l=""+C,_.call(this,C)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(C){l=""+C},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function fn(i){if(!i._valueTracker){var a=us(i)?"checked":"value";i._valueTracker=Ta(i,a,""+i[a])}}function yi(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=us(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function ki(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Yn=/[\n"\\]/g;function si(i){return i.replace(Yn,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ao(i,a,l,c,g,_,C,H){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),a!=null?C==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Tr(a)):i.value!==""+Tr(a)&&(i.value=""+Tr(a)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),a!=null?ll(i,C,Tr(a)):l!=null?ll(i,C,Tr(l)):c!=null&&i.removeAttribute("value"),g==null&&_!=null&&(i.defaultChecked=!!_),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?i.name=""+Tr(H):i.removeAttribute("name")}function Ql(i,a,l,c,g,_,C,H){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),a!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||a!=null)){fn(i);return}l=l!=null?""+Tr(l):"",a=a!=null?""+Tr(a):l,H||a===i.value||(i.value=a),i.defaultValue=a}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=H?i.checked:!!c,i.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C),fn(i)}function ll(i,a,l){a==="number"&&ki(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function vi(i,a,l,c){if(i=i.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=a.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Tr(l),a=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,c&&(i[g].defaultSelected=!0);return}a!==null||i[g].disabled||(a=i[g])}a!==null&&(a.selected=!0)}}function ul(i,a,l){if(a!=null&&(a=""+Tr(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+Tr(l):""}function cs(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(At(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Tr(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c),fn(i)}function Nr(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Eo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cl(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||Eo.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function hl(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var g in a)c=a[g],a.hasOwnProperty(g)&&l[g]!==c&&cl(i,g,c)}else for(var _ in a)a.hasOwnProperty(_)&&cl(i,_,a[_])}function So(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var To=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ha=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(i){return ha.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function xa(){}var hs=null;function Oi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var De=null,Va=null;function Gs(i){var a=gi(i);if(a&&(i=a.stateNode)){var l=i[Gn]||null;t:switch(i=a.stateNode,a.type){case"input":if(Ao(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+si(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var g=c[Gn]||null;if(!g)throw Error(r(90));Ao(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&yi(c)}break t;case"textarea":ul(i,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&vi(i,!!l.multiple,a,!1)}}}var No=!1;function Ss(i,a,l){if(No)return i(a,l);No=!0;try{var c=i(a);return c}finally{if(No=!1,(De!==null||Va!==null)&&(Zd(),De&&(a=De,i=Va,Va=De=null,Gs(a),i)))for(a=0;a<i.length;a++)Gs(i[a])}}function Kr(i,a){var l=i.stateNode;if(l===null)return null;var c=l[Gn]||null;if(c===null)return null;l=c[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ys=!1;if(Vr)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){Ys=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{Ys=!1}var $i=null,Ws=null,Ca=null;function Ts(){if(Ca)return Ca;var i,a=Ws,l=a.length,c,g="value"in $i?$i.value:$i.textContent,_=g.length;for(i=0;i<l&&a[i]===g[i];i++);var C=l-i;for(c=1;c<=C&&a[l-c]===g[_-c];c++);return Ca=g.slice(i,1<c?1-c:void 0)}function Ba(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function fs(){return!0}function Xi(){return!1}function xr(i){function a(l,c,g,_,C){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=_,this.target=C,this.currentTarget=null;for(var H in i)i.hasOwnProperty(H)&&(l=i[H],this[H]=l?l(_):_[H]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?fs:Xi,this.isPropagationStopped=Xi,this}return A(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),a}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=xr(Ji),ja=A({},Ji,{view:0,detail:0}),Ns=xr(ja),Fa,qa,Ra,Ks=A({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ce,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ra&&(Ra&&i.type==="mousemove"?(Fa=i.screenX-Ra.screenX,qa=i.screenY-Ra.screenY):qa=Fa=0,Ra=i),Fa)},movementY:function(i){return"movementY"in i?i.movementY:qa}}),Ia=xr(Ks),Zi=A({},Ks,{dataTransfer:0}),fl=xr(Zi),dl=A({},ja,{relatedTarget:0}),La=xr(dl),xo=A({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),w=xr(xo),V=A({},Ji,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),tt=xr(V),ut=A({},Ji,{data:0}),yt=xr(ut),Ut={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$t={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ue={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function de(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=ue[i])?!!a[i]:!1}function Ce(){return de}var ve=A({},ja,{key:function(i){if(i.key){var a=Ut[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ba(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?$t[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ce,charCode:function(i){return i.type==="keypress"?Ba(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ba(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),gn=xr(ve),Zn=A({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zn=xr(Zn),m=A({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ce}),S=xr(m),R=A({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),K=xr(R),bt=A({},Ks,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ct=xr(bt),Zt=A({},Ji,{newState:0,oldState:0}),je=xr(Zt),Wn=[9,13,27,32],un=Vr&&"CompositionEvent"in window,On=null;Vr&&"documentMode"in document&&(On=document.documentMode);var oi=Vr&&"TextEvent"in window&&!On,Mi=Vr&&(!un||On&&8<On&&11>=On),tr=" ",_i=!1;function Da(i,a){switch(i){case"keyup":return Wn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xs(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Cs=!1;function _r(i,a){switch(i){case"compositionend":return xs(a);case"keypress":return a.which!==32?null:(_i=!0,tr);case"textInput":return i=a.data,i===tr&&_i?null:i;default:return null}}function Qs(i,a){if(Cs)return i==="compositionend"||!un&&Da(i,a)?(i=Ts(),Ca=Ws=$i=null,Cs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Mi&&a.locale!=="ko"?null:a.data;default:return null}}var $l={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wu(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!$l[i.type]:a==="textarea"}function ka(i,a,l,c){De?Va?Va.push(c):Va=[c]:De=c,a=sp(a,"onChange"),0<a.length&&(l=new Pi("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var ds=null,$s=null;function Ku(i){R5(i,0)}function ps(i){var a=Ki(i);if(yi(a))return i}function Co(i,a){if(i==="change")return a}var fa=!1;if(Vr){var ta;if(Vr){var Rs="oninput"in document;if(!Rs){var Is=document.createElement("div");Is.setAttribute("oninput","return;"),Rs=typeof Is.oninput=="function"}ta=Rs}else ta=!1;fa=ta&&(!document.documentMode||9<document.documentMode)}function Xs(){ds&&(ds.detachEvent("onpropertychange",Xl),$s=ds=null)}function Xl(i){if(i.propertyName==="value"&&ps($s)){var a=[];ka(a,$s,i,Oi(i)),Ss(Ku,a)}}function Jl(i,a,l){i==="focusin"?(Xs(),ds=a,$s=l,ds.attachEvent("onpropertychange",Xl)):i==="focusout"&&Xs()}function Cr(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ps($s)}function kc(i,a){if(i==="click")return ps(a)}function Ls(i,a){if(i==="input"||i==="change")return ps(a)}function Ds(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var bi=typeof Object.is=="function"?Object.is:Ds;function Js(i,a){if(bi(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!Wt.call(a,g)||!bi(i[g],a[g]))return!1}return!0}function Zl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function tu(i,a){var l=Zl(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Zl(l)}}function Zs(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Zs(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function to(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=ki(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=ki(i.document)}return a}function ks(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var pl=Vr&&"documentMode"in document&&11>=document.documentMode,Oa=null,eo=null,Ui=null,za=!1;function Rn(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;za||Oa==null||Oa!==ki(c)||(c=Oa,"selectionStart"in c&&ks(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ui&&Js(Ui,c)||(Ui=c,c=sp(eo,"onSelect"),0<c.length&&(a=new Pi("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=Oa)))}function An(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var er={animationend:An("Animation","AnimationEnd"),animationiteration:An("Animation","AnimationIteration"),animationstart:An("Animation","AnimationStart"),transitionrun:An("Transition","TransitionRun"),transitionstart:An("Transition","TransitionStart"),transitioncancel:An("Transition","TransitionCancel"),transitionend:An("Transition","TransitionEnd")},Rr={},Os={};Vr&&(Os=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function ms(i){if(Rr[i])return Rr[i];if(!er[i])return i;var a=er[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in Os)return Rr[i]=a[l];return i}var ml=ms("animationend"),Qu=ms("animationiteration"),Jh=ms("animationstart"),Rd=ms("transitionrun"),Id=ms("transitionstart"),Ld=ms("transitioncancel"),Zh=ms("transitionend"),tf=new Map,gl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gl.push("scrollEnd");function Ha(i,a){tf.set(i,a),ca(a,[i])}var $u=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Pa=[],yl=0,Oc=0;function Xu(){for(var i=yl,a=Oc=yl=0;a<i;){var l=Pa[a];Pa[a++]=null;var c=Pa[a];Pa[a++]=null;var g=Pa[a];Pa[a++]=null;var _=Pa[a];if(Pa[a++]=null,c!==null&&g!==null){var C=c.pending;C===null?g.next=g:(g.next=C.next,C.next=g),c.pending=g}_!==0&&Zu(l,g,_)}}function Ju(i,a,l,c){Pa[yl++]=i,Pa[yl++]=a,Pa[yl++]=l,Pa[yl++]=c,Oc|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Pc(i,a,l,c){return Ju(i,a,l,c),Vi(i)}function no(i,a){return Ju(i,null,null,a),Vi(i)}function Zu(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var g=!1,_=i.return;_!==null;)_.childLanes|=l,c=_.alternate,c!==null&&(c.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(g=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,g&&a!==null&&(g=31-Be(l),i=_.hiddenUpdates,c=i[g],c===null?i[g]=[a]:c.push(a),a.lane=l|536870912),_):null}function Vi(i){if(50<Ef)throw Ef=0,D1=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var wi={};function Mc(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bi(i,a,l,c){return new Mc(i,a,l,c)}function Uc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ga(i,a){var l=i.alternate;return l===null?(l=Bi(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function tc(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function eu(i,a,l,c,g,_){var C=0;if(c=i,typeof i=="function")Uc(i)&&(C=1);else if(typeof i=="string")C=cS(i,l,X.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Bi(31,l,a,g),i.elementType=I,i.lanes=_,i;case j:return Ro(l.children,g,_,a);case P:C=8,g|=24;break;case k:return i=Bi(12,l,a,g|2),i.elementType=k,i.lanes=_,i;case vt:return i=Bi(13,l,a,g),i.elementType=vt,i.lanes=_,i;case Dt:return i=Bi(19,l,a,g),i.elementType=Dt,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case nt:C=10;break t;case $:C=9;break t;case rt:C=11;break t;case G:C=14;break t;case U:C=16,c=null;break t}C=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=Bi(C,l,a,g),a.elementType=i,a.type=c,a.lanes=_,a}function Ro(i,a,l,c){return i=Bi(7,i,c,a),i.lanes=l,i}function ec(i,a,l){return i=Bi(6,i,null,a),i.lanes=l,i}function Vc(i){var a=Bi(18,null,null,0);return a.stateNode=i,a}function nu(i,a,l){return a=Bi(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Bc=new WeakMap;function Ya(i,a){if(typeof i=="object"&&i!==null){var l=Bc.get(i);return l!==void 0?l:(a={value:i,source:a,stack:we(a)},Bc.set(i,a),a)}return{value:i,source:a,stack:we(a)}}var ru=[],vl=0,jc=null,nc=0,Wa=[],Ka=0,Io=null,Qa=1,$a="";function Ma(i,a){ru[vl++]=nc,ru[vl++]=jc,jc=i,nc=a}function Dd(i,a,l){Wa[Ka++]=Qa,Wa[Ka++]=$a,Wa[Ka++]=Io,Io=i;var c=Qa;i=$a;var g=32-Be(c)-1;c&=~(1<<g),l+=1;var _=32-Be(a)+g;if(30<_){var C=g-g%5;_=(c&(1<<C)-1).toString(32),c>>=C,g-=C,Qa=1<<32-Be(a)+g|l<<g|c,$a=_+i}else Qa=1<<_|l<<g|c,$a=i}function ef(i){i.return!==null&&(Ma(i,1),Dd(i,1,0))}function Fc(i){for(;i===jc;)jc=ru[--vl],ru[vl]=null,nc=ru[--vl],ru[vl]=null;for(;i===Io;)Io=Wa[--Ka],Wa[Ka]=null,$a=Wa[--Ka],Wa[Ka]=null,Qa=Wa[--Ka],Wa[Ka]=null}function kd(i,a){Wa[Ka++]=Qa,Wa[Ka++]=$a,Wa[Ka++]=Io,Qa=a.id,$a=a.overflow,Io=i}var Ai=null,or=null,dn=!1,ea=null,br=!1,gs=Error(r(519));function Lo(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw iu(Ya(a,i)),gs}function nf(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[Dn]=i,a[Gn]=c,l){case"dialog":mn("cancel",a),mn("close",a);break;case"iframe":case"object":case"embed":mn("load",a);break;case"video":case"audio":for(l=0;l<Tf.length;l++)mn(Tf[l],a);break;case"source":mn("error",a);break;case"img":case"image":case"link":mn("error",a),mn("load",a);break;case"details":mn("toggle",a);break;case"input":mn("invalid",a),Ql(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":mn("invalid",a);break;case"textarea":mn("invalid",a),cs(a,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||k5(a.textContent,l)?(c.popover!=null&&(mn("beforetoggle",a),mn("toggle",a)),c.onScroll!=null&&mn("scroll",a),c.onScrollEnd!=null&&mn("scrollend",a),c.onClick!=null&&(a.onclick=xa),a=!0):a=!1,a||Lo(i,!0)}function ro(i){for(Ai=i.return;Ai;)switch(Ai.tag){case 5:case 31:case 13:br=!1;return;case 27:case 3:br=!0;return;default:Ai=Ai.return}}function Ei(i){if(i!==Ai)return!1;if(!dn)return ro(i),dn=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||W1(i.type,i.memoizedProps)),l=!l),l&&or&&Lo(i),ro(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));or=q5(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));or=q5(i)}else a===27?(a=or,vu(i.type)?(i=J1,J1=null,or=i):or=a):or=Ai?Vs(i.stateNode.nextSibling):null;return!0}function _l(){or=Ai=null,dn=!1}function rf(){var i=ea;return i!==null&&(ns===null?ns=i:ns.push.apply(ns,i),ea=null),i}function iu(i){ea===null?ea=[i]:ea.push(i)}var qc=J(null),Do=null,Ps=null;function ko(i,a,l){Y(qc,a._currentValue),a._currentValue=l}function Xa(i){i._currentValue=qc.current,L(qc)}function au(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function bl(i,a,l,c){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var _=g.dependencies;if(_!==null){var C=g.child;_=_.firstContext;t:for(;_!==null;){var H=_;_=g;for(var lt=0;lt<a.length;lt++)if(H.context===a[lt]){_.lanes|=l,H=_.alternate,H!==null&&(H.lanes|=l),au(_.return,l,i),c||(C=null);break t}_=H.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(r(341));C.lanes|=l,_=C.alternate,_!==null&&(_.lanes|=l),au(C,l,i),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===i){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function Oo(i,a,l,c){i=null;for(var g=a,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var H=g.type;bi(g.pendingProps.value,C.value)||(i!==null?i.push(H):i=[H])}}else if(g===gt.current){if(C=g.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(If):i=[If])}g=g.return}i!==null&&bl(a,i,l,c),a.flags|=262144}function zc(i){for(i=i.firstContext;i!==null;){if(!bi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Po(i){Do=i,Ps=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Si(i){return Od(Do,i)}function Hc(i,a){return Do===null&&Po(i),Od(i,a)}function Od(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ps===null){if(i===null)throw Error(r(308));Ps=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Ps=Ps.next=a;return l}var Xm=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},Jm=n.unstable_scheduleCallback,Zm=n.unstable_NormalPriority,Ir={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function su(){return{controller:new Xm,data:new Map,refCount:0}}function rc(i){i.refCount--,i.refCount===0&&Jm(Zm,function(){i.controller.abort()})}var ic=null,Gc=0,p=0,y=null;function E(i,a){if(ic===null){var l=ic=[];Gc=0,p=V1(),y={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Gc++,a.then(N,N),a}function N(){if(--Gc===0&&ic!==null){y!==null&&(y.status="fulfilled");var i=ic;ic=null,p=0,y=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function B(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var F=it.S;it.S=function(i,a){r5=Ge(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&E(i,a),F!==null&&F(i,a)};var q=J(null);function W(){var i=q.current;return i!==null?i:ur.pooledCache}function Q(i,a){a===null?Y(q,q.current):Y(q,a.pool)}function et(){var i=W();return i===null?null:{parent:Ir._currentValue,pool:i}}var ft=Error(r(460)),Tt=Error(r(474)),Z=Error(r(542)),mt={then:function(){}};function wt(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Mt(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(xa,xa),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Jt(i),i;default:if(typeof a.status=="string")a.then(xa,xa);else{if(i=ur,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=c}},function(c){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Jt(i),i}throw Pt=a,ft}}function Et(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Pt=l,ft):l}}var Pt=null;function Ft(){if(Pt===null)throw Error(r(459));var i=Pt;return Pt=null,i}function Jt(i){if(i===ft||i===Z)throw Error(r(483))}var Kt=null,pe=0;function oe(i){var a=pe;return pe+=1,Kt===null&&(Kt=[]),Mt(Kt,i,a)}function Ye(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function he(i,a){throw a.$$typeof===T?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function hn(i){function a(_t,pt){if(i){var xt=_t.deletions;xt===null?(_t.deletions=[pt],_t.flags|=16):xt.push(pt)}}function l(_t,pt){if(!i)return null;for(;pt!==null;)a(_t,pt),pt=pt.sibling;return null}function c(_t){for(var pt=new Map;_t!==null;)_t.key!==null?pt.set(_t.key,_t):pt.set(_t.index,_t),_t=_t.sibling;return pt}function g(_t,pt){return _t=Ga(_t,pt),_t.index=0,_t.sibling=null,_t}function _(_t,pt,xt){return _t.index=xt,i?(xt=_t.alternate,xt!==null?(xt=xt.index,xt<pt?(_t.flags|=67108866,pt):xt):(_t.flags|=67108866,pt)):(_t.flags|=1048576,pt)}function C(_t){return i&&_t.alternate===null&&(_t.flags|=67108866),_t}function H(_t,pt,xt,qt){return pt===null||pt.tag!==6?(pt=ec(xt,_t.mode,qt),pt.return=_t,pt):(pt=g(pt,xt),pt.return=_t,pt)}function lt(_t,pt,xt,qt){var Ie=xt.type;return Ie===j?Bt(_t,pt,xt.props.children,qt,xt.key):pt!==null&&(pt.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===U&&Et(Ie)===pt.type)?(pt=g(pt,xt.props),Ye(pt,xt),pt.return=_t,pt):(pt=eu(xt.type,xt.key,xt.props,null,_t.mode,qt),Ye(pt,xt),pt.return=_t,pt)}function Rt(_t,pt,xt,qt){return pt===null||pt.tag!==4||pt.stateNode.containerInfo!==xt.containerInfo||pt.stateNode.implementation!==xt.implementation?(pt=nu(xt,_t.mode,qt),pt.return=_t,pt):(pt=g(pt,xt.children||[]),pt.return=_t,pt)}function Bt(_t,pt,xt,qt,Ie){return pt===null||pt.tag!==7?(pt=Ro(xt,_t.mode,qt,Ie),pt.return=_t,pt):(pt=g(pt,xt),pt.return=_t,pt)}function Yt(_t,pt,xt){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return pt=ec(""+pt,_t.mode,xt),pt.return=_t,pt;if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case b:return xt=eu(pt.type,pt.key,pt.props,null,_t.mode,xt),Ye(xt,pt),xt.return=_t,xt;case M:return pt=nu(pt,_t.mode,xt),pt.return=_t,pt;case U:return pt=Et(pt),Yt(_t,pt,xt)}if(At(pt)||D(pt))return pt=Ro(pt,_t.mode,xt,null),pt.return=_t,pt;if(typeof pt.then=="function")return Yt(_t,oe(pt),xt);if(pt.$$typeof===nt)return Yt(_t,Hc(_t,pt),xt);he(_t,pt)}return null}function Lt(_t,pt,xt,qt){var Ie=pt!==null?pt.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return Ie!==null?null:H(_t,pt,""+xt,qt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case b:return xt.key===Ie?lt(_t,pt,xt,qt):null;case M:return xt.key===Ie?Rt(_t,pt,xt,qt):null;case U:return xt=Et(xt),Lt(_t,pt,xt,qt)}if(At(xt)||D(xt))return Ie!==null?null:Bt(_t,pt,xt,qt,null);if(typeof xt.then=="function")return Lt(_t,pt,oe(xt),qt);if(xt.$$typeof===nt)return Lt(_t,pt,Hc(_t,xt),qt);he(_t,xt)}return null}function kt(_t,pt,xt,qt,Ie){if(typeof qt=="string"&&qt!==""||typeof qt=="number"||typeof qt=="bigint")return _t=_t.get(xt)||null,H(pt,_t,""+qt,Ie);if(typeof qt=="object"&&qt!==null){switch(qt.$$typeof){case b:return _t=_t.get(qt.key===null?xt:qt.key)||null,lt(pt,_t,qt,Ie);case M:return _t=_t.get(qt.key===null?xt:qt.key)||null,Rt(pt,_t,qt,Ie);case U:return qt=Et(qt),kt(_t,pt,xt,qt,Ie)}if(At(qt)||D(qt))return _t=_t.get(xt)||null,Bt(pt,_t,qt,Ie,null);if(typeof qt.then=="function")return kt(_t,pt,xt,oe(qt),Ie);if(qt.$$typeof===nt)return kt(_t,pt,xt,Hc(pt,qt),Ie);he(pt,qt)}return null}function fe(_t,pt,xt,qt){for(var Ie=null,Pn=null,ge=pt,ln=pt=0,vn=null;ge!==null&&ln<xt.length;ln++){ge.index>ln?(vn=ge,ge=null):vn=ge.sibling;var Mn=Lt(_t,ge,xt[ln],qt);if(Mn===null){ge===null&&(ge=vn);break}i&&ge&&Mn.alternate===null&&a(_t,ge),pt=_(Mn,pt,ln),Pn===null?Ie=Mn:Pn.sibling=Mn,Pn=Mn,ge=vn}if(ln===xt.length)return l(_t,ge),dn&&Ma(_t,ln),Ie;if(ge===null){for(;ln<xt.length;ln++)ge=Yt(_t,xt[ln],qt),ge!==null&&(pt=_(ge,pt,ln),Pn===null?Ie=ge:Pn.sibling=ge,Pn=ge);return dn&&Ma(_t,ln),Ie}for(ge=c(ge);ln<xt.length;ln++)vn=kt(ge,_t,ln,xt[ln],qt),vn!==null&&(i&&vn.alternate!==null&&ge.delete(vn.key===null?ln:vn.key),pt=_(vn,pt,ln),Pn===null?Ie=vn:Pn.sibling=vn,Pn=vn);return i&&ge.forEach(function(Eu){return a(_t,Eu)}),dn&&Ma(_t,ln),Ie}function Ue(_t,pt,xt,qt){if(xt==null)throw Error(r(151));for(var Ie=null,Pn=null,ge=pt,ln=pt=0,vn=null,Mn=xt.next();ge!==null&&!Mn.done;ln++,Mn=xt.next()){ge.index>ln?(vn=ge,ge=null):vn=ge.sibling;var Eu=Lt(_t,ge,Mn.value,qt);if(Eu===null){ge===null&&(ge=vn);break}i&&ge&&Eu.alternate===null&&a(_t,ge),pt=_(Eu,pt,ln),Pn===null?Ie=Eu:Pn.sibling=Eu,Pn=Eu,ge=vn}if(Mn.done)return l(_t,ge),dn&&Ma(_t,ln),Ie;if(ge===null){for(;!Mn.done;ln++,Mn=xt.next())Mn=Yt(_t,Mn.value,qt),Mn!==null&&(pt=_(Mn,pt,ln),Pn===null?Ie=Mn:Pn.sibling=Mn,Pn=Mn);return dn&&Ma(_t,ln),Ie}for(ge=c(ge);!Mn.done;ln++,Mn=xt.next())Mn=kt(ge,_t,ln,Mn.value,qt),Mn!==null&&(i&&Mn.alternate!==null&&ge.delete(Mn.key===null?ln:Mn.key),pt=_(Mn,pt,ln),Pn===null?Ie=Mn:Pn.sibling=Mn,Pn=Mn);return i&&ge.forEach(function(wS){return a(_t,wS)}),dn&&Ma(_t,ln),Ie}function ar(_t,pt,xt,qt){if(typeof xt=="object"&&xt!==null&&xt.type===j&&xt.key===null&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case b:t:{for(var Ie=xt.key;pt!==null;){if(pt.key===Ie){if(Ie=xt.type,Ie===j){if(pt.tag===7){l(_t,pt.sibling),qt=g(pt,xt.props.children),qt.return=_t,_t=qt;break t}}else if(pt.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===U&&Et(Ie)===pt.type){l(_t,pt.sibling),qt=g(pt,xt.props),Ye(qt,xt),qt.return=_t,_t=qt;break t}l(_t,pt);break}else a(_t,pt);pt=pt.sibling}xt.type===j?(qt=Ro(xt.props.children,_t.mode,qt,xt.key),qt.return=_t,_t=qt):(qt=eu(xt.type,xt.key,xt.props,null,_t.mode,qt),Ye(qt,xt),qt.return=_t,_t=qt)}return C(_t);case M:t:{for(Ie=xt.key;pt!==null;){if(pt.key===Ie)if(pt.tag===4&&pt.stateNode.containerInfo===xt.containerInfo&&pt.stateNode.implementation===xt.implementation){l(_t,pt.sibling),qt=g(pt,xt.children||[]),qt.return=_t,_t=qt;break t}else{l(_t,pt);break}else a(_t,pt);pt=pt.sibling}qt=nu(xt,_t.mode,qt),qt.return=_t,_t=qt}return C(_t);case U:return xt=Et(xt),ar(_t,pt,xt,qt)}if(At(xt))return fe(_t,pt,xt,qt);if(D(xt)){if(Ie=D(xt),typeof Ie!="function")throw Error(r(150));return xt=Ie.call(xt),Ue(_t,pt,xt,qt)}if(typeof xt.then=="function")return ar(_t,pt,oe(xt),qt);if(xt.$$typeof===nt)return ar(_t,pt,Hc(_t,xt),qt);he(_t,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint"?(xt=""+xt,pt!==null&&pt.tag===6?(l(_t,pt.sibling),qt=g(pt,xt),qt.return=_t,_t=qt):(l(_t,pt),qt=ec(xt,_t.mode,qt),qt.return=_t,_t=qt),C(_t)):l(_t,pt)}return function(_t,pt,xt,qt){try{pe=0;var Ie=ar(_t,pt,xt,qt);return Kt=null,Ie}catch(ge){if(ge===ft||ge===Z)throw ge;var Pn=Bi(29,ge,null,_t.mode);return Pn.lanes=qt,Pn.return=_t,Pn}finally{}}}var lr=hn(!0),Je=hn(!1),le=!1;function te(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dr(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Oe(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function rn(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(jn&2)!==0){var g=c.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),c.pending=a,a=Vi(i),Zu(i,null,l),a}return Ju(i,c,a,l),Vi(i)}function Vn(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Ci(i,l)}}function Qr(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?g=_=C:_=_.next=C,l=l.next}while(l!==null);_===null?g=_=a:_=_.next=a}else g=_=a;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Ti=!1;function nr(){if(Ti){var i=y;if(i!==null)throw i}}function Br(i,a,l,c){Ti=!1;var g=i.updateQueue;le=!1;var _=g.firstBaseUpdate,C=g.lastBaseUpdate,H=g.shared.pending;if(H!==null){g.shared.pending=null;var lt=H,Rt=lt.next;lt.next=null,C===null?_=Rt:C.next=Rt,C=lt;var Bt=i.alternate;Bt!==null&&(Bt=Bt.updateQueue,H=Bt.lastBaseUpdate,H!==C&&(H===null?Bt.firstBaseUpdate=Rt:H.next=Rt,Bt.lastBaseUpdate=lt))}if(_!==null){var Yt=g.baseState;C=0,Bt=Rt=lt=null,H=_;do{var Lt=H.lane&-536870913,kt=Lt!==H.lane;if(kt?(yn&Lt)===Lt:(c&Lt)===Lt){Lt!==0&&Lt===p&&(Ti=!0),Bt!==null&&(Bt=Bt.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});t:{var fe=i,Ue=H;Lt=a;var ar=l;switch(Ue.tag){case 1:if(fe=Ue.payload,typeof fe=="function"){Yt=fe.call(ar,Yt,Lt);break t}Yt=fe;break t;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Ue.payload,Lt=typeof fe=="function"?fe.call(ar,Yt,Lt):fe,Lt==null)break t;Yt=A({},Yt,Lt);break t;case 2:le=!0}}Lt=H.callback,Lt!==null&&(i.flags|=64,kt&&(i.flags|=8192),kt=g.callbacks,kt===null?g.callbacks=[Lt]:kt.push(Lt))}else kt={lane:Lt,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Bt===null?(Rt=Bt=kt,lt=Yt):Bt=Bt.next=kt,C|=Lt;if(H=H.next,H===null){if(H=g.shared.pending,H===null)break;kt=H,H=kt.next,kt.next=null,g.lastBaseUpdate=kt,g.shared.pending=null}}while(!0);Bt===null&&(lt=Yt),g.baseState=lt,g.firstBaseUpdate=Rt,g.lastBaseUpdate=Bt,_===null&&(g.shared.lanes=0),du|=C,i.lanes=C,i.memoizedState=Yt}}function ji(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function jr(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)ji(l[i],a)}var cn=J(null),Tn=J(0);function pr(i,a){i=Il,Y(Tn,i),Y(cn,a),Il=i|a.baseLanes}function In(){Y(Tn,Il),Y(cn,cn.current)}function $r(){Il=Tn.current,L(cn),L(Tn)}var mr=J(null),Nn=null;function Lr(i){var a=i.alternate;Y(En,En.current&1),Y(mr,i),Nn===null&&(a===null||cn.current!==null||a.memoizedState!==null)&&(Nn=i)}function Bn(i){Y(En,En.current),Y(mr,i),Nn===null&&(Nn=i)}function Fr(i){i.tag===22?(Y(En,En.current),Y(mr,i),Nn===null&&(Nn=i)):qr()}function qr(){Y(En,En.current),Y(mr,mr.current)}function Kn(i){L(mr),Nn===i&&(Nn=null),L(En)}var En=J(0);function Fi(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||$1(l)||X1(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var wr=0,Ne=null,Re=null,xn=null,da=!1,Ja=!1,na=!1,zr=0,Mo=0,Uo=null,Yc=0;function rr(){throw Error(r(321))}function af(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!bi(i[l],a[l]))return!1;return!0}function sf(i,a,l,c,g,_){return wr=_,Ne=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,it.H=i===null||i.memoizedState===null?py:o1,na=!1,_=l(c,g),na=!1,Ja&&(_=io(a,l,c,g)),Wc(i),_}function Wc(i){it.H=pf;var a=Re!==null&&Re.next!==null;if(wr=0,xn=Re=Ne=null,da=!1,Mo=0,Uo=null,a)throw Error(r(300));i===null||ui||(i=i.dependencies,i!==null&&zc(i)&&(ui=!0))}function io(i,a,l,c){Ne=i;var g=0;do{if(Ja&&(Uo=null),Mo=0,Ja=!1,25<=g)throw Error(r(301));if(g+=1,xn=Re=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}it.H=my,_=a(l,c)}while(Ja);return _}function t1(){var i=it.H,a=i.useState()[0];return a=typeof a.then=="function"?Vo(a):a,i=i.useState()[0],(Re!==null?Re.memoizedState:null)!==i&&(Ne.flags|=1024),a}function of(){var i=zr!==0;return zr=0,i}function lf(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Kc(i){if(da){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}da=!1}wr=0,xn=Re=Ne=null,Ja=!1,Mo=zr=0,Uo=null}function li(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Ne.memoizedState=xn=i:xn=xn.next=i,xn}function Ar(){if(Re===null){var i=Ne.alternate;i=i!==null?i.memoizedState:null}else i=Re.next;var a=xn===null?Ne.memoizedState:xn.next;if(a!==null)xn=a,Re=i;else{if(i===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));Re=i,i={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},xn===null?Ne.memoizedState=xn=i:xn=xn.next=i}return xn}function ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vo(i){var a=Mo;return Mo+=1,Uo===null&&(Uo=[]),i=Mt(Uo,i,a),a=Ne,(xn===null?a.memoizedState:xn.next)===null&&(a=a.alternate,it.H=a===null||a.memoizedState===null?py:o1),i}function ou(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Vo(i);if(i.$$typeof===nt)return Si(i)}throw Error(r(438,String(i)))}function wl(i){var a=null,l=Ne.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ne.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=ac(),Ne.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=z;return a.index++,l}function Ms(i,a){return typeof a=="function"?a(i):a}function Qc(i){var a=Ar();return lu(a,Re,i)}function lu(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var g=i.baseQueue,_=c.pending;if(_!==null){if(g!==null){var C=g.next;g.next=_.next,_.next=C}a.baseQueue=g=_,c.pending=null}if(_=i.baseState,g===null)i.memoizedState=_;else{a=g.next;var H=C=null,lt=null,Rt=a,Bt=!1;do{var Yt=Rt.lane&-536870913;if(Yt!==Rt.lane?(yn&Yt)===Yt:(wr&Yt)===Yt){var Lt=Rt.revertLane;if(Lt===0)lt!==null&&(lt=lt.next={lane:0,revertLane:0,gesture:null,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null}),Yt===p&&(Bt=!0);else if((wr&Lt)===Lt){Rt=Rt.next,Lt===p&&(Bt=!0);continue}else Yt={lane:0,revertLane:Rt.revertLane,gesture:null,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null},lt===null?(H=lt=Yt,C=_):lt=lt.next=Yt,Ne.lanes|=Lt,du|=Lt;Yt=Rt.action,na&&l(_,Yt),_=Rt.hasEagerState?Rt.eagerState:l(_,Yt)}else Lt={lane:Yt,revertLane:Rt.revertLane,gesture:Rt.gesture,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null},lt===null?(H=lt=Lt,C=_):lt=lt.next=Lt,Ne.lanes|=Yt,du|=Yt;Rt=Rt.next}while(Rt!==null&&Rt!==a);if(lt===null?C=_:lt.next=H,!bi(_,i.memoizedState)&&(ui=!0,Bt&&(l=y,l!==null)))throw l;i.memoizedState=_,i.baseState=C,i.baseQueue=lt,c.lastRenderedState=_}return g===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function $c(i){var a=Ar(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,g=l.pending,_=a.memoizedState;if(g!==null){l.pending=null;var C=g=g.next;do _=i(_,C.action),C=C.next;while(C!==g);bi(_,a.memoizedState)||(ui=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),l.lastRenderedState=_}return[_,c]}function Xc(i,a,l){var c=Ne,g=Ar(),_=dn;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=a();var C=!bi((Re||g).memoizedState,l);if(C&&(g.memoizedState=l,ui=!0),g=g.queue,e1(cf.bind(null,c,g,i),[i]),g.getSnapshot!==a||C||xn!==null&&xn.memoizedState.tag&1){if(c.flags|=2048,El(9,{destroy:void 0},uf.bind(null,c,g,l,a),null),ur===null)throw Error(r(349));_||(wr&127)!==0||ao(c,a,l)}return l}function ao(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Ne.updateQueue,a===null?(a=ac(),Ne.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function uf(i,a,l,c){a.value=l,a.getSnapshot=c,Pd(a)&&hf(i)}function cf(i,a,l){return l(function(){Pd(a)&&hf(i)})}function Pd(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!bi(i,l)}catch{return!0}}function hf(i){var a=no(i,2);a!==null&&rs(a,i,2)}function Bo(i){var a=li();if(typeof i=="function"){var l=i;if(i=l(),na){Se(!0);try{l()}finally{Se(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:i},a}function Md(i,a,l,c){return i.baseState=l,lu(i,Re,typeof c=="function"?c:Ms)}function Ud(i,a,l,c,g){if(Fd(i))throw Error(r(485));if(i=a.action,i!==null){var _={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){_.listeners.push(C)}};it.T!==null?l(!0):_.isTransition=!1,c(_),l=a.pending,l===null?(_.next=a.pending=_,Vd(a,_)):(_.next=l.next,a.pending=l.next=_)}}function Vd(i,a){var l=a.action,c=a.payload,g=i.state;if(a.isTransition){var _=it.T,C={};it.T=C;try{var H=l(g,c),lt=it.S;lt!==null&&lt(C,H),ff(i,a,H)}catch(Rt){Al(i,a,Rt)}finally{_!==null&&C.types!==null&&(_.types=C.types),it.T=_}}else try{_=l(g,c),ff(i,a,_)}catch(Rt){Al(i,a,Rt)}}function ff(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Bd(i,a,c)},function(c){return Al(i,a,c)}):Bd(i,a,l)}function Bd(i,a,l){a.status="fulfilled",a.value=l,Jc(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,Vd(i,l)))}function Al(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,Jc(a),a=a.next;while(a!==c)}i.action=null}function Jc(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function sc(i,a){return a}function Us(i,a){if(dn){var l=ur.formState;if(l!==null){t:{var c=Ne;if(dn){if(or){e:{for(var g=or,_=br;g.nodeType!==8;){if(!_){g=null;break e}if(g=Vs(g.nextSibling),g===null){g=null;break e}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){or=Vs(g.nextSibling),c=g.data==="F!";break t}}Lo(c)}c=!1}c&&(a=l[0])}}return l=li(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sc,lastRenderedState:a},l.queue=c,l=hy.bind(null,Ne,c),c.dispatch=l,c=Bo(!1),_=s1.bind(null,Ne,!1,c.queue),c=li(),g={state:a,dispatch:null,action:i,pending:null},c.queue=g,l=Ud.bind(null,Ne,g,_,l),g.dispatch=l,c.memoizedState=i,[a,l,!1]}function so(i){var a=Ar();return oo(a,Re,i)}function oo(i,a,l){if(a=lu(i,a,sc)[0],i=Qc(Ms)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Vo(a)}catch(C){throw C===ft?Z:C}else c=a;a=Ar();var g=a.queue,_=g.dispatch;return l!==a.memoizedState&&(Ne.flags|=2048,El(9,{destroy:void 0},Zc.bind(null,g,l),null)),[c,_,i]}function Zc(i,a){i.action=a}function th(i){var a=Ar(),l=Re;if(l!==null)return oo(a,l,i);Ar(),a=a.memoizedState,l=Ar();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function El(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=Ne.updateQueue,a===null&&(a=ac(),Ne.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function jd(){return Ar().memoizedState}function uu(i,a,l,c){var g=li();Ne.flags|=i,g.memoizedState=El(1|a,{destroy:void 0},l,c===void 0?null:c)}function cu(i,a,l,c){var g=Ar();c=c===void 0?null:c;var _=g.memoizedState.inst;Re!==null&&c!==null&&af(c,Re.memoizedState.deps)?g.memoizedState=El(a,_,l,c):(Ne.flags|=i,g.memoizedState=El(1|a,_,l,c))}function X2(i,a){uu(8390656,8,i,a)}function e1(i,a){cu(2048,8,i,a)}function mE(i){Ne.flags|=4;var a=Ne.updateQueue;if(a===null)a=ac(),Ne.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function J2(i){var a=Ar().memoizedState;return mE({ref:a,nextImpl:i}),function(){if((jn&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Z2(i,a){return cu(4,2,i,a)}function ty(i,a){return cu(4,4,i,a)}function ey(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function ny(i,a,l){l=l!=null?l.concat([i]):null,cu(4,4,ey.bind(null,a,i),l)}function n1(){}function ry(i,a){var l=Ar();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&af(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function iy(i,a){var l=Ar();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&af(a,c[1]))return c[0];if(c=i(),na){Se(!0);try{i()}finally{Se(!1)}}return l.memoizedState=[c,a],c}function r1(i,a,l){return l===void 0||(wr&1073741824)!==0&&(yn&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=a5(),Ne.lanes|=i,du|=i,l)}function ay(i,a,l,c){return bi(l,a)?l:cn.current!==null?(i=r1(i,l,c),bi(i,a)||(ui=!0),i):(wr&42)===0||(wr&1073741824)!==0&&(yn&261930)===0?(ui=!0,i.memoizedState=l):(i=a5(),Ne.lanes|=i,du|=i,a)}function sy(i,a,l,c,g){var _=dt.p;dt.p=_!==0&&8>_?_:8;var C=it.T,H={};it.T=H,s1(i,!1,a,l);try{var lt=g(),Rt=it.S;if(Rt!==null&&Rt(H,lt),lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var Bt=B(lt,c);df(i,a,Bt,_s(i))}else df(i,a,c,_s(i))}catch(Yt){df(i,a,{then:function(){},status:"rejected",reason:Yt},_s())}finally{dt.p=_,C!==null&&H.types!==null&&(C.types=H.types),it.T=C}}function gE(){}function i1(i,a,l,c){if(i.tag!==5)throw Error(r(476));var g=oy(i).queue;sy(i,g,a,ht,l===null?gE:function(){return ly(i),l(c)})}function oy(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:ht},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function ly(i){var a=oy(i);a.next===null&&(a=i.alternate.memoizedState),df(i,a.next.queue,{},_s())}function a1(){return Si(If)}function uy(){return Ar().memoizedState}function cy(){return Ar().memoizedState}function yE(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=_s();i=Oe(l);var c=rn(a,i,l);c!==null&&(rs(c,a,l),Vn(c,a,l)),a={cache:su()},i.payload=a;return}a=a.return}}function vE(i,a,l){var c=_s();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fd(i)?fy(a,l):(l=Pc(i,a,l,c),l!==null&&(rs(l,i,c),dy(l,a,c)))}function hy(i,a,l){var c=_s();df(i,a,l,c)}function df(i,a,l,c){var g={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fd(i))fy(a,g);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var C=a.lastRenderedState,H=_(C,l);if(g.hasEagerState=!0,g.eagerState=H,bi(H,C))return Ju(i,a,g,0),ur===null&&Xu(),!1}catch{}finally{}if(l=Pc(i,a,g,c),l!==null)return rs(l,i,c),dy(l,a,c),!0}return!1}function s1(i,a,l,c){if(c={lane:2,revertLane:V1(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Fd(i)){if(a)throw Error(r(479))}else a=Pc(i,l,c,2),a!==null&&rs(a,i,2)}function Fd(i){var a=i.alternate;return i===Ne||a!==null&&a===Ne}function fy(i,a){Ja=da=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function dy(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Ci(i,l)}}var pf={readContext:Si,use:ou,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useLayoutEffect:rr,useInsertionEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useSyncExternalStore:rr,useId:rr,useHostTransitionStatus:rr,useFormState:rr,useActionState:rr,useOptimistic:rr,useMemoCache:rr,useCacheRefresh:rr};pf.useEffectEvent=rr;var py={readContext:Si,use:ou,useCallback:function(i,a){return li().memoizedState=[i,a===void 0?null:a],i},useContext:Si,useEffect:X2,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,uu(4194308,4,ey.bind(null,a,i),l)},useLayoutEffect:function(i,a){return uu(4194308,4,i,a)},useInsertionEffect:function(i,a){uu(4,2,i,a)},useMemo:function(i,a){var l=li();a=a===void 0?null:a;var c=i();if(na){Se(!0);try{i()}finally{Se(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=li();if(l!==void 0){var g=l(a);if(na){Se(!0);try{l(a)}finally{Se(!1)}}}else g=a;return c.memoizedState=c.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},c.queue=i,i=i.dispatch=vE.bind(null,Ne,i),[c.memoizedState,i]},useRef:function(i){var a=li();return i={current:i},a.memoizedState=i},useState:function(i){i=Bo(i);var a=i.queue,l=hy.bind(null,Ne,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:n1,useDeferredValue:function(i,a){var l=li();return r1(l,i,a)},useTransition:function(){var i=Bo(!1);return i=sy.bind(null,Ne,i.queue,!0,!1),li().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=Ne,g=li();if(dn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),ur===null)throw Error(r(349));(yn&127)!==0||ao(c,a,l)}g.memoizedState=l;var _={value:l,getSnapshot:a};return g.queue=_,X2(cf.bind(null,c,_,i),[i]),c.flags|=2048,El(9,{destroy:void 0},uf.bind(null,c,_,l,a),null),l},useId:function(){var i=li(),a=ur.identifierPrefix;if(dn){var l=$a,c=Qa;l=(c&~(1<<32-Be(c)-1)).toString(32)+l,a="_"+a+"R_"+l,l=zr++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=Yc++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:a1,useFormState:Us,useActionState:Us,useOptimistic:function(i){var a=li();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=s1.bind(null,Ne,!0,l),l.dispatch=a,[i,a]},useMemoCache:wl,useCacheRefresh:function(){return li().memoizedState=yE.bind(null,Ne)},useEffectEvent:function(i){var a=li(),l={impl:i};return a.memoizedState=l,function(){if((jn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},o1={readContext:Si,use:ou,useCallback:ry,useContext:Si,useEffect:e1,useImperativeHandle:ny,useInsertionEffect:Z2,useLayoutEffect:ty,useMemo:iy,useReducer:Qc,useRef:jd,useState:function(){return Qc(Ms)},useDebugValue:n1,useDeferredValue:function(i,a){var l=Ar();return ay(l,Re.memoizedState,i,a)},useTransition:function(){var i=Qc(Ms)[0],a=Ar().memoizedState;return[typeof i=="boolean"?i:Vo(i),a]},useSyncExternalStore:Xc,useId:uy,useHostTransitionStatus:a1,useFormState:so,useActionState:so,useOptimistic:function(i,a){var l=Ar();return Md(l,Re,i,a)},useMemoCache:wl,useCacheRefresh:cy};o1.useEffectEvent=J2;var my={readContext:Si,use:ou,useCallback:ry,useContext:Si,useEffect:e1,useImperativeHandle:ny,useInsertionEffect:Z2,useLayoutEffect:ty,useMemo:iy,useReducer:$c,useRef:jd,useState:function(){return $c(Ms)},useDebugValue:n1,useDeferredValue:function(i,a){var l=Ar();return Re===null?r1(l,i,a):ay(l,Re.memoizedState,i,a)},useTransition:function(){var i=$c(Ms)[0],a=Ar().memoizedState;return[typeof i=="boolean"?i:Vo(i),a]},useSyncExternalStore:Xc,useId:uy,useHostTransitionStatus:a1,useFormState:th,useActionState:th,useOptimistic:function(i,a){var l=Ar();return Re!==null?Md(l,Re,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:wl,useCacheRefresh:cy};my.useEffectEvent=J2;function l1(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:A({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var u1={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=_s(),g=Oe(c);g.payload=a,l!=null&&(g.callback=l),a=rn(i,g,c),a!==null&&(rs(a,i,c),Vn(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=_s(),g=Oe(c);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=rn(i,g,c),a!==null&&(rs(a,i,c),Vn(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=_s(),c=Oe(l);c.tag=2,a!=null&&(c.callback=a),a=rn(i,c,l),a!==null&&(rs(a,i,l),Vn(a,i,l))}};function gy(i,a,l,c,g,_,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,_,C):a.prototype&&a.prototype.isPureReactComponent?!Js(l,c)||!Js(g,_):!0}function yy(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&u1.enqueueReplaceState(a,a.state,null)}function oc(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=A({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}function vy(i){$u(i)}function _y(i){console.error(i)}function by(i){$u(i)}function qd(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function wy(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function c1(i,a,l){return l=Oe(l),l.tag=3,l.payload={element:null},l.callback=function(){qd(i,a)},l}function Ay(i){return i=Oe(i),i.tag=3,i}function Ey(i,a,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var _=c.value;i.payload=function(){return g(_)},i.callback=function(){wy(a,l,c)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){wy(a,l,c),typeof g!="function"&&(pu===null?pu=new Set([this]):pu.add(this));var H=c.stack;this.componentDidCatch(c.value,{componentStack:H!==null?H:""})})}function _E(i,a,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Oo(a,l,g,!0),l=mr.current,l!==null){switch(l.tag){case 31:case 13:return Nn===null?tp():l.alternate===null&&Hr===0&&(Hr=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===mt?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),P1(i,c,g)),!1;case 22:return l.flags|=65536,c===mt?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),P1(i,c,g)),!1}throw Error(r(435,l.tag))}return P1(i,c,g),tp(),!1}if(dn)return a=mr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,c!==gs&&(i=Error(r(422),{cause:c}),iu(Ya(i,l)))):(c!==gs&&(a=Error(r(423),{cause:c}),iu(Ya(a,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,c=Ya(c,l),g=c1(i.stateNode,c,g),Qr(i,g),Hr!==4&&(Hr=2)),!1;var _=Error(r(520),{cause:c});if(_=Ya(_,l),Af===null?Af=[_]:Af.push(_),Hr!==4&&(Hr=2),a===null)return!0;c=Ya(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=c1(l.stateNode,c,i),Qr(l,i),!1;case 1:if(a=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(pu===null||!pu.has(_))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Ay(g),Ey(g,i,l,c),Qr(l,g),!1}l=l.return}while(l!==null);return!1}var h1=Error(r(461)),ui=!1;function ra(i,a,l,c){a.child=i===null?Je(a,null,l,c):lr(a,i.child,l,c)}function Sy(i,a,l,c,g){l=l.render;var _=a.ref;if("ref"in c){var C={};for(var H in c)H!=="ref"&&(C[H]=c[H])}else C=c;return Po(a),c=sf(i,a,l,C,_,g),H=of(),i!==null&&!ui?(lf(i,a,g),Sl(i,a,g)):(dn&&H&&ef(a),a.flags|=1,ra(i,a,c,g),a.child)}function Ty(i,a,l,c,g){if(i===null){var _=l.type;return typeof _=="function"&&!Uc(_)&&_.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=_,Ny(i,a,_,c,g)):(i=eu(l.type,null,c,a,a.mode,g),i.ref=a.ref,i.return=a,a.child=i)}if(_=i.child,!_1(i,g)){var C=_.memoizedProps;if(l=l.compare,l=l!==null?l:Js,l(C,c)&&i.ref===a.ref)return Sl(i,a,g)}return a.flags|=1,i=Ga(_,c),i.ref=a.ref,i.return=a,a.child=i}function Ny(i,a,l,c,g){if(i!==null){var _=i.memoizedProps;if(Js(_,c)&&i.ref===a.ref)if(ui=!1,a.pendingProps=c=_,_1(i,g))(i.flags&131072)!==0&&(ui=!0);else return a.lanes=i.lanes,Sl(i,a,g)}return f1(i,a,l,c,g)}function xy(i,a,l,c){var g=c.children,_=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,i!==null){for(c=a.child=i.child,g=0;c!==null;)g=g|c.lanes|c.childLanes,c=c.sibling;c=g&~_}else c=0,a.child=null;return Cy(i,a,_,l,c)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Q(a,_!==null?_.cachePool:null),_!==null?pr(a,_):In(),Fr(a);else return c=a.lanes=536870912,Cy(i,a,_!==null?_.baseLanes|l:l,l,c)}else _!==null?(Q(a,_.cachePool),pr(a,_),qr(),a.memoizedState=null):(i!==null&&Q(a,null),In(),qr());return ra(i,a,g,l),a.child}function mf(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Cy(i,a,l,c,g){var _=W();return _=_===null?null:{parent:Ir._currentValue,pool:_},a.memoizedState={baseLanes:l,cachePool:_},i!==null&&Q(a,null),In(),Fr(a),i!==null&&Oo(i,a,c,!0),a.childLanes=g,null}function zd(i,a){return a=Gd({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function Ry(i,a,l){return lr(a,i.child,null,l),i=zd(a,a.pendingProps),i.flags|=2,Kn(a),a.memoizedState=null,i}function bE(i,a,l){var c=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(dn){if(c.mode==="hidden")return i=zd(a,c),a.lanes=536870912,mf(null,i);if(Bn(a),(i=or)?(i=F5(i,br),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Io!==null?{id:Qa,overflow:$a}:null,retryLane:536870912,hydrationErrors:null},l=Vc(i),l.return=a,a.child=l,Ai=a,or=null)):i=null,i===null)throw Lo(a);return a.lanes=536870912,null}return zd(a,c)}var _=i.memoizedState;if(_!==null){var C=_.dehydrated;if(Bn(a),g)if(a.flags&256)a.flags&=-257,a=Ry(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(ui||Oo(i,a,l,!1),g=(l&i.childLanes)!==0,ui||g){if(c=ur,c!==null&&(C=Ri(c,l),C!==0&&C!==_.retryLane))throw _.retryLane=C,no(i,C),rs(c,i,C),h1;tp(),a=Ry(i,a,l)}else i=_.treeContext,or=Vs(C.nextSibling),Ai=a,dn=!0,ea=null,br=!1,i!==null&&kd(a,i),a=zd(a,c),a.flags|=4096;return a}return i=Ga(i.child,{mode:c.mode,children:c.children}),i.ref=a.ref,a.child=i,i.return=a,i}function Hd(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function f1(i,a,l,c,g){return Po(a),l=sf(i,a,l,c,void 0,g),c=of(),i!==null&&!ui?(lf(i,a,g),Sl(i,a,g)):(dn&&c&&ef(a),a.flags|=1,ra(i,a,l,g),a.child)}function Iy(i,a,l,c,g,_){return Po(a),a.updateQueue=null,l=io(a,c,l,g),Wc(i),c=of(),i!==null&&!ui?(lf(i,a,_),Sl(i,a,_)):(dn&&c&&ef(a),a.flags|=1,ra(i,a,l,_),a.child)}function Ly(i,a,l,c,g){if(Po(a),a.stateNode===null){var _=wi,C=l.contextType;typeof C=="object"&&C!==null&&(_=Si(C)),_=new l(c,_),a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=u1,a.stateNode=_,_._reactInternals=a,_=a.stateNode,_.props=c,_.state=a.memoizedState,_.refs={},te(a),C=l.contextType,_.context=typeof C=="object"&&C!==null?Si(C):wi,_.state=a.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(l1(a,l,C,c),_.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(C=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),C!==_.state&&u1.enqueueReplaceState(_,_.state,null),Br(a,c,_,g),nr(),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){_=a.stateNode;var H=a.memoizedProps,lt=oc(l,H);_.props=lt;var Rt=_.context,Bt=l.contextType;C=wi,typeof Bt=="object"&&Bt!==null&&(C=Si(Bt));var Yt=l.getDerivedStateFromProps;Bt=typeof Yt=="function"||typeof _.getSnapshotBeforeUpdate=="function",H=a.pendingProps!==H,Bt||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(H||Rt!==C)&&yy(a,_,c,C),le=!1;var Lt=a.memoizedState;_.state=Lt,Br(a,c,_,g),nr(),Rt=a.memoizedState,H||Lt!==Rt||le?(typeof Yt=="function"&&(l1(a,l,Yt,c),Rt=a.memoizedState),(lt=le||gy(a,l,lt,c,Lt,Rt,C))?(Bt||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Rt),_.props=c,_.state=Rt,_.context=C,c=lt):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{_=a.stateNode,dr(i,a),C=a.memoizedProps,Bt=oc(l,C),_.props=Bt,Yt=a.pendingProps,Lt=_.context,Rt=l.contextType,lt=wi,typeof Rt=="object"&&Rt!==null&&(lt=Si(Rt)),H=l.getDerivedStateFromProps,(Rt=typeof H=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==Yt||Lt!==lt)&&yy(a,_,c,lt),le=!1,Lt=a.memoizedState,_.state=Lt,Br(a,c,_,g),nr();var kt=a.memoizedState;C!==Yt||Lt!==kt||le||i!==null&&i.dependencies!==null&&zc(i.dependencies)?(typeof H=="function"&&(l1(a,l,H,c),kt=a.memoizedState),(Bt=le||gy(a,l,Bt,c,Lt,kt,lt)||i!==null&&i.dependencies!==null&&zc(i.dependencies))?(Rt||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,kt,lt),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,kt,lt)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===i.memoizedProps&&Lt===i.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&Lt===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=kt),_.props=c,_.state=kt,_.context=lt,c=Bt):(typeof _.componentDidUpdate!="function"||C===i.memoizedProps&&Lt===i.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&Lt===i.memoizedState||(a.flags|=1024),c=!1)}return _=c,Hd(i,a),c=(a.flags&128)!==0,_||c?(_=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:_.render(),a.flags|=1,i!==null&&c?(a.child=lr(a,i.child,null,g),a.child=lr(a,null,l,g)):ra(i,a,l,g),a.memoizedState=_.state,i=a.child):i=Sl(i,a,g),i}function Dy(i,a,l,c){return _l(),a.flags|=256,ra(i,a,l,c),a.child}var d1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function p1(i){return{baseLanes:i,cachePool:et()}}function m1(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=vs),i}function ky(i,a,l){var c=a.pendingProps,g=!1,_=(a.flags&128)!==0,C;if((C=_)||(C=i!==null&&i.memoizedState===null?!1:(En.current&2)!==0),C&&(g=!0,a.flags&=-129),C=(a.flags&32)!==0,a.flags&=-33,i===null){if(dn){if(g?Lr(a):qr(),(i=or)?(i=F5(i,br),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Io!==null?{id:Qa,overflow:$a}:null,retryLane:536870912,hydrationErrors:null},l=Vc(i),l.return=a,a.child=l,Ai=a,or=null)):i=null,i===null)throw Lo(a);return X1(i)?a.lanes=32:a.lanes=536870912,null}var H=c.children;return c=c.fallback,g?(qr(),g=a.mode,H=Gd({mode:"hidden",children:H},g),c=Ro(c,g,l,null),H.return=a,c.return=a,H.sibling=c,a.child=H,c=a.child,c.memoizedState=p1(l),c.childLanes=m1(i,C,l),a.memoizedState=d1,mf(null,c)):(Lr(a),g1(a,H))}var lt=i.memoizedState;if(lt!==null&&(H=lt.dehydrated,H!==null)){if(_)a.flags&256?(Lr(a),a.flags&=-257,a=y1(i,a,l)):a.memoizedState!==null?(qr(),a.child=i.child,a.flags|=128,a=null):(qr(),H=c.fallback,g=a.mode,c=Gd({mode:"visible",children:c.children},g),H=Ro(H,g,l,null),H.flags|=2,c.return=a,H.return=a,c.sibling=H,a.child=c,lr(a,i.child,null,l),c=a.child,c.memoizedState=p1(l),c.childLanes=m1(i,C,l),a.memoizedState=d1,a=mf(null,c));else if(Lr(a),X1(H)){if(C=H.nextSibling&&H.nextSibling.dataset,C)var Rt=C.dgst;C=Rt,c=Error(r(419)),c.stack="",c.digest=C,iu({value:c,source:null,stack:null}),a=y1(i,a,l)}else if(ui||Oo(i,a,l,!1),C=(l&i.childLanes)!==0,ui||C){if(C=ur,C!==null&&(c=Ri(C,l),c!==0&&c!==lt.retryLane))throw lt.retryLane=c,no(i,c),rs(C,i,c),h1;$1(H)||tp(),a=y1(i,a,l)}else $1(H)?(a.flags|=192,a.child=i.child,a=null):(i=lt.treeContext,or=Vs(H.nextSibling),Ai=a,dn=!0,ea=null,br=!1,i!==null&&kd(a,i),a=g1(a,c.children),a.flags|=4096);return a}return g?(qr(),H=c.fallback,g=a.mode,lt=i.child,Rt=lt.sibling,c=Ga(lt,{mode:"hidden",children:c.children}),c.subtreeFlags=lt.subtreeFlags&65011712,Rt!==null?H=Ga(Rt,H):(H=Ro(H,g,l,null),H.flags|=2),H.return=a,c.return=a,c.sibling=H,a.child=c,mf(null,c),c=a.child,H=i.child.memoizedState,H===null?H=p1(l):(g=H.cachePool,g!==null?(lt=Ir._currentValue,g=g.parent!==lt?{parent:lt,pool:lt}:g):g=et(),H={baseLanes:H.baseLanes|l,cachePool:g}),c.memoizedState=H,c.childLanes=m1(i,C,l),a.memoizedState=d1,mf(i.child,c)):(Lr(a),l=i.child,i=l.sibling,l=Ga(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(C=a.deletions,C===null?(a.deletions=[i],a.flags|=16):C.push(i)),a.child=l,a.memoizedState=null,l)}function g1(i,a){return a=Gd({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Gd(i,a){return i=Bi(22,i,null,a),i.lanes=0,i}function y1(i,a,l){return lr(a,i.child,null,l),i=g1(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Oy(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),au(i.return,a,l)}function v1(i,a,l,c,g,_){var C=i.memoizedState;C===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g,treeForkCount:_}:(C.isBackwards=a,C.rendering=null,C.renderingStartTime=0,C.last=c,C.tail=l,C.tailMode=g,C.treeForkCount=_)}function Py(i,a,l){var c=a.pendingProps,g=c.revealOrder,_=c.tail;c=c.children;var C=En.current,H=(C&2)!==0;if(H?(C=C&1|2,a.flags|=128):C&=1,Y(En,C),ra(i,a,c,l),c=dn?nc:0,!H&&i!==null&&(i.flags&128)!==0)t:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Oy(i,l,a);else if(i.tag===19)Oy(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break t;for(;i.sibling===null;){if(i.return===null||i.return===a)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(l=a.child,g=null;l!==null;)i=l.alternate,i!==null&&Fi(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),v1(a,!1,g,l,_,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(i=g.alternate,i!==null&&Fi(i)===null){a.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}v1(a,!0,l,null,_,c);break;case"together":v1(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function Sl(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),du|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Oo(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Ga(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Ga(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function _1(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&zc(i)))}function wE(i,a,l){switch(a.tag){case 3:It(a,a.stateNode.containerInfo),ko(a,Ir,i.memoizedState.cache),_l();break;case 27:case 5:jt(a);break;case 4:It(a,a.stateNode.containerInfo);break;case 10:ko(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Bn(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Lr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?ky(i,a,l):(Lr(a),i=Sl(i,a,l),i!==null?i.sibling:null);Lr(a);break;case 19:var g=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Oo(i,a,l,!1),c=(l&a.childLanes)!==0),g){if(c)return Py(i,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Y(En,En.current),c)break;return null;case 22:return a.lanes=0,xy(i,a,l,a.pendingProps);case 24:ko(a,Ir,i.memoizedState.cache)}return Sl(i,a,l)}function My(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)ui=!0;else{if(!_1(i,l)&&(a.flags&128)===0)return ui=!1,wE(i,a,l);ui=(i.flags&131072)!==0}else ui=!1,dn&&(a.flags&1048576)!==0&&Dd(a,nc,a.index);switch(a.lanes=0,a.tag){case 16:t:{var c=a.pendingProps;if(i=Et(a.elementType),a.type=i,typeof i=="function")Uc(i)?(c=oc(i,c),a.tag=1,a=Ly(null,a,i,c,l)):(a.tag=0,a=f1(null,a,i,c,l));else{if(i!=null){var g=i.$$typeof;if(g===rt){a.tag=11,a=Sy(null,a,i,c,l);break t}else if(g===G){a.tag=14,a=Ty(null,a,i,c,l);break t}}throw a=st(i)||i,Error(r(306,a,""))}}return a;case 0:return f1(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,g=oc(c,a.pendingProps),Ly(i,a,c,g,l);case 3:t:{if(It(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var _=a.memoizedState;g=_.element,dr(i,a),Br(a,c,null,l);var C=a.memoizedState;if(c=C.cache,ko(a,Ir,c),c!==_.cache&&bl(a,[Ir],l,!0),nr(),c=C.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:C.cache},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){a=Dy(i,a,c,l);break t}else if(c!==g){g=Ya(Error(r(424)),a),iu(g),a=Dy(i,a,c,l);break t}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(or=Vs(i.firstChild),Ai=a,dn=!0,ea=null,br=!0,l=Je(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(_l(),c===g){a=Sl(i,a,l);break t}ra(i,a,c,l)}a=a.child}return a;case 26:return Hd(i,a),i===null?(l=W5(a.type,null,a.pendingProps,null))?a.memoizedState=l:dn||(l=a.type,i=a.pendingProps,c=op(ct.current).createElement(l),c[Dn]=a,c[Gn]=i,ia(c,l,i),fr(c),a.stateNode=c):a.memoizedState=W5(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return jt(a),i===null&&dn&&(c=a.stateNode=H5(a.type,a.pendingProps,ct.current),Ai=a,br=!0,g=or,vu(a.type)?(J1=g,or=Vs(c.firstChild)):or=g),ra(i,a,a.pendingProps.children,l),Hd(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&dn&&((g=c=or)&&(c=XE(c,a.type,a.pendingProps,br),c!==null?(a.stateNode=c,Ai=a,or=Vs(c.firstChild),br=!1,g=!0):g=!1),g||Lo(a)),jt(a),g=a.type,_=a.pendingProps,C=i!==null?i.memoizedProps:null,c=_.children,W1(g,_)?c=null:C!==null&&W1(g,C)&&(a.flags|=32),a.memoizedState!==null&&(g=sf(i,a,t1,null,null,l),If._currentValue=g),Hd(i,a),ra(i,a,c,l),a.child;case 6:return i===null&&dn&&((i=l=or)&&(l=JE(l,a.pendingProps,br),l!==null?(a.stateNode=l,Ai=a,or=null,i=!0):i=!1),i||Lo(a)),null;case 13:return ky(i,a,l);case 4:return It(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=lr(a,null,c,l):ra(i,a,c,l),a.child;case 11:return Sy(i,a,a.type,a.pendingProps,l);case 7:return ra(i,a,a.pendingProps,l),a.child;case 8:return ra(i,a,a.pendingProps.children,l),a.child;case 12:return ra(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,ko(a,a.type,c.value),ra(i,a,c.children,l),a.child;case 9:return g=a.type._context,c=a.pendingProps.children,Po(a),g=Si(g),c=c(g),a.flags|=1,ra(i,a,c,l),a.child;case 14:return Ty(i,a,a.type,a.pendingProps,l);case 15:return Ny(i,a,a.type,a.pendingProps,l);case 19:return Py(i,a,l);case 31:return bE(i,a,l);case 22:return xy(i,a,l,a.pendingProps);case 24:return Po(a),c=Si(Ir),i===null?(g=W(),g===null&&(g=ur,_=su(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=l),g=_),a.memoizedState={parent:c,cache:g},te(a),ko(a,Ir,g)):((i.lanes&l)!==0&&(dr(i,a),Br(a,null,null,l),nr()),g=i.memoizedState,_=a.memoizedState,g.parent!==c?(g={parent:c,cache:c},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),ko(a,Ir,c)):(c=_.cache,ko(a,Ir,c),c!==g.cache&&bl(a,[Ir],l,!0))),ra(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Tl(i){i.flags|=4}function b1(i,a,l,c,g){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(u5())i.flags|=8192;else throw Pt=mt,Tt}else i.flags&=-16777217}function Uy(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!J5(a))if(u5())i.flags|=8192;else throw Pt=mt,Tt}function Yd(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Ua():536870912,i.lanes|=a,ih|=a)}function gf(i,a){if(!dn)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function gr(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function AE(i,a,l){var c=a.pendingProps;switch(Fc(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(a),null;case 1:return gr(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Xa(Ir),St(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Ei(a)?Tl(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,rf())),gr(a),null;case 26:var g=a.type,_=a.memoizedState;return i===null?(Tl(a),_!==null?(gr(a),Uy(a,_)):(gr(a),b1(a,g,null,c,l))):_?_!==i.memoizedState?(Tl(a),gr(a),Uy(a,_)):(gr(a),a.flags&=-16777217):(i=i.memoizedProps,i!==c&&Tl(a),gr(a),b1(a,g,i,c,l)),null;case 27:if(Xt(a),l=ct.current,g=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Tl(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return gr(a),null}i=X.current,Ei(a)?nf(a):(i=H5(g,c,l),a.stateNode=i,Tl(a))}return gr(a),null;case 5:if(Xt(a),g=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Tl(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return gr(a),null}if(_=X.current,Ei(a))nf(a);else{var C=op(ct.current);switch(_){case 1:_=C.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:_=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":_=C.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":_=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":_=C.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof c.is=="string"?C.createElement("select",{is:c.is}):C.createElement("select"),c.multiple?_.multiple=!0:c.size&&(_.size=c.size);break;default:_=typeof c.is=="string"?C.createElement(g,{is:c.is}):C.createElement(g)}}_[Dn]=a,_[Gn]=c;t:for(C=a.child;C!==null;){if(C.tag===5||C.tag===6)_.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===a)break t;for(;C.sibling===null;){if(C.return===null||C.return===a)break t;C=C.return}C.sibling.return=C.return,C=C.sibling}a.stateNode=_;t:switch(ia(_,g,c),g){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Tl(a)}}return gr(a),b1(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&Tl(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=ct.current,Ei(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,g=Ai,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}i[Dn]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||k5(i.nodeValue,l)),i||Lo(a,!0)}else i=op(i).createTextNode(c),i[Dn]=a,a.stateNode=i}return gr(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(c=Ei(a),l!==null){if(i===null){if(!c)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Dn]=a}else _l(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;gr(a),i=!1}else l=rf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(Kn(a),a):(Kn(a),null);if((a.flags&128)!==0)throw Error(r(558))}return gr(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Ei(a),c!==null&&c.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Dn]=a}else _l(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;gr(a),g=!1}else g=rf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Kn(a),a):(Kn(a),null)}return Kn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=c!==null,i=i!==null&&i.memoizedState!==null,l&&(c=a.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool),_=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==g&&(c.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),Yd(a,a.updateQueue),gr(a),null);case 4:return St(),i===null&&q1(a.stateNode.containerInfo),gr(a),null;case 10:return Xa(a.type),gr(a),null;case 19:if(L(En),c=a.memoizedState,c===null)return gr(a),null;if(g=(a.flags&128)!==0,_=c.rendering,_===null)if(g)gf(c,!1);else{if(Hr!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(_=Fi(i),_!==null){for(a.flags|=128,gf(c,!1),i=_.updateQueue,a.updateQueue=i,Yd(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)tc(l,i),l=l.sibling;return Y(En,En.current&1|2),dn&&Ma(a,c.treeForkCount),a.child}i=i.sibling}c.tail!==null&&Ge()>Xd&&(a.flags|=128,g=!0,gf(c,!1),a.lanes=4194304)}else{if(!g)if(i=Fi(_),i!==null){if(a.flags|=128,g=!0,i=i.updateQueue,a.updateQueue=i,Yd(a,i),gf(c,!0),c.tail===null&&c.tailMode==="hidden"&&!_.alternate&&!dn)return gr(a),null}else 2*Ge()-c.renderingStartTime>Xd&&l!==536870912&&(a.flags|=128,g=!0,gf(c,!1),a.lanes=4194304);c.isBackwards?(_.sibling=a.child,a.child=_):(i=c.last,i!==null?i.sibling=_:a.child=_,c.last=_)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Ge(),i.sibling=null,l=En.current,Y(En,g?l&1|2:l&1),dn&&Ma(a,c.treeForkCount),i):(gr(a),null);case 22:case 23:return Kn(a),$r(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(gr(a),a.subtreeFlags&6&&(a.flags|=8192)):gr(a),l=a.updateQueue,l!==null&&Yd(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&L(q),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Xa(Ir),gr(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function EE(i,a){switch(Fc(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Xa(Ir),St(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Xt(a),null;case 31:if(a.memoizedState!==null){if(Kn(a),a.alternate===null)throw Error(r(340));_l()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Kn(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));_l()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return L(En),null;case 4:return St(),null;case 10:return Xa(a.type),null;case 22:case 23:return Kn(a),$r(),i!==null&&L(q),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Xa(Ir),null;case 25:return null;default:return null}}function Vy(i,a){switch(Fc(a),a.tag){case 3:Xa(Ir),St();break;case 26:case 27:case 5:Xt(a);break;case 4:St();break;case 31:a.memoizedState!==null&&Kn(a);break;case 13:Kn(a);break;case 19:L(En);break;case 10:Xa(a.type);break;case 22:case 23:Kn(a),$r(),i!==null&&L(q);break;case 24:Xa(Ir)}}function yf(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&i)===i){c=void 0;var _=l.create,C=l.inst;c=_(),C.destroy=c}l=l.next}while(l!==g)}}catch(H){$n(a,a.return,H)}}function hu(i,a,l){try{var c=a.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var _=g.next;c=_;do{if((c.tag&i)===i){var C=c.inst,H=C.destroy;if(H!==void 0){C.destroy=void 0,g=a;var lt=l,Rt=H;try{Rt()}catch(Bt){$n(g,lt,Bt)}}}c=c.next}while(c!==_)}}catch(Bt){$n(a,a.return,Bt)}}function By(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{jr(a,l)}catch(c){$n(i,i.return,c)}}}function jy(i,a,l){l.props=oc(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){$n(i,a,c)}}function vf(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(g){$n(i,a,g)}}function jo(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){$n(i,a,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){$n(i,a,g)}else l.current=null}function Fy(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){$n(i,i.return,g)}}function w1(i,a,l){try{var c=i.stateNode;GE(c,i.type,l,a),c[Gn]=a}catch(g){$n(i,i.return,g)}}function qy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&vu(i.type)||i.tag===4}function A1(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||qy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&vu(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function E1(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=xa));else if(c!==4&&(c===27&&vu(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(E1(i,a,l),i=i.sibling;i!==null;)E1(i,a,l),i=i.sibling}function Wd(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&vu(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Wd(i,a,l),i=i.sibling;i!==null;)Wd(i,a,l),i=i.sibling}function zy(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);ia(a,c,l),a[Dn]=i,a[Gn]=l}catch(_){$n(i,i.return,_)}}var Nl=!1,ci=!1,S1=!1,Hy=typeof WeakSet=="function"?WeakSet:Set,qi=null;function SE(i,a){if(i=i.containerInfo,G1=pp,i=to(i),ks(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break t}var C=0,H=-1,lt=-1,Rt=0,Bt=0,Yt=i,Lt=null;e:for(;;){for(var kt;Yt!==l||g!==0&&Yt.nodeType!==3||(H=C+g),Yt!==_||c!==0&&Yt.nodeType!==3||(lt=C+c),Yt.nodeType===3&&(C+=Yt.nodeValue.length),(kt=Yt.firstChild)!==null;)Lt=Yt,Yt=kt;for(;;){if(Yt===i)break e;if(Lt===l&&++Rt===g&&(H=C),Lt===_&&++Bt===c&&(lt=C),(kt=Yt.nextSibling)!==null)break;Yt=Lt,Lt=Yt.parentNode}Yt=kt}l=H===-1||lt===-1?null:{start:H,end:lt}}else l=null}l=l||{start:0,end:0}}else l=null;for(Y1={focusedElem:i,selectionRange:l},pp=!1,qi=a;qi!==null;)if(a=qi,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,qi=i;else for(;qi!==null;){switch(a=qi,_=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)g=i[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=a,g=_.memoizedProps,_=_.memoizedState,c=l.stateNode;try{var fe=oc(l.type,g);i=c.getSnapshotBeforeUpdate(fe,_),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ue){$n(l,l.return,Ue)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)Q1(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Q1(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,qi=i;break}qi=a.return}}function Gy(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Cl(i,l),c&4&&yf(5,l);break;case 1:if(Cl(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(C){$n(l,l.return,C)}else{var g=oc(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(g,a,i.__reactInternalSnapshotBeforeUpdate)}catch(C){$n(l,l.return,C)}}c&64&&By(l),c&512&&vf(l,l.return);break;case 3:if(Cl(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{jr(i,a)}catch(C){$n(l,l.return,C)}}break;case 27:a===null&&c&4&&zy(l);case 26:case 5:Cl(i,l),a===null&&c&4&&Fy(l),c&512&&vf(l,l.return);break;case 12:Cl(i,l);break;case 31:Cl(i,l),c&4&&Ky(i,l);break;case 13:Cl(i,l),c&4&&Qy(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=kE.bind(null,l),ZE(i,l))));break;case 22:if(c=l.memoizedState!==null||Nl,!c){a=a!==null&&a.memoizedState!==null||ci,g=Nl;var _=ci;Nl=c,(ci=a)&&!_?Rl(i,l,(l.subtreeFlags&8772)!==0):Cl(i,l),Nl=g,ci=_}break;case 30:break;default:Cl(i,l)}}function Yy(i){var a=i.alternate;a!==null&&(i.alternate=null,Yy(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&os(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Er=null,Za=!1;function xl(i,a,l){for(l=l.child;l!==null;)Wy(i,a,l),l=l.sibling}function Wy(i,a,l){if(ae&&typeof ae.onCommitFiberUnmount=="function")try{ae.onCommitFiberUnmount(nn,l)}catch{}switch(l.tag){case 26:ci||jo(l,a),xl(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ci||jo(l,a);var c=Er,g=Za;vu(l.type)&&(Er=l.stateNode,Za=!1),xl(i,a,l),xf(l.stateNode),Er=c,Za=g;break;case 5:ci||jo(l,a);case 6:if(c=Er,g=Za,Er=null,xl(i,a,l),Er=c,Za=g,Er!==null)if(Za)try{(Er.nodeType===9?Er.body:Er.nodeName==="HTML"?Er.ownerDocument.body:Er).removeChild(l.stateNode)}catch(_){$n(l,a,_)}else try{Er.removeChild(l.stateNode)}catch(_){$n(l,a,_)}break;case 18:Er!==null&&(Za?(i=Er,B5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),fh(i)):B5(Er,l.stateNode));break;case 4:c=Er,g=Za,Er=l.stateNode.containerInfo,Za=!0,xl(i,a,l),Er=c,Za=g;break;case 0:case 11:case 14:case 15:hu(2,l,a),ci||hu(4,l,a),xl(i,a,l);break;case 1:ci||(jo(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&jy(l,a,c)),xl(i,a,l);break;case 21:xl(i,a,l);break;case 22:ci=(c=ci)||l.memoizedState!==null,xl(i,a,l),ci=c;break;default:xl(i,a,l)}}function Ky(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{fh(i)}catch(l){$n(a,a.return,l)}}}function Qy(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{fh(i)}catch(l){$n(a,a.return,l)}}function TE(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new Hy),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new Hy),a;default:throw Error(r(435,i.tag))}}function Kd(i,a){var l=TE(i);a.forEach(function(c){if(!l.has(c)){l.add(c);var g=OE.bind(null,i,c);c.then(g,g)}})}function ts(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],_=i,C=a,H=C;t:for(;H!==null;){switch(H.tag){case 27:if(vu(H.type)){Er=H.stateNode,Za=!1;break t}break;case 5:Er=H.stateNode,Za=!1;break t;case 3:case 4:Er=H.stateNode.containerInfo,Za=!0;break t}H=H.return}if(Er===null)throw Error(r(160));Wy(_,C,g),Er=null,Za=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)$y(a,i),a=a.sibling}var lo=null;function $y(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ts(a,i),es(i),c&4&&(hu(3,i,i.return),yf(3,i),hu(5,i,i.return));break;case 1:ts(a,i),es(i),c&512&&(ci||l===null||jo(l,l.return)),c&64&&Nl&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=lo;if(ts(a,i),es(i),c&512&&(ci||l===null||jo(l,l.return)),c&4){var _=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){t:{c=i.type,l=i.memoizedProps,g=g.ownerDocument||g;e:switch(c){case"title":_=g.getElementsByTagName("title")[0],(!_||_[Li]||_[Dn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(c),g.head.insertBefore(_,g.querySelector("head > title"))),ia(_,c,l),_[Dn]=i,fr(_),c=_;break t;case"link":var C=$5("link","href",g).get(c+(l.href||""));if(C){for(var H=0;H<C.length;H++)if(_=C[H],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(H,1);break e}}_=g.createElement(c),ia(_,c,l),g.head.appendChild(_);break;case"meta":if(C=$5("meta","content",g).get(c+(l.content||""))){for(H=0;H<C.length;H++)if(_=C[H],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(H,1);break e}}_=g.createElement(c),ia(_,c,l),g.head.appendChild(_);break;default:throw Error(r(468,c))}_[Dn]=i,fr(_),c=_}i.stateNode=c}else X5(g,i.type,i.stateNode);else i.stateNode=Q5(g,c,i.memoizedProps);else _!==c?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,c===null?X5(g,i.type,i.stateNode):Q5(g,c,i.memoizedProps)):c===null&&i.stateNode!==null&&w1(i,i.memoizedProps,l.memoizedProps)}break;case 27:ts(a,i),es(i),c&512&&(ci||l===null||jo(l,l.return)),l!==null&&c&4&&w1(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ts(a,i),es(i),c&512&&(ci||l===null||jo(l,l.return)),i.flags&32){g=i.stateNode;try{Nr(g,"")}catch(fe){$n(i,i.return,fe)}}c&4&&i.stateNode!=null&&(g=i.memoizedProps,w1(i,g,l!==null?l.memoizedProps:g)),c&1024&&(S1=!0);break;case 6:if(ts(a,i),es(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(fe){$n(i,i.return,fe)}}break;case 3:if(cp=null,g=lo,lo=lp(a.containerInfo),ts(a,i),lo=g,es(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{fh(a.containerInfo)}catch(fe){$n(i,i.return,fe)}S1&&(S1=!1,Xy(i));break;case 4:c=lo,lo=lp(i.stateNode.containerInfo),ts(a,i),es(i),lo=c;break;case 12:ts(a,i),es(i);break;case 31:ts(a,i),es(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Kd(i,c)));break;case 13:ts(a,i),es(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&($d=Ge()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Kd(i,c)));break;case 22:g=i.memoizedState!==null;var lt=l!==null&&l.memoizedState!==null,Rt=Nl,Bt=ci;if(Nl=Rt||g,ci=Bt||lt,ts(a,i),ci=Bt,Nl=Rt,es(i),c&8192)t:for(a=i.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||lt||Nl||ci||lc(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){lt=l=a;try{if(_=lt.stateNode,g)C=_.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{H=lt.stateNode;var Yt=lt.memoizedProps.style,Lt=Yt!=null&&Yt.hasOwnProperty("display")?Yt.display:null;H.style.display=Lt==null||typeof Lt=="boolean"?"":(""+Lt).trim()}}catch(fe){$n(lt,lt.return,fe)}}}else if(a.tag===6){if(l===null){lt=a;try{lt.stateNode.nodeValue=g?"":lt.memoizedProps}catch(fe){$n(lt,lt.return,fe)}}}else if(a.tag===18){if(l===null){lt=a;try{var kt=lt.stateNode;g?j5(kt,!0):j5(lt.stateNode,!1)}catch(fe){$n(lt,lt.return,fe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break t;for(;a.sibling===null;){if(a.return===null||a.return===i)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Kd(i,l))));break;case 19:ts(a,i),es(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Kd(i,c)));break;case 30:break;case 21:break;default:ts(a,i),es(i)}}function es(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(qy(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,_=A1(i);Wd(i,_,g);break;case 5:var C=l.stateNode;l.flags&32&&(Nr(C,""),l.flags&=-33);var H=A1(i);Wd(i,H,C);break;case 3:case 4:var lt=l.stateNode.containerInfo,Rt=A1(i);E1(i,Rt,lt);break;default:throw Error(r(161))}}catch(Bt){$n(i,i.return,Bt)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Xy(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Xy(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Cl(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Gy(i,a.alternate,a),a=a.sibling}function lc(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:hu(4,a,a.return),lc(a);break;case 1:jo(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&jy(a,a.return,l),lc(a);break;case 27:xf(a.stateNode);case 26:case 5:jo(a,a.return),lc(a);break;case 22:a.memoizedState===null&&lc(a);break;case 30:lc(a);break;default:lc(a)}i=i.sibling}}function Rl(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,g=i,_=a,C=_.flags;switch(_.tag){case 0:case 11:case 15:Rl(g,_,l),yf(4,_);break;case 1:if(Rl(g,_,l),c=_,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Rt){$n(c,c.return,Rt)}if(c=_,g=c.updateQueue,g!==null){var H=c.stateNode;try{var lt=g.shared.hiddenCallbacks;if(lt!==null)for(g.shared.hiddenCallbacks=null,g=0;g<lt.length;g++)ji(lt[g],H)}catch(Rt){$n(c,c.return,Rt)}}l&&C&64&&By(_),vf(_,_.return);break;case 27:zy(_);case 26:case 5:Rl(g,_,l),l&&c===null&&C&4&&Fy(_),vf(_,_.return);break;case 12:Rl(g,_,l);break;case 31:Rl(g,_,l),l&&C&4&&Ky(g,_);break;case 13:Rl(g,_,l),l&&C&4&&Qy(g,_);break;case 22:_.memoizedState===null&&Rl(g,_,l),vf(_,_.return);break;case 30:break;default:Rl(g,_,l)}a=a.sibling}}function T1(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&rc(l))}function N1(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&rc(i))}function uo(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Jy(i,a,l,c),a=a.sibling}function Jy(i,a,l,c){var g=a.flags;switch(a.tag){case 0:case 11:case 15:uo(i,a,l,c),g&2048&&yf(9,a);break;case 1:uo(i,a,l,c);break;case 3:uo(i,a,l,c),g&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&rc(i)));break;case 12:if(g&2048){uo(i,a,l,c),i=a.stateNode;try{var _=a.memoizedProps,C=_.id,H=_.onPostCommit;typeof H=="function"&&H(C,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(lt){$n(a,a.return,lt)}}else uo(i,a,l,c);break;case 31:uo(i,a,l,c);break;case 13:uo(i,a,l,c);break;case 23:break;case 22:_=a.stateNode,C=a.alternate,a.memoizedState!==null?_._visibility&2?uo(i,a,l,c):_f(i,a):_._visibility&2?uo(i,a,l,c):(_._visibility|=2,eh(i,a,l,c,(a.subtreeFlags&10256)!==0||!1)),g&2048&&T1(C,a);break;case 24:uo(i,a,l,c),g&2048&&N1(a.alternate,a);break;default:uo(i,a,l,c)}}function eh(i,a,l,c,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var _=i,C=a,H=l,lt=c,Rt=C.flags;switch(C.tag){case 0:case 11:case 15:eh(_,C,H,lt,g),yf(8,C);break;case 23:break;case 22:var Bt=C.stateNode;C.memoizedState!==null?Bt._visibility&2?eh(_,C,H,lt,g):_f(_,C):(Bt._visibility|=2,eh(_,C,H,lt,g)),g&&Rt&2048&&T1(C.alternate,C);break;case 24:eh(_,C,H,lt,g),g&&Rt&2048&&N1(C.alternate,C);break;default:eh(_,C,H,lt,g)}a=a.sibling}}function _f(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,g=c.flags;switch(c.tag){case 22:_f(l,c),g&2048&&T1(c.alternate,c);break;case 24:_f(l,c),g&2048&&N1(c.alternate,c);break;default:_f(l,c)}a=a.sibling}}var bf=8192;function nh(i,a,l){if(i.subtreeFlags&bf)for(i=i.child;i!==null;)Zy(i,a,l),i=i.sibling}function Zy(i,a,l){switch(i.tag){case 26:nh(i,a,l),i.flags&bf&&i.memoizedState!==null&&hS(l,lo,i.memoizedState,i.memoizedProps);break;case 5:nh(i,a,l);break;case 3:case 4:var c=lo;lo=lp(i.stateNode.containerInfo),nh(i,a,l),lo=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=bf,bf=16777216,nh(i,a,l),bf=c):nh(i,a,l));break;default:nh(i,a,l)}}function t5(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function wf(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];qi=c,n5(c,i)}t5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)e5(i),i=i.sibling}function e5(i){switch(i.tag){case 0:case 11:case 15:wf(i),i.flags&2048&&hu(9,i,i.return);break;case 3:wf(i);break;case 12:wf(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Qd(i)):wf(i);break;default:wf(i)}}function Qd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];qi=c,n5(c,i)}t5(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:hu(8,a,a.return),Qd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Qd(a));break;default:Qd(a)}i=i.sibling}}function n5(i,a){for(;qi!==null;){var l=qi;switch(l.tag){case 0:case 11:case 15:hu(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:rc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,qi=c;else t:for(l=i;qi!==null;){c=qi;var g=c.sibling,_=c.return;if(Yy(c),c===l){qi=null;break t}if(g!==null){g.return=_,qi=g;break t}qi=_}}}var NE={getCacheForType:function(i){var a=Si(Ir),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return Si(Ir).controller.signal}},xE=typeof WeakMap=="function"?WeakMap:Map,jn=0,ur=null,pn=null,yn=0,Qn=0,ys=null,fu=!1,rh=!1,x1=!1,Il=0,Hr=0,du=0,uc=0,C1=0,vs=0,ih=0,Af=null,ns=null,R1=!1,$d=0,r5=0,Xd=1/0,Jd=null,pu=null,Ni=0,mu=null,ah=null,Ll=0,I1=0,L1=null,i5=null,Ef=0,D1=null;function _s(){return(jn&2)!==0&&yn!==0?yn&-yn:it.T!==null?V1():Mr()}function a5(){if(vs===0)if((yn&536870912)===0||dn){var i=sr;sr<<=1,(sr&3932160)===0&&(sr=262144),vs=i}else vs=536870912;return i=mr.current,i!==null&&(i.flags|=32),vs}function rs(i,a,l){(i===ur&&(Qn===2||Qn===9)||i.cancelPendingCommit!==null)&&(sh(i,0),gu(i,yn,vs,!1)),Ae(i,l),((jn&2)===0||i!==ur)&&(i===ur&&((jn&2)===0&&(uc|=l),Hr===4&&gu(i,yn,vs,!1)),Fo(i))}function s5(i,a,l){if((jn&6)!==0)throw Error(r(327));var c=!l&&(a&127)===0&&(a&i.expiredLanes)===0||pi(i,a),g=c?IE(i,a):O1(i,a,!0),_=c;do{if(g===0){rh&&!c&&gu(i,a,0,!1);break}else{if(l=i.current.alternate,_&&!CE(l)){g=O1(i,a,!1),_=!1;continue}if(g===2){if(_=a,i.errorRecoveryDisabledLanes&_)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){a=C;t:{var H=i;g=Af;var lt=H.current.memoizedState.isDehydrated;if(lt&&(sh(H,C).flags|=256),C=O1(H,C,!1),C!==2){if(x1&&!lt){H.errorRecoveryDisabledLanes|=_,uc|=_,g=4;break t}_=ns,ns=g,_!==null&&(ns===null?ns=_:ns.push.apply(ns,_))}g=C}if(_=!1,g!==2)continue}}if(g===1){sh(i,0),gu(i,a,0,!0);break}t:{switch(c=i,_=g,_){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:gu(c,a,vs,!fu);break t;case 2:ns=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(g=$d+300-Ge(),10<g)){if(gu(c,a,vs,!fu),sn(c,0,!0)!==0)break t;Ll=a,c.timeoutHandle=U5(o5.bind(null,c,l,ns,Jd,R1,a,vs,uc,ih,fu,_,"Throttled",-0,0),g);break t}o5(c,l,ns,Jd,R1,a,vs,uc,ih,fu,_,null,-0,0)}}break}while(!0);Fo(i)}function o5(i,a,l,c,g,_,C,H,lt,Rt,Bt,Yt,Lt,kt){if(i.timeoutHandle=-1,Yt=a.subtreeFlags,Yt&8192||(Yt&16785408)===16785408){Yt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xa},Zy(a,_,Yt);var fe=(_&62914560)===_?$d-Ge():(_&4194048)===_?r5-Ge():0;if(fe=fS(Yt,fe),fe!==null){Ll=_,i.cancelPendingCommit=fe(m5.bind(null,i,a,_,l,c,g,C,H,lt,Bt,Yt,null,Lt,kt)),gu(i,_,C,!Rt);return}}m5(i,a,_,l,c,g,C,H,lt)}function CE(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],_=g.getSnapshot;g=g.value;try{if(!bi(_(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function gu(i,a,l,c){a&=~C1,a&=~uc,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var g=a;0<g;){var _=31-Be(g),C=1<<_;c[_]=-1,g&=~C}l!==0&&Yi(i,l,a)}function Zd(){return(jn&6)===0?(Sf(0),!1):!0}function k1(){if(pn!==null){if(Qn===0)var i=pn.return;else i=pn,Ps=Do=null,Kc(i),Kt=null,pe=0,i=pn;for(;i!==null;)Vy(i.alternate,i),i=i.return;pn=null}}function sh(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,KE(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Ll=0,k1(),ur=i,pn=l=Ga(i.current,null),yn=a,Qn=0,ys=null,fu=!1,rh=pi(i,a),x1=!1,ih=vs=C1=uc=du=Hr=0,ns=Af=null,R1=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var g=31-Be(c),_=1<<g;a|=i[g],c&=~_}return Il=a,Xu(),l}function l5(i,a){Ne=null,it.H=pf,a===ft||a===Z?(a=Ft(),Qn=3):a===Tt?(a=Ft(),Qn=4):Qn=a===h1?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ys=a,pn===null&&(Hr=1,qd(i,Ya(a,i.current)))}function u5(){var i=mr.current;return i===null?!0:(yn&4194048)===yn?Nn===null:(yn&62914560)===yn||(yn&536870912)!==0?i===Nn:!1}function c5(){var i=it.H;return it.H=pf,i===null?pf:i}function h5(){var i=it.A;return it.A=NE,i}function tp(){Hr=4,fu||(yn&4194048)!==yn&&mr.current!==null||(rh=!0),(du&134217727)===0&&(uc&134217727)===0||ur===null||gu(ur,yn,vs,!1)}function O1(i,a,l){var c=jn;jn|=2;var g=c5(),_=h5();(ur!==i||yn!==a)&&(Jd=null,sh(i,a)),a=!1;var C=Hr;t:do try{if(Qn!==0&&pn!==null){var H=pn,lt=ys;switch(Qn){case 8:k1(),C=6;break t;case 3:case 2:case 9:case 6:mr.current===null&&(a=!0);var Rt=Qn;if(Qn=0,ys=null,oh(i,H,lt,Rt),l&&rh){C=0;break t}break;default:Rt=Qn,Qn=0,ys=null,oh(i,H,lt,Rt)}}RE(),C=Hr;break}catch(Bt){l5(i,Bt)}while(!0);return a&&i.shellSuspendCounter++,Ps=Do=null,jn=c,it.H=g,it.A=_,pn===null&&(ur=null,yn=0,Xu()),C}function RE(){for(;pn!==null;)f5(pn)}function IE(i,a){var l=jn;jn|=2;var c=c5(),g=h5();ur!==i||yn!==a?(Jd=null,Xd=Ge()+500,sh(i,a)):rh=pi(i,a);t:do try{if(Qn!==0&&pn!==null){a=pn;var _=ys;e:switch(Qn){case 1:Qn=0,ys=null,oh(i,a,_,1);break;case 2:case 9:if(wt(_)){Qn=0,ys=null,d5(a);break}a=function(){Qn!==2&&Qn!==9||ur!==i||(Qn=7),Fo(i)},_.then(a,a);break t;case 3:Qn=7;break t;case 4:Qn=5;break t;case 7:wt(_)?(Qn=0,ys=null,d5(a)):(Qn=0,ys=null,oh(i,a,_,7));break;case 5:var C=null;switch(pn.tag){case 26:C=pn.memoizedState;case 5:case 27:var H=pn;if(C?J5(C):H.stateNode.complete){Qn=0,ys=null;var lt=H.sibling;if(lt!==null)pn=lt;else{var Rt=H.return;Rt!==null?(pn=Rt,ep(Rt)):pn=null}break e}}Qn=0,ys=null,oh(i,a,_,5);break;case 6:Qn=0,ys=null,oh(i,a,_,6);break;case 8:k1(),Hr=6;break t;default:throw Error(r(462))}}LE();break}catch(Bt){l5(i,Bt)}while(!0);return Ps=Do=null,it.H=c,it.A=g,jn=l,pn!==null?0:(ur=null,yn=0,Xu(),Hr)}function LE(){for(;pn!==null&&!Qe();)f5(pn)}function f5(i){var a=My(i.alternate,i,Il);i.memoizedProps=i.pendingProps,a===null?ep(i):pn=a}function d5(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=Iy(l,a,a.pendingProps,a.type,void 0,yn);break;case 11:a=Iy(l,a,a.pendingProps,a.type.render,a.ref,yn);break;case 5:Kc(a);default:Vy(l,a),a=pn=tc(a,Il),a=My(l,a,Il)}i.memoizedProps=i.pendingProps,a===null?ep(i):pn=a}function oh(i,a,l,c){Ps=Do=null,Kc(a),Kt=null,pe=0;var g=a.return;try{if(_E(i,g,a,l,yn)){Hr=1,qd(i,Ya(l,i.current)),pn=null;return}}catch(_){if(g!==null)throw pn=g,_;Hr=1,qd(i,Ya(l,i.current)),pn=null;return}a.flags&32768?(dn||c===1?i=!0:rh||(yn&536870912)!==0?i=!1:(fu=i=!0,(c===2||c===9||c===3||c===6)&&(c=mr.current,c!==null&&c.tag===13&&(c.flags|=16384))),p5(a,i)):ep(a)}function ep(i){var a=i;do{if((a.flags&32768)!==0){p5(a,fu);return}i=a.return;var l=AE(a.alternate,a,Il);if(l!==null){pn=l;return}if(a=a.sibling,a!==null){pn=a;return}pn=a=i}while(a!==null);Hr===0&&(Hr=5)}function p5(i,a){do{var l=EE(i.alternate,i);if(l!==null){l.flags&=32767,pn=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){pn=i;return}pn=i=l}while(i!==null);Hr=6,pn=null}function m5(i,a,l,c,g,_,C,H,lt){i.cancelPendingCommit=null;do np();while(Ni!==0);if((jn&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(_=a.lanes|a.childLanes,_|=Oc,ss(i,l,_,C,H,lt),i===ur&&(pn=ur=null,yn=0),ah=a,mu=i,Ll=l,I1=_,L1=g,i5=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,PE(Me,function(){return b5(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=it.T,it.T=null,g=dt.p,dt.p=2,C=jn,jn|=4;try{SE(i,a,l)}finally{jn=C,dt.p=g,it.T=c}}Ni=1,g5(),y5(),v5()}}function g5(){if(Ni===1){Ni=0;var i=mu,a=ah,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=it.T,it.T=null;var c=dt.p;dt.p=2;var g=jn;jn|=4;try{$y(a,i);var _=Y1,C=to(i.containerInfo),H=_.focusedElem,lt=_.selectionRange;if(C!==H&&H&&H.ownerDocument&&Zs(H.ownerDocument.documentElement,H)){if(lt!==null&&ks(H)){var Rt=lt.start,Bt=lt.end;if(Bt===void 0&&(Bt=Rt),"selectionStart"in H)H.selectionStart=Rt,H.selectionEnd=Math.min(Bt,H.value.length);else{var Yt=H.ownerDocument||document,Lt=Yt&&Yt.defaultView||window;if(Lt.getSelection){var kt=Lt.getSelection(),fe=H.textContent.length,Ue=Math.min(lt.start,fe),ar=lt.end===void 0?Ue:Math.min(lt.end,fe);!kt.extend&&Ue>ar&&(C=ar,ar=Ue,Ue=C);var _t=tu(H,Ue),pt=tu(H,ar);if(_t&&pt&&(kt.rangeCount!==1||kt.anchorNode!==_t.node||kt.anchorOffset!==_t.offset||kt.focusNode!==pt.node||kt.focusOffset!==pt.offset)){var xt=Yt.createRange();xt.setStart(_t.node,_t.offset),kt.removeAllRanges(),Ue>ar?(kt.addRange(xt),kt.extend(pt.node,pt.offset)):(xt.setEnd(pt.node,pt.offset),kt.addRange(xt))}}}}for(Yt=[],kt=H;kt=kt.parentNode;)kt.nodeType===1&&Yt.push({element:kt,left:kt.scrollLeft,top:kt.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Yt.length;H++){var qt=Yt[H];qt.element.scrollLeft=qt.left,qt.element.scrollTop=qt.top}}pp=!!G1,Y1=G1=null}finally{jn=g,dt.p=c,it.T=l}}i.current=a,Ni=2}}function y5(){if(Ni===2){Ni=0;var i=mu,a=ah,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=it.T,it.T=null;var c=dt.p;dt.p=2;var g=jn;jn|=4;try{Gy(i,a.alternate,a)}finally{jn=g,dt.p=c,it.T=l}}Ni=3}}function v5(){if(Ni===4||Ni===3){Ni=0,_e();var i=mu,a=ah,l=Ll,c=i5;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ni=5:(Ni=0,ah=mu=null,_5(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(pu=null),Jn(l),a=a.stateNode,ae&&typeof ae.onCommitFiberRoot=="function")try{ae.onCommitFiberRoot(nn,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=it.T,g=dt.p,dt.p=2,it.T=null;try{for(var _=i.onRecoverableError,C=0;C<c.length;C++){var H=c[C];_(H.value,{componentStack:H.stack})}}finally{it.T=a,dt.p=g}}(Ll&3)!==0&&np(),Fo(i),g=i.pendingLanes,(l&261930)!==0&&(g&42)!==0?i===D1?Ef++:(Ef=0,D1=i):Ef=0,Sf(0)}}function _5(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,rc(a)))}function np(){return g5(),y5(),v5(),b5()}function b5(){if(Ni!==5)return!1;var i=mu,a=I1;I1=0;var l=Jn(Ll),c=it.T,g=dt.p;try{dt.p=32>l?32:l,it.T=null,l=L1,L1=null;var _=mu,C=Ll;if(Ni=0,ah=mu=null,Ll=0,(jn&6)!==0)throw Error(r(331));var H=jn;if(jn|=4,e5(_.current),Jy(_,_.current,C,l),jn=H,Sf(0,!1),ae&&typeof ae.onPostCommitFiberRoot=="function")try{ae.onPostCommitFiberRoot(nn,_)}catch{}return!0}finally{dt.p=g,it.T=c,_5(i,a)}}function w5(i,a,l){a=Ya(l,a),a=c1(i.stateNode,a,2),i=rn(i,a,2),i!==null&&(Ae(i,2),Fo(i))}function $n(i,a,l){if(i.tag===3)w5(i,i,l);else for(;a!==null;){if(a.tag===3){w5(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(pu===null||!pu.has(c))){i=Ya(l,i),l=Ay(2),c=rn(a,l,2),c!==null&&(Ey(l,c,a,i),Ae(c,2),Fo(c));break}}a=a.return}}function P1(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new xE;var g=new Set;c.set(a,g)}else g=c.get(a),g===void 0&&(g=new Set,c.set(a,g));g.has(l)||(x1=!0,g.add(l),i=DE.bind(null,i,a,l),a.then(i,i))}function DE(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,ur===i&&(yn&l)===l&&(Hr===4||Hr===3&&(yn&62914560)===yn&&300>Ge()-$d?(jn&2)===0&&sh(i,0):C1|=l,ih===yn&&(ih=0)),Fo(i)}function A5(i,a){a===0&&(a=Ua()),i=no(i,a),i!==null&&(Ae(i,a),Fo(i))}function kE(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),A5(i,l)}function OE(i,a){var l=0;switch(i.tag){case 31:case 13:var c=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),A5(i,l)}function PE(i,a){return ie(i,a)}var rp=null,lh=null,M1=!1,ip=!1,U1=!1,yu=0;function Fo(i){i!==lh&&i.next===null&&(lh===null?rp=lh=i:lh=lh.next=i),ip=!0,M1||(M1=!0,UE())}function Sf(i,a){if(!U1&&ip){U1=!0;do for(var l=!1,c=rp;c!==null;){if(i!==0){var g=c.pendingLanes;if(g===0)var _=0;else{var C=c.suspendedLanes,H=c.pingedLanes;_=(1<<31-Be(42|i)+1)-1,_&=g&~(C&~H),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,N5(c,_))}else _=yn,_=sn(c,c===ur?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(_&3)===0||pi(c,_)||(l=!0,N5(c,_));c=c.next}while(l);U1=!1}}function ME(){E5()}function E5(){ip=M1=!1;var i=0;yu!==0&&WE()&&(i=yu);for(var a=Ge(),l=null,c=rp;c!==null;){var g=c.next,_=S5(c,a);_===0?(c.next=null,l===null?rp=g:l.next=g,g===null&&(lh=l)):(l=c,(i!==0||(_&3)!==0)&&(ip=!0)),c=g}Ni!==0&&Ni!==5||Sf(i),yu!==0&&(yu=0)}function S5(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,g=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var C=31-Be(_),H=1<<C,lt=g[C];lt===-1?((H&l)===0||(H&c)!==0)&&(g[C]=ii(H,a)):lt<=a&&(i.expiredLanes|=H),_&=~H}if(a=ur,l=yn,l=sn(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&(Qn===2||Qn===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&ee(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||pi(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&ee(c),Jn(l)){case 2:case 8:l=Sn;break;case 32:l=Me;break;case 268435456:l=ke;break;default:l=Me}return c=T5.bind(null,i),l=ie(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&ee(c),i.callbackPriority=2,i.callbackNode=null,2}function T5(i,a){if(Ni!==0&&Ni!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(np()&&i.callbackNode!==l)return null;var c=yn;return c=sn(i,i===ur?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(s5(i,c,a),S5(i,Ge()),i.callbackNode!=null&&i.callbackNode===l?T5.bind(null,i):null)}function N5(i,a){if(np())return null;s5(i,a,!0)}function UE(){QE(function(){(jn&6)!==0?ie(Ve,ME):E5()})}function V1(){if(yu===0){var i=p;i===0&&(i=Ln,Ln<<=1,(Ln&261888)===0&&(Ln=256)),yu=i}return yu}function x5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Na(""+i)}function C5(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function VE(i,a,l,c,g){if(a==="submit"&&l&&l.stateNode===g){var _=x5((g[Gn]||null).action),C=c.submitter;C&&(a=(a=C[Gn]||null)?x5(a.formAction):C.getAttribute("formAction"),a!==null&&(_=a,C=null));var H=new Pi("action","action",null,c,g);i.push({event:H,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(yu!==0){var lt=C?C5(g,C):new FormData(g);i1(l,{pending:!0,data:lt,method:g.method,action:_},null,lt)}}else typeof _=="function"&&(H.preventDefault(),lt=C?C5(g,C):new FormData(g),i1(l,{pending:!0,data:lt,method:g.method,action:_},_,lt))},currentTarget:g}]})}}for(var B1=0;B1<gl.length;B1++){var j1=gl[B1],BE=j1.toLowerCase(),jE=j1[0].toUpperCase()+j1.slice(1);Ha(BE,"on"+jE)}Ha(ml,"onAnimationEnd"),Ha(Qu,"onAnimationIteration"),Ha(Jh,"onAnimationStart"),Ha("dblclick","onDoubleClick"),Ha("focusin","onFocus"),Ha("focusout","onBlur"),Ha(Rd,"onTransitionRun"),Ha(Id,"onTransitionStart"),Ha(Ld,"onTransitionCancel"),Ha(Zh,"onTransitionEnd"),Sa("onMouseEnter",["mouseout","mouseover"]),Sa("onMouseLeave",["mouseout","mouseover"]),Sa("onPointerEnter",["pointerout","pointerover"]),Sa("onPointerLeave",["pointerout","pointerover"]),ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tf));function R5(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],g=c.event;c=c.listeners;t:{var _=void 0;if(a)for(var C=c.length-1;0<=C;C--){var H=c[C],lt=H.instance,Rt=H.currentTarget;if(H=H.listener,lt!==_&&g.isPropagationStopped())break t;_=H,g.currentTarget=Rt;try{_(g)}catch(Bt){$u(Bt)}g.currentTarget=null,_=lt}else for(C=0;C<c.length;C++){if(H=c[C],lt=H.instance,Rt=H.currentTarget,H=H.listener,lt!==_&&g.isPropagationStopped())break t;_=H,g.currentTarget=Rt;try{_(g)}catch(Bt){$u(Bt)}g.currentTarget=null,_=lt}}}}function mn(i,a){var l=a[Ii];l===void 0&&(l=a[Ii]=new Set);var c=i+"__bubble";l.has(c)||(I5(a,i,2,!1),l.add(c))}function F1(i,a,l){var c=0;a&&(c|=4),I5(l,i,c,a)}var ap="_reactListening"+Math.random().toString(36).slice(2);function q1(i){if(!i[ap]){i[ap]=!0,_o.forEach(function(l){l!=="selectionchange"&&(FE.has(l)||F1(l,!1,i),F1(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[ap]||(a[ap]=!0,F1("selectionchange",!1,a))}}function I5(i,a,l,c){switch(av(a)){case 2:var g=mS;break;case 8:g=gS;break;default:g=rg}l=g.bind(null,a,l,i),g=void 0,!Ys||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),c?g!==void 0?i.addEventListener(a,l,{capture:!0,passive:g}):i.addEventListener(a,l,!0):g!==void 0?i.addEventListener(a,l,{passive:g}):i.addEventListener(a,l,!1)}function z1(i,a,l,c,g){var _=c;if((a&1)===0&&(a&2)===0&&c!==null)t:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var H=c.stateNode.containerInfo;if(H===g)break;if(C===4)for(C=c.return;C!==null;){var lt=C.tag;if((lt===3||lt===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;H!==null;){if(C=Wi(H),C===null)return;if(lt=C.tag,lt===5||lt===6||lt===26||lt===27){c=_=C;continue t}H=H.parentNode}}c=c.return}Ss(function(){var Rt=_,Bt=Oi(l),Yt=[];t:{var Lt=tf.get(i);if(Lt!==void 0){var kt=Pi,fe=i;switch(i){case"keypress":if(Ba(l)===0)break t;case"keydown":case"keyup":kt=gn;break;case"focusin":fe="focus",kt=La;break;case"focusout":fe="blur",kt=La;break;case"beforeblur":case"afterblur":kt=La;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":kt=Ia;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":kt=fl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":kt=S;break;case ml:case Qu:case Jh:kt=w;break;case Zh:kt=K;break;case"scroll":case"scrollend":kt=Ns;break;case"wheel":kt=Ct;break;case"copy":case"cut":case"paste":kt=tt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":kt=zn;break;case"toggle":case"beforetoggle":kt=je}var Ue=(a&4)!==0,ar=!Ue&&(i==="scroll"||i==="scrollend"),_t=Ue?Lt!==null?Lt+"Capture":null:Lt;Ue=[];for(var pt=Rt,xt;pt!==null;){var qt=pt;if(xt=qt.stateNode,qt=qt.tag,qt!==5&&qt!==26&&qt!==27||xt===null||_t===null||(qt=Kr(pt,_t),qt!=null&&Ue.push(Nf(pt,qt,xt))),ar)break;pt=pt.return}0<Ue.length&&(Lt=new kt(Lt,fe,null,l,Bt),Yt.push({event:Lt,listeners:Ue}))}}if((a&7)===0){t:{if(Lt=i==="mouseover"||i==="pointerover",kt=i==="mouseout"||i==="pointerout",Lt&&l!==hs&&(fe=l.relatedTarget||l.fromElement)&&(Wi(fe)||fe[Ur]))break t;if((kt||Lt)&&(Lt=Bt.window===Bt?Bt:(Lt=Bt.ownerDocument)?Lt.defaultView||Lt.parentWindow:window,kt?(fe=l.relatedTarget||l.toElement,kt=Rt,fe=fe?Wi(fe):null,fe!==null&&(ar=o(fe),Ue=fe.tag,fe!==ar||Ue!==5&&Ue!==27&&Ue!==6)&&(fe=null)):(kt=null,fe=Rt),kt!==fe)){if(Ue=Ia,qt="onMouseLeave",_t="onMouseEnter",pt="mouse",(i==="pointerout"||i==="pointerover")&&(Ue=zn,qt="onPointerLeave",_t="onPointerEnter",pt="pointer"),ar=kt==null?Lt:Ki(kt),xt=fe==null?Lt:Ki(fe),Lt=new Ue(qt,pt+"leave",kt,l,Bt),Lt.target=ar,Lt.relatedTarget=xt,qt=null,Wi(Bt)===Rt&&(Ue=new Ue(_t,pt+"enter",fe,l,Bt),Ue.target=xt,Ue.relatedTarget=ar,qt=Ue),ar=qt,kt&&fe)e:{for(Ue=qE,_t=kt,pt=fe,xt=0,qt=_t;qt;qt=Ue(qt))xt++;qt=0;for(var Ie=pt;Ie;Ie=Ue(Ie))qt++;for(;0<xt-qt;)_t=Ue(_t),xt--;for(;0<qt-xt;)pt=Ue(pt),qt--;for(;xt--;){if(_t===pt||pt!==null&&_t===pt.alternate){Ue=_t;break e}_t=Ue(_t),pt=Ue(pt)}Ue=null}else Ue=null;kt!==null&&L5(Yt,Lt,kt,Ue,!1),fe!==null&&ar!==null&&L5(Yt,ar,fe,Ue,!0)}}t:{if(Lt=Rt?Ki(Rt):window,kt=Lt.nodeName&&Lt.nodeName.toLowerCase(),kt==="select"||kt==="input"&&Lt.type==="file")var Pn=Co;else if(Wu(Lt))if(fa)Pn=Ls;else{Pn=Cr;var ge=Jl}else kt=Lt.nodeName,!kt||kt.toLowerCase()!=="input"||Lt.type!=="checkbox"&&Lt.type!=="radio"?Rt&&So(Rt.elementType)&&(Pn=Co):Pn=kc;if(Pn&&(Pn=Pn(i,Rt))){ka(Yt,Pn,l,Bt);break t}ge&&ge(i,Lt,Rt),i==="focusout"&&Rt&&Lt.type==="number"&&Rt.memoizedProps.value!=null&&ll(Lt,"number",Lt.value)}switch(ge=Rt?Ki(Rt):window,i){case"focusin":(Wu(ge)||ge.contentEditable==="true")&&(Oa=ge,eo=Rt,Ui=null);break;case"focusout":Ui=eo=Oa=null;break;case"mousedown":za=!0;break;case"contextmenu":case"mouseup":case"dragend":za=!1,Rn(Yt,l,Bt);break;case"selectionchange":if(pl)break;case"keydown":case"keyup":Rn(Yt,l,Bt)}var ln;if(un)t:{switch(i){case"compositionstart":var vn="onCompositionStart";break t;case"compositionend":vn="onCompositionEnd";break t;case"compositionupdate":vn="onCompositionUpdate";break t}vn=void 0}else Cs?Da(i,l)&&(vn="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(vn="onCompositionStart");vn&&(Mi&&l.locale!=="ko"&&(Cs||vn!=="onCompositionStart"?vn==="onCompositionEnd"&&Cs&&(ln=Ts()):($i=Bt,Ws="value"in $i?$i.value:$i.textContent,Cs=!0)),ge=sp(Rt,vn),0<ge.length&&(vn=new yt(vn,i,null,l,Bt),Yt.push({event:vn,listeners:ge}),ln?vn.data=ln:(ln=xs(l),ln!==null&&(vn.data=ln)))),(ln=oi?_r(i,l):Qs(i,l))&&(vn=sp(Rt,"onBeforeInput"),0<vn.length&&(ge=new yt("onBeforeInput","beforeinput",null,l,Bt),Yt.push({event:ge,listeners:vn}),ge.data=ln)),VE(Yt,i,Rt,l,Bt)}R5(Yt,a)})}function Nf(i,a,l){return{instance:i,listener:a,currentTarget:l}}function sp(i,a){for(var l=a+"Capture",c=[];i!==null;){var g=i,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=Kr(i,l),g!=null&&c.unshift(Nf(i,g,_)),g=Kr(i,a),g!=null&&c.push(Nf(i,g,_))),i.tag===3)return c;i=i.return}return[]}function qE(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function L5(i,a,l,c,g){for(var _=a._reactName,C=[];l!==null&&l!==c;){var H=l,lt=H.alternate,Rt=H.stateNode;if(H=H.tag,lt!==null&&lt===c)break;H!==5&&H!==26&&H!==27||Rt===null||(lt=Rt,g?(Rt=Kr(l,_),Rt!=null&&C.unshift(Nf(l,Rt,lt))):g||(Rt=Kr(l,_),Rt!=null&&C.push(Nf(l,Rt,lt)))),l=l.return}C.length!==0&&i.push({event:a,listeners:C})}var zE=/\r\n?/g,HE=/\u0000|\uFFFD/g;function D5(i){return(typeof i=="string"?i:""+i).replace(zE,`
`).replace(HE,"")}function k5(i,a){return a=D5(a),D5(i)===a}function ir(i,a,l,c,g,_){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Nr(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Nr(i,""+c);break;case"className":Qi(i,"class",c);break;case"tabIndex":Qi(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Qi(i,l,c);break;case"style":hl(i,c,_);break;case"data":if(a!=="object"){Qi(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Na(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(a!=="input"&&ir(i,a,"name",g.name,g,null),ir(i,a,"formEncType",g.formEncType,g,null),ir(i,a,"formMethod",g.formMethod,g,null),ir(i,a,"formTarget",g.formTarget,g,null)):(ir(i,a,"encType",g.encType,g,null),ir(i,a,"method",g.method,g,null),ir(i,a,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Na(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=xa);break;case"onScroll":c!=null&&mn("scroll",i);break;case"onScrollEnd":c!=null&&mn("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Na(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":mn("beforetoggle",i),mn("toggle",i),ls(i,"popover",c);break;case"xlinkActuate":on(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":on(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":on(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":on(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":on(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":on(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":on(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":on(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":on(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ls(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=To.get(l)||l,ls(i,l,c))}}function H1(i,a,l,c,g,_){switch(l){case"style":hl(i,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Nr(i,c):(typeof c=="number"||typeof c=="bigint")&&Nr(i,""+c);break;case"onScroll":c!=null&&mn("scroll",i);break;case"onScrollEnd":c!=null&&mn("scrollend",i);break;case"onClick":c!=null&&(i.onclick=xa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Di.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),_=i[Gn]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(a,_,g),typeof c=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,g);break t}l in i?i[l]=c:c===!0?i.setAttribute(l,""):ls(i,l,c)}}}function ia(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mn("error",i),mn("load",i);var c=!1,g=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var C=l[_];if(C!=null)switch(_){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ir(i,a,_,C,l,null)}}g&&ir(i,a,"srcSet",l.srcSet,l,null),c&&ir(i,a,"src",l.src,l,null);return;case"input":mn("invalid",i);var H=_=C=g=null,lt=null,Rt=null;for(c in l)if(l.hasOwnProperty(c)){var Bt=l[c];if(Bt!=null)switch(c){case"name":g=Bt;break;case"type":C=Bt;break;case"checked":lt=Bt;break;case"defaultChecked":Rt=Bt;break;case"value":_=Bt;break;case"defaultValue":H=Bt;break;case"children":case"dangerouslySetInnerHTML":if(Bt!=null)throw Error(r(137,a));break;default:ir(i,a,c,Bt,l,null)}}Ql(i,_,H,lt,Rt,C,g,!1);return;case"select":mn("invalid",i),c=C=_=null;for(g in l)if(l.hasOwnProperty(g)&&(H=l[g],H!=null))switch(g){case"value":_=H;break;case"defaultValue":C=H;break;case"multiple":c=H;default:ir(i,a,g,H,l,null)}a=_,l=C,i.multiple=!!c,a!=null?vi(i,!!c,a,!1):l!=null&&vi(i,!!c,l,!0);return;case"textarea":mn("invalid",i),_=g=c=null;for(C in l)if(l.hasOwnProperty(C)&&(H=l[C],H!=null))switch(C){case"value":c=H;break;case"defaultValue":g=H;break;case"children":_=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:ir(i,a,C,H,l,null)}cs(i,c,g,_);return;case"option":for(lt in l)if(l.hasOwnProperty(lt)&&(c=l[lt],c!=null))switch(lt){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ir(i,a,lt,c,l,null)}return;case"dialog":mn("beforetoggle",i),mn("toggle",i),mn("cancel",i),mn("close",i);break;case"iframe":case"object":mn("load",i);break;case"video":case"audio":for(c=0;c<Tf.length;c++)mn(Tf[c],i);break;case"image":mn("error",i),mn("load",i);break;case"details":mn("toggle",i);break;case"embed":case"source":case"link":mn("error",i),mn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Rt in l)if(l.hasOwnProperty(Rt)&&(c=l[Rt],c!=null))switch(Rt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ir(i,a,Rt,c,l,null)}return;default:if(So(a)){for(Bt in l)l.hasOwnProperty(Bt)&&(c=l[Bt],c!==void 0&&H1(i,a,Bt,c,l,void 0));return}}for(H in l)l.hasOwnProperty(H)&&(c=l[H],c!=null&&ir(i,a,H,c,l,null))}function GE(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,C=null,H=null,lt=null,Rt=null,Bt=null;for(kt in l){var Yt=l[kt];if(l.hasOwnProperty(kt)&&Yt!=null)switch(kt){case"checked":break;case"value":break;case"defaultValue":lt=Yt;default:c.hasOwnProperty(kt)||ir(i,a,kt,null,c,Yt)}}for(var Lt in c){var kt=c[Lt];if(Yt=l[Lt],c.hasOwnProperty(Lt)&&(kt!=null||Yt!=null))switch(Lt){case"type":_=kt;break;case"name":g=kt;break;case"checked":Rt=kt;break;case"defaultChecked":Bt=kt;break;case"value":C=kt;break;case"defaultValue":H=kt;break;case"children":case"dangerouslySetInnerHTML":if(kt!=null)throw Error(r(137,a));break;default:kt!==Yt&&ir(i,a,Lt,kt,c,Yt)}}Ao(i,C,H,lt,Rt,Bt,_,g);return;case"select":kt=C=H=Lt=null;for(_ in l)if(lt=l[_],l.hasOwnProperty(_)&&lt!=null)switch(_){case"value":break;case"multiple":kt=lt;default:c.hasOwnProperty(_)||ir(i,a,_,null,c,lt)}for(g in c)if(_=c[g],lt=l[g],c.hasOwnProperty(g)&&(_!=null||lt!=null))switch(g){case"value":Lt=_;break;case"defaultValue":H=_;break;case"multiple":C=_;default:_!==lt&&ir(i,a,g,_,c,lt)}a=H,l=C,c=kt,Lt!=null?vi(i,!!l,Lt,!1):!!c!=!!l&&(a!=null?vi(i,!!l,a,!0):vi(i,!!l,l?[]:"",!1));return;case"textarea":kt=Lt=null;for(H in l)if(g=l[H],l.hasOwnProperty(H)&&g!=null&&!c.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:ir(i,a,H,null,c,g)}for(C in c)if(g=c[C],_=l[C],c.hasOwnProperty(C)&&(g!=null||_!=null))switch(C){case"value":Lt=g;break;case"defaultValue":kt=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==_&&ir(i,a,C,g,c,_)}ul(i,Lt,kt);return;case"option":for(var fe in l)if(Lt=l[fe],l.hasOwnProperty(fe)&&Lt!=null&&!c.hasOwnProperty(fe))switch(fe){case"selected":i.selected=!1;break;default:ir(i,a,fe,null,c,Lt)}for(lt in c)if(Lt=c[lt],kt=l[lt],c.hasOwnProperty(lt)&&Lt!==kt&&(Lt!=null||kt!=null))switch(lt){case"selected":i.selected=Lt&&typeof Lt!="function"&&typeof Lt!="symbol";break;default:ir(i,a,lt,Lt,c,kt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in l)Lt=l[Ue],l.hasOwnProperty(Ue)&&Lt!=null&&!c.hasOwnProperty(Ue)&&ir(i,a,Ue,null,c,Lt);for(Rt in c)if(Lt=c[Rt],kt=l[Rt],c.hasOwnProperty(Rt)&&Lt!==kt&&(Lt!=null||kt!=null))switch(Rt){case"children":case"dangerouslySetInnerHTML":if(Lt!=null)throw Error(r(137,a));break;default:ir(i,a,Rt,Lt,c,kt)}return;default:if(So(a)){for(var ar in l)Lt=l[ar],l.hasOwnProperty(ar)&&Lt!==void 0&&!c.hasOwnProperty(ar)&&H1(i,a,ar,void 0,c,Lt);for(Bt in c)Lt=c[Bt],kt=l[Bt],!c.hasOwnProperty(Bt)||Lt===kt||Lt===void 0&&kt===void 0||H1(i,a,Bt,Lt,c,kt);return}}for(var _t in l)Lt=l[_t],l.hasOwnProperty(_t)&&Lt!=null&&!c.hasOwnProperty(_t)&&ir(i,a,_t,null,c,Lt);for(Yt in c)Lt=c[Yt],kt=l[Yt],!c.hasOwnProperty(Yt)||Lt===kt||Lt==null&&kt==null||ir(i,a,Yt,Lt,c,kt)}function O5(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YE(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var g=l[c],_=g.transferSize,C=g.initiatorType,H=g.duration;if(_&&H&&O5(C)){for(C=0,H=g.responseEnd,c+=1;c<l.length;c++){var lt=l[c],Rt=lt.startTime;if(Rt>H)break;var Bt=lt.transferSize,Yt=lt.initiatorType;Bt&&O5(Yt)&&(lt=lt.responseEnd,C+=Bt*(lt<H?1:(H-Rt)/(lt-Rt)))}if(--c,a+=8*(_+C)/(g.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var G1=null,Y1=null;function op(i){return i.nodeType===9?i:i.ownerDocument}function P5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M5(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function W1(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var K1=null;function WE(){var i=window.event;return i&&i.type==="popstate"?i===K1?!1:(K1=i,!0):(K1=null,!1)}var U5=typeof setTimeout=="function"?setTimeout:void 0,KE=typeof clearTimeout=="function"?clearTimeout:void 0,V5=typeof Promise=="function"?Promise:void 0,QE=typeof queueMicrotask=="function"?queueMicrotask:typeof V5<"u"?function(i){return V5.resolve(null).then(i).catch($E)}:U5;function $E(i){setTimeout(function(){throw i})}function vu(i){return i==="head"}function B5(i,a){var l=a,c=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(c===0){i.removeChild(g),fh(a);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")xf(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,xf(l);for(var _=l.firstChild;_;){var C=_.nextSibling,H=_.nodeName;_[Li]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=C}}else l==="body"&&xf(i.ownerDocument.body);l=g}while(l);fh(a)}function j5(i,a){var l=i;i=0;do{var c=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=c}while(l)}function Q1(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Q1(l),os(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function XE(i,a,l,c){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Li])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Vs(i.nextSibling),i===null)break}return null}function JE(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Vs(i.nextSibling),i===null))return null;return i}function F5(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Vs(i.nextSibling),i===null))return null;return i}function $1(i){return i.data==="$?"||i.data==="$~"}function X1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function ZE(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Vs(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var J1=null;function q5(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return Vs(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function z5(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function H5(i,a,l){switch(a=op(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function xf(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);os(i)}var Bs=new Map,G5=new Set;function lp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Dl=dt.d;dt.d={f:tS,r:eS,D:nS,C:rS,L:iS,m:aS,X:oS,S:sS,M:lS};function tS(){var i=Dl.f(),a=Zd();return i||a}function eS(i){var a=gi(i);a!==null&&a.tag===5&&a.type==="form"?ly(a):Dl.r(i)}var uh=typeof document>"u"?null:document;function Y5(i,a,l){var c=uh;if(c&&typeof a=="string"&&a){var g=si(a);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),G5.has(g)||(G5.add(g),i={rel:i,crossOrigin:l,href:a},c.querySelector(g)===null&&(a=c.createElement("link"),ia(a,"link",i),fr(a),c.head.appendChild(a)))}}function nS(i){Dl.D(i),Y5("dns-prefetch",i,null)}function rS(i,a){Dl.C(i,a),Y5("preconnect",i,a)}function iS(i,a,l){Dl.L(i,a,l);var c=uh;if(c&&i&&a){var g='link[rel="preload"][as="'+si(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+si(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+si(l.imageSizes)+'"]')):g+='[href="'+si(i)+'"]';var _=g;switch(a){case"style":_=ch(i);break;case"script":_=hh(i)}Bs.has(_)||(i=A({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Bs.set(_,i),c.querySelector(g)!==null||a==="style"&&c.querySelector(Cf(_))||a==="script"&&c.querySelector(Rf(_))||(a=c.createElement("link"),ia(a,"link",i),fr(a),c.head.appendChild(a)))}}function aS(i,a){Dl.m(i,a);var l=uh;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+si(c)+'"][href="'+si(i)+'"]',_=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=hh(i)}if(!Bs.has(_)&&(i=A({rel:"modulepreload",href:i},a),Bs.set(_,i),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Rf(_)))return}c=l.createElement("link"),ia(c,"link",i),fr(c),l.head.appendChild(c)}}}function sS(i,a,l){Dl.S(i,a,l);var c=uh;if(c&&i){var g=ua(c).hoistableStyles,_=ch(i);a=a||"default";var C=g.get(_);if(!C){var H={loading:0,preload:null};if(C=c.querySelector(Cf(_)))H.loading=5;else{i=A({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Bs.get(_))&&Z1(i,l);var lt=C=c.createElement("link");fr(lt),ia(lt,"link",i),lt._p=new Promise(function(Rt,Bt){lt.onload=Rt,lt.onerror=Bt}),lt.addEventListener("load",function(){H.loading|=1}),lt.addEventListener("error",function(){H.loading|=2}),H.loading|=4,up(C,a,c)}C={type:"stylesheet",instance:C,count:1,state:H},g.set(_,C)}}}function oS(i,a){Dl.X(i,a);var l=uh;if(l&&i){var c=ua(l).hoistableScripts,g=hh(i),_=c.get(g);_||(_=l.querySelector(Rf(g)),_||(i=A({src:i,async:!0},a),(a=Bs.get(g))&&tg(i,a),_=l.createElement("script"),fr(_),ia(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(g,_))}}function lS(i,a){Dl.M(i,a);var l=uh;if(l&&i){var c=ua(l).hoistableScripts,g=hh(i),_=c.get(g);_||(_=l.querySelector(Rf(g)),_||(i=A({src:i,async:!0,type:"module"},a),(a=Bs.get(g))&&tg(i,a),_=l.createElement("script"),fr(_),ia(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(g,_))}}function W5(i,a,l,c){var g=(g=ct.current)?lp(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=ch(l.href),l=ua(g).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=ch(l.href);var _=ua(g).hoistableStyles,C=_.get(i);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,C),(_=g.querySelector(Cf(i)))&&!_._p&&(C.instance=_,C.state.loading=5),Bs.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Bs.set(i,l),_||uS(g,i,l,C.state))),a&&c===null)throw Error(r(528,""));return C}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=hh(l),l=ua(g).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ch(i){return'href="'+si(i)+'"'}function Cf(i){return'link[rel="stylesheet"]['+i+"]"}function K5(i){return A({},i,{"data-precedence":i.precedence,precedence:null})}function uS(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),ia(a,"link",l),fr(a),i.head.appendChild(a))}function hh(i){return'[src="'+si(i)+'"]'}function Rf(i){return"script[async]"+i}function Q5(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+si(l.href)+'"]');if(c)return a.instance=c,fr(c),c;var g=A({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),fr(c),ia(c,"style",g),up(c,l.precedence,i),a.instance=c;case"stylesheet":g=ch(l.href);var _=i.querySelector(Cf(g));if(_)return a.state.loading|=4,a.instance=_,fr(_),_;c=K5(l),(g=Bs.get(g))&&Z1(c,g),_=(i.ownerDocument||i).createElement("link"),fr(_);var C=_;return C._p=new Promise(function(H,lt){C.onload=H,C.onerror=lt}),ia(_,"link",c),a.state.loading|=4,up(_,l.precedence,i),a.instance=_;case"script":return _=hh(l.src),(g=i.querySelector(Rf(_)))?(a.instance=g,fr(g),g):(c=l,(g=Bs.get(_))&&(c=A({},l),tg(c,g)),i=i.ownerDocument||i,g=i.createElement("script"),fr(g),ia(g,"link",c),i.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,up(c,l.precedence,i));return a.instance}function up(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,_=g,C=0;C<c.length;C++){var H=c[C];if(H.dataset.precedence===a)_=H;else if(_!==g)break}_?_.parentNode.insertBefore(i,_.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function Z1(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function tg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var cp=null;function $5(i,a,l){if(cp===null){var c=new Map,g=cp=new Map;g.set(l,c)}else g=cp,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var _=l[g];if(!(_[Li]||_[Dn]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var C=_.getAttribute(a)||"";C=i+C;var H=c.get(C);H?H.push(_):c.set(C,[_])}}return c}function X5(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function cS(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function J5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function hS(i,a,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=ch(c.href),_=a.querySelector(Cf(g));if(_){a=_._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=hp.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=_,fr(_);return}_=a.ownerDocument||a,c=K5(c),(g=Bs.get(g))&&Z1(c,g),_=_.createElement("link"),fr(_);var C=_;C._p=new Promise(function(H,lt){C.onload=H,C.onerror=lt}),ia(_,"link",c),l.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=hp.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var eg=0;function fS(i,a){return i.stylesheets&&i.count===0&&dp(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var c=setTimeout(function(){if(i.stylesheets&&dp(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+a);0<i.imgBytes&&eg===0&&(eg=62500*YE());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&dp(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>eg?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(g)}}:null}function hp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var fp=null;function dp(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,fp=new Map,a.forEach(dS,i),fp=null,hp.call(i))}function dS(i,a){if(!(a.state.loading&4)){var l=fp.get(i);if(l)var c=l.get(null);else{l=new Map,fp.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var C=g[_];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),c=C)}c&&l.set(null,c)}g=a.instance,C=g.getAttribute("data-precedence"),_=l.get(C)||c,_===c&&l.set(null,g),l.set(C,g),this.count++,c=hp.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),_?_.parentNode.insertBefore(g,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),a.state.loading|=4}}var If={$$typeof:nt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function pS(i,a,l,c,g,_,C,H,lt){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.hiddenUpdates=Wr(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=lt,this.incompleteTransitions=new Map}function Z5(i,a,l,c,g,_,C,H,lt,Rt,Bt,Yt){return i=new pS(i,a,l,C,lt,Rt,Bt,Yt,H),a=1,_===!0&&(a|=24),_=Bi(3,null,null,a),i.current=_,_.stateNode=i,a=su(),a.refCount++,i.pooledCache=a,a.refCount++,_.memoizedState={element:c,isDehydrated:l,cache:a},te(_),i}function tv(i){return i?(i=wi,i):wi}function ev(i,a,l,c,g,_){g=tv(g),c.context===null?c.context=g:c.pendingContext=g,c=Oe(a),c.payload={element:l},_=_===void 0?null:_,_!==null&&(c.callback=_),l=rn(i,c,a),l!==null&&(rs(l,i,a),Vn(l,i,a))}function nv(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function ng(i,a){nv(i,a),(i=i.alternate)&&nv(i,a)}function rv(i){if(i.tag===13||i.tag===31){var a=no(i,67108864);a!==null&&rs(a,i,67108864),ng(i,67108864)}}function iv(i){if(i.tag===13||i.tag===31){var a=_s();a=qn(a);var l=no(i,a);l!==null&&rs(l,i,a),ng(i,a)}}var pp=!0;function mS(i,a,l,c){var g=it.T;it.T=null;var _=dt.p;try{dt.p=2,rg(i,a,l,c)}finally{dt.p=_,it.T=g}}function gS(i,a,l,c){var g=it.T;it.T=null;var _=dt.p;try{dt.p=8,rg(i,a,l,c)}finally{dt.p=_,it.T=g}}function rg(i,a,l,c){if(pp){var g=ig(c);if(g===null)z1(i,a,c,mp,l),sv(i,c);else if(vS(g,i,a,l,c))c.stopPropagation();else if(sv(i,c),a&4&&-1<yS.indexOf(i)){for(;g!==null;){var _=gi(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var C=Te(_.pendingLanes);if(C!==0){var H=_;for(H.pendingLanes|=2,H.entangledLanes|=2;C;){var lt=1<<31-Be(C);H.entanglements[1]|=lt,C&=~lt}Fo(_),(jn&6)===0&&(Xd=Ge()+500,Sf(0))}}break;case 31:case 13:H=no(_,2),H!==null&&rs(H,_,2),Zd(),ng(_,2)}if(_=ig(c),_===null&&z1(i,a,c,mp,l),_===g)break;g=_}g!==null&&c.stopPropagation()}else z1(i,a,c,null,l)}}function ig(i){return i=Oi(i),ag(i)}var mp=null;function ag(i){if(mp=null,i=Wi(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===31){if(i=h(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return mp=i,null}function av(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pe()){case Ve:return 2;case Sn:return 8;case Me:case be:return 32;case ke:return 268435456;default:return 32}default:return 32}}var sg=!1,_u=null,bu=null,wu=null,Lf=new Map,Df=new Map,Au=[],yS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sv(i,a){switch(i){case"focusin":case"focusout":_u=null;break;case"dragenter":case"dragleave":bu=null;break;case"mouseover":case"mouseout":wu=null;break;case"pointerover":case"pointerout":Lf.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Df.delete(a.pointerId)}}function kf(i,a,l,c,g,_){return i===null||i.nativeEvent!==_?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:_,targetContainers:[g]},a!==null&&(a=gi(a),a!==null&&rv(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),i)}function vS(i,a,l,c,g){switch(a){case"focusin":return _u=kf(_u,i,a,l,c,g),!0;case"dragenter":return bu=kf(bu,i,a,l,c,g),!0;case"mouseover":return wu=kf(wu,i,a,l,c,g),!0;case"pointerover":var _=g.pointerId;return Lf.set(_,kf(Lf.get(_)||null,i,a,l,c,g)),!0;case"gotpointercapture":return _=g.pointerId,Df.set(_,kf(Df.get(_)||null,i,a,l,c,g)),!0}return!1}function ov(i){var a=Wi(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,mi(i.priority,function(){iv(l)});return}}else if(a===31){if(a=h(l),a!==null){i.blockedOn=a,mi(i.priority,function(){iv(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function gp(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=ig(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);hs=c,l.target.dispatchEvent(c),hs=null}else return a=gi(l),a!==null&&rv(a),i.blockedOn=l,!1;a.shift()}return!0}function lv(i,a,l){gp(i)&&l.delete(a)}function _S(){sg=!1,_u!==null&&gp(_u)&&(_u=null),bu!==null&&gp(bu)&&(bu=null),wu!==null&&gp(wu)&&(wu=null),Lf.forEach(lv),Df.forEach(lv)}function yp(i,a){i.blockedOn===a&&(i.blockedOn=null,sg||(sg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,_S)))}var vp=null;function uv(i){vp!==i&&(vp=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){vp===i&&(vp=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],g=i[a+2];if(typeof c!="function"){if(ag(c||l)===null)continue;break}var _=gi(l);_!==null&&(i.splice(a,3),a-=3,i1(_,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function fh(i){function a(lt){return yp(lt,i)}_u!==null&&yp(_u,i),bu!==null&&yp(bu,i),wu!==null&&yp(wu,i),Lf.forEach(a),Df.forEach(a);for(var l=0;l<Au.length;l++){var c=Au[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Au.length&&(l=Au[0],l.blockedOn===null);)ov(l),l.blockedOn===null&&Au.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],_=l[c+1],C=g[Gn]||null;if(typeof _=="function")C||uv(l);else if(C){var H=null;if(_&&_.hasAttribute("formAction")){if(g=_,C=_[Gn]||null)H=C.formAction;else if(ag(g)!==null)continue}else H=C.action;typeof H=="function"?l[c+1]=H:(l.splice(c,3),c-=3),uv(l)}}}function cv(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(C){return g=C})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function og(i){this._internalRoot=i}_p.prototype.render=og.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=_s();ev(l,c,i,a,null,null)},_p.prototype.unmount=og.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;ev(i.current,2,null,i,null,null),Zd(),a[Ur]=null}};function _p(i){this._internalRoot=i}_p.prototype.unstable_scheduleHydration=function(i){if(i){var a=Mr();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Au.length&&a!==0&&a<Au[l].priority;l++);Au.splice(l,0,i),l===0&&ov(i)}};var hv=t.version;if(hv!=="19.2.0")throw Error(r(527,hv,"19.2.0"));dt.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var bS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:it,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bp.isDisabled&&bp.supportsFiber)try{nn=bp.inject(bS),ae=bp}catch{}}return Pf.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,c="",g=vy,_=_y,C=by;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError)),a=Z5(i,1,!1,null,null,l,c,null,g,_,C,cv),i[Ur]=a.current,q1(i),new og(a)},Pf.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var c=!1,g="",_=vy,C=_y,H=by,lt=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(H=l.onRecoverableError),l.formState!==void 0&&(lt=l.formState)),a=Z5(i,1,!0,a,l??null,c,g,lt,_,C,H,cv),a.context=tv(null),l=a.current,c=_s(),c=qn(c),g=Oe(c),g.callback=null,rn(l,g,c),l=c,a.current.lanes=l,Ae(a,l),Fo(a),i[Ur]=a.current,q1(i),new _p(a)},Pf.version="19.2.0",Pf}var wv;function IS(){if(wv)return cg.exports;wv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),cg.exports=RS(),cg.exports}var LS=IS();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Av="popstate";function DS(n={}){function t(r,s){let{pathname:o,search:u,hash:h}=r.location;return Jg("",{pathname:o,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(r,s){return typeof s=="string"?s:td(s)}return OS(t,e,null,n)}function kr(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function nl(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function kS(){return Math.random().toString(36).substring(2,10)}function Ev(n,t){return{usr:n.state,key:n.key,idx:t}}function Jg(n,t,e=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Fh(t):t,state:e,key:t&&t.key||r||kS()}}function td({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Fh(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let r=n.indexOf("?");r>=0&&(t.search=n.substring(r),n=n.substring(0,r)),n&&(t.pathname=n)}return t}function OS(n,t,e,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,h="POP",f=null,d=v();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function v(){return(u.state||{idx:null}).idx}function A(){h="POP";let P=v(),k=P==null?null:P-d;d=P,f&&f({action:h,location:j.location,delta:k})}function T(P,k){h="PUSH";let $=Jg(j.location,P,k);d=v()+1;let nt=Ev($,d),rt=j.createHref($);try{u.pushState(nt,"",rt)}catch(vt){if(vt instanceof DOMException&&vt.name==="DataCloneError")throw vt;s.location.assign(rt)}o&&f&&f({action:h,location:j.location,delta:1})}function b(P,k){h="REPLACE";let $=Jg(j.location,P,k);d=v();let nt=Ev($,d),rt=j.createHref($);u.replaceState(nt,"",rt),o&&f&&f({action:h,location:j.location,delta:0})}function M(P){return PS(P)}let j={get action(){return h},get location(){return n(s,u)},listen(P){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(Av,A),f=P,()=>{s.removeEventListener(Av,A),f=null}},createHref(P){return t(s,P)},createURL:M,encodeLocation(P){let k=M(P);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:T,replace:b,go(P){return u.go(P)}};return j}function PS(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),kr(e,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:td(n);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=e+r),new URL(r,e)}function Tw(n,t,e="/"){return MS(n,t,e,!1)}function MS(n,t,e,r){let s=typeof t=="string"?Fh(t):t,o=Fl(s.pathname||"/",e);if(o==null)return null;let u=Nw(n);US(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let d=KS(o);h=YS(u[f],d,r)}return h}function Nw(n,t=[],e=[],r="",s=!1){let o=(u,h,f=s,d)=>{let v={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&f)return;kr(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let A=Bl([r,v.relativePath]),T=e.concat(v);u.children&&u.children.length>0&&(kr(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),Nw(u.children,t,T,A,f)),!(u.path==null&&!u.index)&&t.push({path:A,score:HS(A,u.index),routesMeta:T})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let f of xw(u.path))o(u,h,!0,f)}),t}function xw(n){let t=n.split("/");if(t.length===0)return[];let[e,...r]=t,s=e.endsWith("?"),o=e.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=xw(r.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function US(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:GS(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}var VS=/^:[\w-]+$/,BS=3,jS=2,FS=1,qS=10,zS=-2,Sv=n=>n==="*";function HS(n,t){let e=n.split("/"),r=e.length;return e.some(Sv)&&(r+=zS),t&&(r+=jS),e.filter(s=>!Sv(s)).reduce((s,o)=>s+(VS.test(o)?BS:o===""?FS:qS),r)}function GS(n,t){return n.length===t.length&&n.slice(0,-1).every((r,s)=>r===t[s])?n[n.length-1]-t[t.length-1]:0}function YS(n,t,e=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],d=h===r.length-1,v=o==="/"?t:t.slice(o.length)||"/",A=nm({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},v),T=f.route;if(!A&&d&&e&&!r[r.length-1].route.index&&(A=nm({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!A)return null;Object.assign(s,A.params),u.push({params:s,pathname:Bl([o,A.pathname]),pathnameBase:JS(Bl([o,A.pathnameBase])),route:T}),A.pathnameBase!=="/"&&(o=Bl([o,A.pathnameBase]))}return u}function nm(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,r]=WS(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((d,{paramName:v,isOptional:A},T)=>{if(v==="*"){let M=h[T]||"";u=o.slice(0,o.length-M.length).replace(/(.)\/+$/,"$1")}const b=h[T];return A&&!b?d[v]=void 0:d[v]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:n}}function WS(n,t=!1,e=!0){nl(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function KS(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nl(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Fl(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=n.charAt(e);return r&&r!=="/"?null:n.slice(e)||"/"}function QS(n,t="/"){let{pathname:e,search:r="",hash:s=""}=typeof n=="string"?Fh(n):n;return{pathname:e?e.startsWith("/")?e:$S(e,t):t,search:ZS(r),hash:t6(s)}}function $S(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function pg(n,t,e,r){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XS(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Cw(n){let t=XS(n);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function Rw(n,t,e,r=!1){let s;typeof n=="string"?s=Fh(n):(s={...n},kr(!s.pathname||!s.pathname.includes("?"),pg("?","pathname","search",s)),kr(!s.pathname||!s.pathname.includes("#"),pg("#","pathname","hash",s)),kr(!s.search||!s.search.includes("#"),pg("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,h;if(u==null)h=e;else{let A=t.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),A-=1;s.pathname=T.join("/")}h=A>=0?t[A]:"/"}let f=QS(s,h),d=u&&u!=="/"&&u.endsWith("/"),v=(o||u===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(d||v)&&(f.pathname+="/"),f}var Bl=n=>n.join("/").replace(/\/\/+/g,"/"),JS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ZS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,t6=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function e6(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Iw=["POST","PUT","PATCH","DELETE"];new Set(Iw);var n6=["GET",...Iw];new Set(n6);var qh=Vt.createContext(null);qh.displayName="DataRouter";var xm=Vt.createContext(null);xm.displayName="DataRouterState";Vt.createContext(!1);var Lw=Vt.createContext({isTransitioning:!1});Lw.displayName="ViewTransition";var r6=Vt.createContext(new Map);r6.displayName="Fetchers";var i6=Vt.createContext(null);i6.displayName="Await";var il=Vt.createContext(null);il.displayName="Navigation";var dd=Vt.createContext(null);dd.displayName="Location";var al=Vt.createContext({outlet:null,matches:[],isDataRoute:!1});al.displayName="Route";var V0=Vt.createContext(null);V0.displayName="RouteError";function a6(n,{relative:t}={}){kr(pd(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:r}=Vt.useContext(il),{hash:s,pathname:o,search:u}=md(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:Bl([e,o])),r.createHref({pathname:h,search:u,hash:s})}function pd(){return Vt.useContext(dd)!=null}function Hu(){return kr(pd(),"useLocation() may be used only in the context of a <Router> component."),Vt.useContext(dd).location}var Dw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kw(n){Vt.useContext(il).static||Vt.useLayoutEffect(n)}function B0(){let{isDataRoute:n}=Vt.useContext(al);return n?_6():s6()}function s6(){kr(pd(),"useNavigate() may be used only in the context of a <Router> component.");let n=Vt.useContext(qh),{basename:t,navigator:e}=Vt.useContext(il),{matches:r}=Vt.useContext(al),{pathname:s}=Hu(),o=JSON.stringify(Cw(r)),u=Vt.useRef(!1);return kw(()=>{u.current=!0}),Vt.useCallback((f,d={})=>{if(nl(u.current,Dw),!u.current)return;if(typeof f=="number"){e.go(f);return}let v=Rw(f,JSON.parse(o),s,d.relative==="path");n==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Bl([t,v.pathname])),(d.replace?e.replace:e.push)(v,d.state,d)},[t,e,o,s,n])}Vt.createContext(null);function o6(){let{matches:n}=Vt.useContext(al),t=n[n.length-1];return t?t.params:{}}function md(n,{relative:t}={}){let{matches:e}=Vt.useContext(al),{pathname:r}=Hu(),s=JSON.stringify(Cw(e));return Vt.useMemo(()=>Rw(n,JSON.parse(s),r,t==="path"),[n,s,r,t])}function l6(n,t){return Ow(n,t)}function Ow(n,t,e,r,s){kr(pd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Vt.useContext(il),{matches:u}=Vt.useContext(al),h=u[u.length-1],f=h?h.params:{},d=h?h.pathname:"/",v=h?h.pathnameBase:"/",A=h&&h.route;{let $=A&&A.path||"";Pw(d,!A||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let T=Hu(),b;if(t){let $=typeof t=="string"?Fh(t):t;kr(v==="/"||$.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${$.pathname}" was given in the \`location\` prop.`),b=$}else b=T;let M=b.pathname||"/",j=M;if(v!=="/"){let $=v.replace(/^\//,"").split("/");j="/"+M.replace(/^\//,"").split("/").slice($.length).join("/")}let P=Tw(n,{pathname:j});nl(A||P!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),nl(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=d6(P&&P.map($=>Object.assign({},$,{params:Object.assign({},f,$.params),pathname:Bl([v,o.encodeLocation?o.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?v:Bl([v,o.encodeLocation?o.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),u,e,r,s);return t&&k?Vt.createElement(dd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},k):k}function u6(){let n=v6(),t=e6(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=Vt.createElement(Vt.Fragment,null,Vt.createElement("p",null," Hey developer "),Vt.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Vt.createElement("code",{style:o},"ErrorBoundary")," or"," ",Vt.createElement("code",{style:o},"errorElement")," prop on your route.")),Vt.createElement(Vt.Fragment,null,Vt.createElement("h2",null,"Unexpected Application Error!"),Vt.createElement("h3",{style:{fontStyle:"italic"}},t),e?Vt.createElement("pre",{style:s},e):null,u)}var c6=Vt.createElement(u6,null),h6=class extends Vt.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.unstable_onError?this.props.unstable_onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?Vt.createElement(al.Provider,{value:this.props.routeContext},Vt.createElement(V0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function f6({routeContext:n,match:t,children:e}){let r=Vt.useContext(qh);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),Vt.createElement(al.Provider,{value:n},e)}function d6(n,t=[],e=null,r=null,s=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,u=e?.errors;if(u!=null){let d=o.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);kr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let h=!1,f=-1;if(e)for(let d=0;d<o.length;d++){let v=o[d];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=d),v.route.id){let{loaderData:A,errors:T}=e,b=v.route.loader&&!A.hasOwnProperty(v.route.id)&&(!T||T[v.route.id]===void 0);if(v.route.lazy||b){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((d,v,A)=>{let T,b=!1,M=null,j=null;e&&(T=u&&v.route.id?u[v.route.id]:void 0,M=v.route.errorElement||c6,h&&(f<0&&A===0?(Pw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,j=null):f===A&&(b=!0,j=v.route.hydrateFallbackElement||null)));let P=t.concat(o.slice(0,A+1)),k=()=>{let $;return T?$=M:b?$=j:v.route.Component?$=Vt.createElement(v.route.Component,null):v.route.element?$=v.route.element:$=d,Vt.createElement(f6,{match:v,routeContext:{outlet:d,matches:P,isDataRoute:e!=null},children:$})};return e&&(v.route.ErrorBoundary||v.route.errorElement||A===0)?Vt.createElement(h6,{location:e.location,revalidation:e.revalidation,component:M,error:T,children:k(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:r}):k()},null)}function j0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p6(n){let t=Vt.useContext(qh);return kr(t,j0(n)),t}function m6(n){let t=Vt.useContext(xm);return kr(t,j0(n)),t}function g6(n){let t=Vt.useContext(al);return kr(t,j0(n)),t}function F0(n){let t=g6(n),e=t.matches[t.matches.length-1];return kr(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function y6(){return F0("useRouteId")}function v6(){let n=Vt.useContext(V0),t=m6("useRouteError"),e=F0("useRouteError");return n!==void 0?n:t.errors?.[e]}function _6(){let{router:n}=p6("useNavigate"),t=F0("useNavigate"),e=Vt.useRef(!1);return kw(()=>{e.current=!0}),Vt.useCallback(async(s,o={})=>{nl(e.current,Dw),e.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:t,...o}))},[n,t])}var Tv={};function Pw(n,t,e){!t&&!Tv[n]&&(Tv[n]=!0,nl(!1,e))}Vt.memo(b6);function b6({routes:n,future:t,state:e,unstable_onError:r}){return Ow(n,void 0,e,r,t)}function Up(n){kr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function w6({basename:n="/",children:t=null,location:e,navigationType:r="POP",navigator:s,static:o=!1}){kr(!pd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=Vt.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof e=="string"&&(e=Fh(e));let{pathname:f="/",search:d="",hash:v="",state:A=null,key:T="default"}=e,b=Vt.useMemo(()=>{let M=Fl(f,u);return M==null?null:{location:{pathname:M,search:d,hash:v,state:A,key:T},navigationType:r}},[u,f,d,v,A,T,r]);return nl(b!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${v}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:Vt.createElement(il.Provider,{value:h},Vt.createElement(dd.Provider,{children:t,value:b}))}function A6({children:n,location:t}){return l6(Zg(n),t)}function Zg(n,t=[]){let e=[];return Vt.Children.forEach(n,(r,s)=>{if(!Vt.isValidElement(r))return;let o=[...t,s];if(r.type===Vt.Fragment){e.push.apply(e,Zg(r.props.children,o));return}kr(r.type===Up,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Zg(r.props.children,o)),e.push(u)}),e}var Vp="get",Bp="application/x-www-form-urlencoded";function Cm(n){return n!=null&&typeof n.tagName=="string"}function E6(n){return Cm(n)&&n.tagName.toLowerCase()==="button"}function S6(n){return Cm(n)&&n.tagName.toLowerCase()==="form"}function T6(n){return Cm(n)&&n.tagName.toLowerCase()==="input"}function N6(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function x6(n,t){return n.button===0&&(!t||t==="_self")&&!N6(n)}var wp=null;function C6(){if(wp===null)try{new FormData(document.createElement("form"),0),wp=!1}catch{wp=!0}return wp}var R6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mg(n){return n!=null&&!R6.has(n)?(nl(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bp}"`),null):n}function I6(n,t){let e,r,s,o,u;if(S6(n)){let h=n.getAttribute("action");r=h?Fl(h,t):null,e=n.getAttribute("method")||Vp,s=mg(n.getAttribute("enctype"))||Bp,o=new FormData(n)}else if(E6(n)||T6(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?Fl(f,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||Vp,s=mg(n.getAttribute("formenctype"))||mg(h.getAttribute("enctype"))||Bp,o=new FormData(h,n),!C6()){let{name:d,type:v,value:A}=n;if(v==="image"){let T=d?`${d}.`:"";o.append(`${T}x`,"0"),o.append(`${T}y`,"0")}else d&&o.append(d,A)}}else{if(Cm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Vp,r=null,s=Bp,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:e.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function q0(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function L6(n,t,e){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${e}`:t&&Fl(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${e}`,r}async function D6(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function k6(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function O6(n,t,e){let r=await Promise.all(n.map(async s=>{let o=t.routes[s.route.id];if(o){let u=await D6(o,e);return u.links?u.links():[]}return[]}));return V6(r.flat(1).filter(k6).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Nv(n,t,e,r,s,o){let u=(f,d)=>e[d]?f.route.id!==e[d].route.id:!0,h=(f,d)=>e[d].pathname!==f.pathname||e[d].route.path?.endsWith("*")&&e[d].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,d)=>u(f,d)||h(f,d)):o==="data"?t.filter((f,d)=>{let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let A=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function P6(n,t,{includeHydrateFallback:e}={}){return M6(n.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function M6(n){return[...new Set(n)]}function U6(n){let t={},e=Object.keys(n).sort();for(let r of e)t[r]=n[r];return t}function V6(n,t){let e=new Set;return new Set(t),n.reduce((r,s)=>{let o=JSON.stringify(U6(s));return e.has(o)||(e.add(o),r.push({key:o,link:s})),r},[])}function Mw(){let n=Vt.useContext(qh);return q0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function B6(){let n=Vt.useContext(xm);return q0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var z0=Vt.createContext(void 0);z0.displayName="FrameworkContext";function Uw(){let n=Vt.useContext(z0);return q0(n,"You must render this element inside a <HydratedRouter> element"),n}function j6(n,t){let e=Vt.useContext(z0),[r,s]=Vt.useState(!1),[o,u]=Vt.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:v,onTouchStart:A}=t,T=Vt.useRef(null);Vt.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let j=k=>{k.forEach($=>{u($.isIntersecting)})},P=new IntersectionObserver(j,{threshold:.5});return T.current&&P.observe(T.current),()=>{P.disconnect()}}},[n]),Vt.useEffect(()=>{if(r){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[r]);let b=()=>{s(!0)},M=()=>{s(!1),u(!1)};return e?n!=="intent"?[o,T,{}]:[o,T,{onFocus:Mf(h,b),onBlur:Mf(f,M),onMouseEnter:Mf(d,b),onMouseLeave:Mf(v,M),onTouchStart:Mf(A,b)}]:[!1,T,{}]}function Mf(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function F6({page:n,...t}){let{router:e}=Mw(),r=Vt.useMemo(()=>Tw(e.routes,n,e.basename),[e.routes,n,e.basename]);return r?Vt.createElement(z6,{page:n,matches:r,...t}):null}function q6(n){let{manifest:t,routeModules:e}=Uw(),[r,s]=Vt.useState([]);return Vt.useEffect(()=>{let o=!1;return O6(n,t,e).then(u=>{o||s(u)}),()=>{o=!0}},[n,t,e]),r}function z6({page:n,matches:t,...e}){let r=Hu(),{manifest:s,routeModules:o}=Uw(),{basename:u}=Mw(),{loaderData:h,matches:f}=B6(),d=Vt.useMemo(()=>Nv(n,t,f,s,r,"data"),[n,t,f,s,r]),v=Vt.useMemo(()=>Nv(n,t,f,s,r,"assets"),[n,t,f,s,r]),A=Vt.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let M=new Set,j=!1;if(t.forEach(k=>{let $=s.routes[k.route.id];!$||!$.hasLoader||(!d.some(nt=>nt.route.id===k.route.id)&&k.route.id in h&&o[k.route.id]?.shouldRevalidate||$.hasClientLoader?j=!0:M.add(k.route.id))}),M.size===0)return[];let P=L6(n,u,"data");return j&&M.size>0&&P.searchParams.set("_routes",t.filter(k=>M.has(k.route.id)).map(k=>k.route.id).join(",")),[P.pathname+P.search]},[u,h,r,s,d,t,n,o]),T=Vt.useMemo(()=>P6(v,s),[v,s]),b=q6(v);return Vt.createElement(Vt.Fragment,null,A.map(M=>Vt.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...e})),T.map(M=>Vt.createElement("link",{key:M,rel:"modulepreload",href:M,...e})),b.map(({key:M,link:j})=>Vt.createElement("link",{key:M,nonce:e.nonce,...j})))}function H6(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Vw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vw&&(window.__reactRouterVersion="7.9.3")}catch{}function G6({basename:n,children:t,window:e}){let r=Vt.useRef();r.current==null&&(r.current=DS({window:e,v5Compat:!0}));let s=r.current,[o,u]=Vt.useState({action:s.action,location:s.location}),h=Vt.useCallback(f=>{Vt.startTransition(()=>u(f))},[u]);return Vt.useLayoutEffect(()=>s.listen(h),[s,h]),Vt.createElement(w6,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:s})}var Bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H0=Vt.forwardRef(function({onClick:t,discover:e="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:h,target:f,to:d,preventScrollReset:v,viewTransition:A,...T},b){let{basename:M}=Vt.useContext(il),j=typeof d=="string"&&Bw.test(d),P,k=!1;if(typeof d=="string"&&j&&(P=d,Vw))try{let I=new URL(window.location.href),z=d.startsWith("//")?new URL(I.protocol+d):new URL(d),x=Fl(z.pathname,M);z.origin===I.origin&&x!=null?d=x+z.search+z.hash:k=!0}catch{nl(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=a6(d,{relative:s}),[nt,rt,vt]=j6(r,T),Dt=Q6(d,{replace:u,state:h,target:f,preventScrollReset:v,relative:s,viewTransition:A});function G(I){t&&t(I),I.defaultPrevented||Dt(I)}let U=Vt.createElement("a",{...T,...vt,href:P||$,onClick:k||o?t:G,ref:H6(b,rt),target:f,"data-discover":!j&&e==="render"?"true":void 0});return nt&&!j?Vt.createElement(Vt.Fragment,null,U,Vt.createElement(F6,{page:$})):U});H0.displayName="Link";var Y6=Vt.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:h,children:f,...d},v){let A=md(u,{relative:d.relative}),T=Hu(),b=Vt.useContext(xm),{navigator:M,basename:j}=Vt.useContext(il),P=b!=null&&tT(A)&&h===!0,k=M.encodeLocation?M.encodeLocation(A).pathname:A.pathname,$=T.pathname,nt=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;e||($=$.toLowerCase(),nt=nt?nt.toLowerCase():null,k=k.toLowerCase()),nt&&j&&(nt=Fl(nt,j)||nt);const rt=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let vt=$===k||!s&&$.startsWith(k)&&$.charAt(rt)==="/",Dt=nt!=null&&(nt===k||!s&&nt.startsWith(k)&&nt.charAt(k.length)==="/"),G={isActive:vt,isPending:Dt,isTransitioning:P},U=vt?t:void 0,I;typeof r=="function"?I=r(G):I=[r,vt?"active":null,Dt?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(G):o;return Vt.createElement(H0,{...d,"aria-current":U,className:I,ref:v,style:z,to:u,viewTransition:h},typeof f=="function"?f(G):f)});Y6.displayName="NavLink";var W6=Vt.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:r,replace:s,state:o,method:u=Vp,action:h,onSubmit:f,relative:d,preventScrollReset:v,viewTransition:A,...T},b)=>{let M=J6(),j=Z6(h,{relative:d}),P=u.toLowerCase()==="get"?"get":"post",k=typeof h=="string"&&Bw.test(h),$=nt=>{if(f&&f(nt),nt.defaultPrevented)return;nt.preventDefault();let rt=nt.nativeEvent.submitter,vt=rt?.getAttribute("formmethod")||u;M(rt||nt.currentTarget,{fetcherKey:t,method:vt,navigate:e,replace:s,state:o,relative:d,preventScrollReset:v,viewTransition:A})};return Vt.createElement("form",{ref:b,method:P,action:j,onSubmit:r?f:$,...T,"data-discover":!k&&n==="render"?"true":void 0})});W6.displayName="Form";function K6(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jw(n){let t=Vt.useContext(qh);return kr(t,K6(n)),t}function Q6(n,{target:t,replace:e,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let h=B0(),f=Hu(),d=md(n,{relative:o});return Vt.useCallback(v=>{if(x6(v,t)){v.preventDefault();let A=e!==void 0?e:td(f)===td(d);h(n,{replace:A,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[f,h,d,e,r,t,n,s,o,u])}var $6=0,X6=()=>`__${String(++$6)}__`;function J6(){let{router:n}=jw("useSubmit"),{basename:t}=Vt.useContext(il),e=y6();return Vt.useCallback(async(r,s={})=>{let{action:o,method:u,encType:h,formData:f,body:d}=I6(r,t);if(s.navigate===!1){let v=s.fetcherKey||X6();await n.fetch(v,e,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,t,e])}function Z6(n,{relative:t}={}){let{basename:e}=Vt.useContext(il),r=Vt.useContext(al);kr(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...md(n||".",{relative:t})},u=Hu();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(A=>A).forEach(A=>h.append("index",A));let v=h.toString();o.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Bl([e,o.pathname])),td(o)}function tT(n,{relative:t}={}){let e=Vt.useContext(Lw);kr(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jw("useViewTransitionState"),s=md(n,{relative:t});if(!e.isTransitioning)return!1;let o=Fl(e.currentLocation.pathname,r)||e.currentLocation.pathname,u=Fl(e.nextLocation.pathname,r)||e.nextLocation.pathname;return nm(s.pathname,u)!=null||nm(s.pathname,o)!=null}const eT=()=>{};var xv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},nT=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const s=n[e++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[e++];t[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[e++],u=n[e++],h=n[e++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],u=n[e++];t[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return t.join("")},qw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,d=f?n[s+2]:0,v=o>>2,A=(o&3)<<4|h>>4;let T=(h&15)<<2|d>>6,b=d&63;f||(b=64,u||(T=64)),r.push(e[v],e[A],e[T],e[b])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Fw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):nT(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=e[n.charAt(s++)],h=s<n.length?e[n.charAt(s)]:0;++s;const d=s<n.length?e[n.charAt(s)]:64;++s;const A=s<n.length?e[n.charAt(s)]:64;if(++s,o==null||h==null||d==null||A==null)throw new rT;const T=o<<2|h>>4;if(r.push(T),d!==64){const b=h<<4&240|d>>2;if(r.push(b),A!==64){const M=d<<6&192|A;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class rT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iT=function(n){const t=Fw(n);return qw.encodeByteArray(t,!0)},rm=function(n){return iT(n).replace(/\./g,"")},zw=function(n){try{return qw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=()=>aT().__FIREBASE_DEFAULTS__,oT=()=>{if(typeof process>"u"||typeof xv>"u")return;const n=xv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lT=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&zw(n[1]);return t&&JSON.parse(t)},Rm=()=>{try{return eT()||sT()||oT()||lT()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Hw=n=>Rm()?.emulatorHosts?.[n],uT=n=>{const t=Hw(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},Gw=()=>Rm()?.config,Yw=n=>Rm()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ww(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[rm(JSON.stringify(e)),rm(JSON.stringify(u)),""].join(".")}const Yf={};function fT(){const n={prod:[],emulator:[]};for(const t of Object.keys(Yf))Yf[t]?n.emulator.push(t):n.prod.push(t);return n}function dT(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Cv=!1;function Kw(n,t){if(typeof window>"u"||typeof document>"u"||!zh(window.location.host)||Yf[n]===t||Yf[n]||Cv)return;Yf[n]=t;function e(T){return`__firebase__banner__${T}`}const r="__firebase__banner",o=fT().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,b){T.setAttribute("width","24"),T.setAttribute("id",b),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function d(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Cv=!0,u()},T}function v(T,b){T.setAttribute("id",b),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function A(){const T=dT(r),b=e("text"),M=document.getElementById(b)||document.createElement("span"),j=e("learnmore"),P=document.getElementById(j)||document.createElement("a"),k=e("preprendIcon"),$=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const nt=T.element;h(nt),v(P,j);const rt=d();f($,k),nt.append($,M,P,rt),document.body.appendChild(nt)}o?(M.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Aa())}function mT(){const n=Rm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function vT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _T(){const n=Aa();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bT(){return!mT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wT(){try{return typeof indexedDB=="object"}catch{return!1}}function AT(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="FirebaseError";class Kl extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=ET,Object.setPrototypeOf(this,Kl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gd.prototype.create)}}class gd{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},s=`${this.service}/${t}`,o=this.errors[t],u=o?ST(o,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new Kl(s,h,r)}}function ST(n,t){return n.replace(TT,(e,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const TT=/\{\$([^}]+)}/g;function NT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function _c(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const s of e){if(!r.includes(s))return!1;const o=n[s],u=t[s];if(Rv(o)&&Rv(u)){if(!_c(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!e.includes(s))return!1;return!0}function Rv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function xT(n,t){const e=new CT(n,t);return e.subscribe.bind(e)}class CT{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let s;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");RT(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:r},s.next===void 0&&(s.next=gg),s.error===void 0&&(s.error=gg),s.complete===void 0&&(s.complete=gg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RT(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function gg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(n){return n&&n._delegate?n._delegate:n}class bc{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new cT;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(DT(t))try{this.getOrInitializeService({instanceIdentifier:hc})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(t=hc){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=hc){return this.instances.has(t)}getOptions(t=hc){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(s)}return s}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const s of r)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LT(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=hc){return this.component?this.component.multipleInstances?t:hc:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LT(n){return n===hc?void 0:n}function DT(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new IT(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(_n||(_n={}));const OT={debug:_n.DEBUG,verbose:_n.VERBOSE,info:_n.INFO,warn:_n.WARN,error:_n.ERROR,silent:_n.SILENT},PT=_n.INFO,MT={[_n.DEBUG]:"log",[_n.VERBOSE]:"log",[_n.INFO]:"info",[_n.WARN]:"warn",[_n.ERROR]:"error"},UT=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),s=MT[t];if(s)console[s](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class G0{constructor(t){this.name=t,this._logLevel=PT,this._logHandler=UT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _n))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?OT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_n.DEBUG,...t),this._logHandler(this,_n.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_n.VERBOSE,...t),this._logHandler(this,_n.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_n.INFO,...t),this._logHandler(this,_n.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_n.WARN,...t),this._logHandler(this,_n.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_n.ERROR,...t),this._logHandler(this,_n.ERROR,...t)}}const VT=(n,t)=>t.some(e=>n instanceof e);let Iv,Lv;function BT(){return Iv||(Iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jT(){return Lv||(Lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qw=new WeakMap,t0=new WeakMap,$w=new WeakMap,yg=new WeakMap,Y0=new WeakMap;function FT(n){const t=new Promise((e,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{e(Du(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&Qw.set(e,n)}).catch(()=>{}),Y0.set(t,n),t}function qT(n){if(t0.has(n))return;const t=new Promise((e,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{e(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});t0.set(n,t)}let e0={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return t0.get(n);if(t==="objectStoreNames")return n.objectStoreNames||$w.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Du(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function zT(n){e0=n(e0)}function HT(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(vg(this),t,...e);return $w.set(r,t.sort?t.sort():[t]),Du(r)}:jT().includes(n)?function(...t){return n.apply(vg(this),t),Du(Qw.get(this))}:function(...t){return Du(n.apply(vg(this),t))}}function GT(n){return typeof n=="function"?HT(n):(n instanceof IDBTransaction&&qT(n),VT(n,BT())?new Proxy(n,e0):n)}function Du(n){if(n instanceof IDBRequest)return FT(n);if(yg.has(n))return yg.get(n);const t=GT(n);return t!==n&&(yg.set(n,t),Y0.set(t,n)),t}const vg=n=>Y0.get(n);function YT(n,t,{blocked:e,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,t),h=Du(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Du(u.result),f.oldVersion,f.newVersion,Du(u.transaction),f)}),e&&u.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const WT=["get","getKey","getAll","getAllKeys","count"],KT=["put","add","delete","clear"],_g=new Map;function Dv(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(_g.get(t))return _g.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,s=KT.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(s||WT.includes(e)))return;const o=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(h.shift())),(await Promise.all([d[e](...h),s&&f.done]))[0]};return _g.set(t,o),o}zT(n=>({...n,get:(t,e,r)=>Dv(t,e)||n.get(t,e,r),has:(t,e)=>!!Dv(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if($T(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function $T(n){return n.getComponent()?.type==="VERSION"}const n0="@firebase/app",kv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=new G0("@firebase/app"),XT="@firebase/app-compat",JT="@firebase/analytics-compat",ZT="@firebase/analytics",tN="@firebase/app-check-compat",eN="@firebase/app-check",nN="@firebase/auth",rN="@firebase/auth-compat",iN="@firebase/database",aN="@firebase/data-connect",sN="@firebase/database-compat",oN="@firebase/functions",lN="@firebase/functions-compat",uN="@firebase/installations",cN="@firebase/installations-compat",hN="@firebase/messaging",fN="@firebase/messaging-compat",dN="@firebase/performance",pN="@firebase/performance-compat",mN="@firebase/remote-config",gN="@firebase/remote-config-compat",yN="@firebase/storage",vN="@firebase/storage-compat",_N="@firebase/firestore",bN="@firebase/ai",wN="@firebase/firestore-compat",AN="firebase",EN="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="[DEFAULT]",SN={[n0]:"fire-core",[XT]:"fire-core-compat",[ZT]:"fire-analytics",[JT]:"fire-analytics-compat",[eN]:"fire-app-check",[tN]:"fire-app-check-compat",[nN]:"fire-auth",[rN]:"fire-auth-compat",[iN]:"fire-rtdb",[aN]:"fire-data-connect",[sN]:"fire-rtdb-compat",[oN]:"fire-fn",[lN]:"fire-fn-compat",[uN]:"fire-iid",[cN]:"fire-iid-compat",[hN]:"fire-fcm",[fN]:"fire-fcm-compat",[dN]:"fire-perf",[pN]:"fire-perf-compat",[mN]:"fire-rc",[gN]:"fire-rc-compat",[yN]:"fire-gcs",[vN]:"fire-gcs-compat",[_N]:"fire-fst",[wN]:"fire-fst-compat",[bN]:"fire-vertex","fire-js":"fire-js",[AN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new Map,TN=new Map,i0=new Map;function Ov(n,t){try{n.container.addComponent(t)}catch(e){ql.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Dh(n){const t=n.name;if(i0.has(t))return ql.debug(`There were multiple attempts to register component ${t}.`),!1;i0.set(t,n);for(const e of im.values())Ov(e,n);for(const e of TN.values())Ov(e,n);return!0}function W0(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Go(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ku=new gd("app","Firebase",NN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ku.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=EN;function Xw(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:r0,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw ku.create("bad-app-name",{appName:String(s)});if(e||(e=Gw()),!e)throw ku.create("no-options");const o=im.get(s);if(o){if(_c(e,o.options)&&_c(r,o.config))return o;throw ku.create("duplicate-app",{appName:s})}const u=new kT(s);for(const f of i0.values())u.addComponent(f);const h=new xN(e,r,u);return im.set(s,h),h}function Jw(n=r0){const t=im.get(n);if(!t&&n===r0&&Gw())return Xw();if(!t)throw ku.create("no-app",{appName:n});return t}function Ou(n,t,e){let r=SN[n]??n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const u=[`Unable to register library "${r}" with version "${t}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ql.warn(u.join(" "));return}Dh(new bc(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="firebase-heartbeat-database",RN=1,ed="firebase-heartbeat-store";let bg=null;function Zw(){return bg||(bg=YT(CN,RN,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(ed)}catch(e){console.warn(e)}}}}).catch(n=>{throw ku.create("idb-open",{originalErrorMessage:n.message})})),bg}async function IN(n){try{const e=(await Zw()).transaction(ed),r=await e.objectStore(ed).get(t4(n));return await e.done,r}catch(t){if(t instanceof Kl)ql.warn(t.message);else{const e=ku.create("idb-get",{originalErrorMessage:t?.message});ql.warn(e.message)}}}async function Pv(n,t){try{const r=(await Zw()).transaction(ed,"readwrite");await r.objectStore(ed).put(t,t4(n)),await r.done}catch(e){if(e instanceof Kl)ql.warn(e.message);else{const r=ku.create("idb-set",{originalErrorMessage:e?.message});ql.warn(r.message)}}}function t4(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=1024,DN=30;class kN{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new PN(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Mv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>DN){const s=MN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ql.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Mv(),{heartbeatsToSend:e,unsentEntries:r}=ON(this._heartbeatsCache.heartbeats),s=rm(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return ql.warn(t),""}}}function Mv(){return new Date().toISOString().substring(0,10)}function ON(n,t=LN){const e=[];let r=n.slice();for(const s of n){const o=e.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),Uv(e)>t){o.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),Uv(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class PN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wT()?AT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await IN(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Pv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Pv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Uv(n){return rm(JSON.stringify({version:2,heartbeats:n})).length}function MN(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(n){Dh(new bc("platform-logger",t=>new QT(t),"PRIVATE")),Dh(new bc("heartbeat",t=>new kN(t),"PRIVATE")),Ou(n0,kv,n),Ou(n0,kv,"esm2020"),Ou("fire-js","")}UN("");var VN="firebase",BN="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ou(VN,BN,"app");var Vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pu,e4;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(G,U){function I(){}I.prototype=U.prototype,G.F=U.prototype,G.prototype=new I,G.prototype.constructor=G,G.D=function(z,x,D){for(var O=Array(arguments.length-2),st=2;st<arguments.length;st++)O[st-2]=arguments[st];return U.prototype[x].apply(z,O)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(G,U,I){I||(I=0);const z=Array(16);if(typeof U=="string")for(var x=0;x<16;++x)z[x]=U.charCodeAt(I++)|U.charCodeAt(I++)<<8|U.charCodeAt(I++)<<16|U.charCodeAt(I++)<<24;else for(x=0;x<16;++x)z[x]=U[I++]|U[I++]<<8|U[I++]<<16|U[I++]<<24;U=G.g[0],I=G.g[1],x=G.g[2];let D=G.g[3],O;O=U+(D^I&(x^D))+z[0]+3614090360&4294967295,U=I+(O<<7&4294967295|O>>>25),O=D+(x^U&(I^x))+z[1]+3905402710&4294967295,D=U+(O<<12&4294967295|O>>>20),O=x+(I^D&(U^I))+z[2]+606105819&4294967295,x=D+(O<<17&4294967295|O>>>15),O=I+(U^x&(D^U))+z[3]+3250441966&4294967295,I=x+(O<<22&4294967295|O>>>10),O=U+(D^I&(x^D))+z[4]+4118548399&4294967295,U=I+(O<<7&4294967295|O>>>25),O=D+(x^U&(I^x))+z[5]+1200080426&4294967295,D=U+(O<<12&4294967295|O>>>20),O=x+(I^D&(U^I))+z[6]+2821735955&4294967295,x=D+(O<<17&4294967295|O>>>15),O=I+(U^x&(D^U))+z[7]+4249261313&4294967295,I=x+(O<<22&4294967295|O>>>10),O=U+(D^I&(x^D))+z[8]+1770035416&4294967295,U=I+(O<<7&4294967295|O>>>25),O=D+(x^U&(I^x))+z[9]+2336552879&4294967295,D=U+(O<<12&4294967295|O>>>20),O=x+(I^D&(U^I))+z[10]+4294925233&4294967295,x=D+(O<<17&4294967295|O>>>15),O=I+(U^x&(D^U))+z[11]+2304563134&4294967295,I=x+(O<<22&4294967295|O>>>10),O=U+(D^I&(x^D))+z[12]+1804603682&4294967295,U=I+(O<<7&4294967295|O>>>25),O=D+(x^U&(I^x))+z[13]+4254626195&4294967295,D=U+(O<<12&4294967295|O>>>20),O=x+(I^D&(U^I))+z[14]+2792965006&4294967295,x=D+(O<<17&4294967295|O>>>15),O=I+(U^x&(D^U))+z[15]+1236535329&4294967295,I=x+(O<<22&4294967295|O>>>10),O=U+(x^D&(I^x))+z[1]+4129170786&4294967295,U=I+(O<<5&4294967295|O>>>27),O=D+(I^x&(U^I))+z[6]+3225465664&4294967295,D=U+(O<<9&4294967295|O>>>23),O=x+(U^I&(D^U))+z[11]+643717713&4294967295,x=D+(O<<14&4294967295|O>>>18),O=I+(D^U&(x^D))+z[0]+3921069994&4294967295,I=x+(O<<20&4294967295|O>>>12),O=U+(x^D&(I^x))+z[5]+3593408605&4294967295,U=I+(O<<5&4294967295|O>>>27),O=D+(I^x&(U^I))+z[10]+38016083&4294967295,D=U+(O<<9&4294967295|O>>>23),O=x+(U^I&(D^U))+z[15]+3634488961&4294967295,x=D+(O<<14&4294967295|O>>>18),O=I+(D^U&(x^D))+z[4]+3889429448&4294967295,I=x+(O<<20&4294967295|O>>>12),O=U+(x^D&(I^x))+z[9]+568446438&4294967295,U=I+(O<<5&4294967295|O>>>27),O=D+(I^x&(U^I))+z[14]+3275163606&4294967295,D=U+(O<<9&4294967295|O>>>23),O=x+(U^I&(D^U))+z[3]+4107603335&4294967295,x=D+(O<<14&4294967295|O>>>18),O=I+(D^U&(x^D))+z[8]+1163531501&4294967295,I=x+(O<<20&4294967295|O>>>12),O=U+(x^D&(I^x))+z[13]+2850285829&4294967295,U=I+(O<<5&4294967295|O>>>27),O=D+(I^x&(U^I))+z[2]+4243563512&4294967295,D=U+(O<<9&4294967295|O>>>23),O=x+(U^I&(D^U))+z[7]+1735328473&4294967295,x=D+(O<<14&4294967295|O>>>18),O=I+(D^U&(x^D))+z[12]+2368359562&4294967295,I=x+(O<<20&4294967295|O>>>12),O=U+(I^x^D)+z[5]+4294588738&4294967295,U=I+(O<<4&4294967295|O>>>28),O=D+(U^I^x)+z[8]+2272392833&4294967295,D=U+(O<<11&4294967295|O>>>21),O=x+(D^U^I)+z[11]+1839030562&4294967295,x=D+(O<<16&4294967295|O>>>16),O=I+(x^D^U)+z[14]+4259657740&4294967295,I=x+(O<<23&4294967295|O>>>9),O=U+(I^x^D)+z[1]+2763975236&4294967295,U=I+(O<<4&4294967295|O>>>28),O=D+(U^I^x)+z[4]+1272893353&4294967295,D=U+(O<<11&4294967295|O>>>21),O=x+(D^U^I)+z[7]+4139469664&4294967295,x=D+(O<<16&4294967295|O>>>16),O=I+(x^D^U)+z[10]+3200236656&4294967295,I=x+(O<<23&4294967295|O>>>9),O=U+(I^x^D)+z[13]+681279174&4294967295,U=I+(O<<4&4294967295|O>>>28),O=D+(U^I^x)+z[0]+3936430074&4294967295,D=U+(O<<11&4294967295|O>>>21),O=x+(D^U^I)+z[3]+3572445317&4294967295,x=D+(O<<16&4294967295|O>>>16),O=I+(x^D^U)+z[6]+76029189&4294967295,I=x+(O<<23&4294967295|O>>>9),O=U+(I^x^D)+z[9]+3654602809&4294967295,U=I+(O<<4&4294967295|O>>>28),O=D+(U^I^x)+z[12]+3873151461&4294967295,D=U+(O<<11&4294967295|O>>>21),O=x+(D^U^I)+z[15]+530742520&4294967295,x=D+(O<<16&4294967295|O>>>16),O=I+(x^D^U)+z[2]+3299628645&4294967295,I=x+(O<<23&4294967295|O>>>9),O=U+(x^(I|~D))+z[0]+4096336452&4294967295,U=I+(O<<6&4294967295|O>>>26),O=D+(I^(U|~x))+z[7]+1126891415&4294967295,D=U+(O<<10&4294967295|O>>>22),O=x+(U^(D|~I))+z[14]+2878612391&4294967295,x=D+(O<<15&4294967295|O>>>17),O=I+(D^(x|~U))+z[5]+4237533241&4294967295,I=x+(O<<21&4294967295|O>>>11),O=U+(x^(I|~D))+z[12]+1700485571&4294967295,U=I+(O<<6&4294967295|O>>>26),O=D+(I^(U|~x))+z[3]+2399980690&4294967295,D=U+(O<<10&4294967295|O>>>22),O=x+(U^(D|~I))+z[10]+4293915773&4294967295,x=D+(O<<15&4294967295|O>>>17),O=I+(D^(x|~U))+z[1]+2240044497&4294967295,I=x+(O<<21&4294967295|O>>>11),O=U+(x^(I|~D))+z[8]+1873313359&4294967295,U=I+(O<<6&4294967295|O>>>26),O=D+(I^(U|~x))+z[15]+4264355552&4294967295,D=U+(O<<10&4294967295|O>>>22),O=x+(U^(D|~I))+z[6]+2734768916&4294967295,x=D+(O<<15&4294967295|O>>>17),O=I+(D^(x|~U))+z[13]+1309151649&4294967295,I=x+(O<<21&4294967295|O>>>11),O=U+(x^(I|~D))+z[4]+4149444226&4294967295,U=I+(O<<6&4294967295|O>>>26),O=D+(I^(U|~x))+z[11]+3174756917&4294967295,D=U+(O<<10&4294967295|O>>>22),O=x+(U^(D|~I))+z[2]+718787259&4294967295,x=D+(O<<15&4294967295|O>>>17),O=I+(D^(x|~U))+z[9]+3951481745&4294967295,G.g[0]=G.g[0]+U&4294967295,G.g[1]=G.g[1]+(x+(O<<21&4294967295|O>>>11))&4294967295,G.g[2]=G.g[2]+x&4294967295,G.g[3]=G.g[3]+D&4294967295}r.prototype.v=function(G,U){U===void 0&&(U=G.length);const I=U-this.blockSize,z=this.C;let x=this.h,D=0;for(;D<U;){if(x==0)for(;D<=I;)s(this,G,D),D+=this.blockSize;if(typeof G=="string"){for(;D<U;)if(z[x++]=G.charCodeAt(D++),x==this.blockSize){s(this,z),x=0;break}}else for(;D<U;)if(z[x++]=G[D++],x==this.blockSize){s(this,z),x=0;break}}this.h=x,this.o+=U},r.prototype.A=function(){var G=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);G[0]=128;for(var U=1;U<G.length-8;++U)G[U]=0;U=this.o*8;for(var I=G.length-8;I<G.length;++I)G[I]=U&255,U/=256;for(this.v(G),G=Array(16),U=0,I=0;I<4;++I)for(let z=0;z<32;z+=8)G[U++]=this.g[I]>>>z&255;return G};function o(G,U){var I=h;return Object.prototype.hasOwnProperty.call(I,G)?I[G]:I[G]=U(G)}function u(G,U){this.h=U;const I=[];let z=!0;for(let x=G.length-1;x>=0;x--){const D=G[x]|0;z&&D==U||(I[x]=D,z=!1)}this.g=I}var h={};function f(G){return-128<=G&&G<128?o(G,function(U){return new u([U|0],U<0?-1:0)}):new u([G|0],G<0?-1:0)}function d(G){if(isNaN(G)||!isFinite(G))return A;if(G<0)return P(d(-G));const U=[];let I=1;for(let z=0;G>=I;z++)U[z]=G/I|0,I*=4294967296;return new u(U,0)}function v(G,U){if(G.length==0)throw Error("number format error: empty string");if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(G.charAt(0)=="-")return P(v(G.substring(1),U));if(G.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=d(Math.pow(U,8));let z=A;for(let D=0;D<G.length;D+=8){var x=Math.min(8,G.length-D);const O=parseInt(G.substring(D,D+x),U);x<8?(x=d(Math.pow(U,x)),z=z.j(x).add(d(O))):(z=z.j(I),z=z.add(d(O)))}return z}var A=f(0),T=f(1),b=f(16777216);n=u.prototype,n.m=function(){if(j(this))return-P(this).m();let G=0,U=1;for(let I=0;I<this.g.length;I++){const z=this.i(I);G+=(z>=0?z:4294967296+z)*U,U*=4294967296}return G},n.toString=function(G){if(G=G||10,G<2||36<G)throw Error("radix out of range: "+G);if(M(this))return"0";if(j(this))return"-"+P(this).toString(G);const U=d(Math.pow(G,6));var I=this;let z="";for(;;){const x=rt(I,U).g;I=k(I,x.j(U));let D=((I.g.length>0?I.g[0]:I.h)>>>0).toString(G);if(I=x,M(I))return D+z;for(;D.length<6;)D="0"+D;z=D+z}},n.i=function(G){return G<0?0:G<this.g.length?this.g[G]:this.h};function M(G){if(G.h!=0)return!1;for(let U=0;U<G.g.length;U++)if(G.g[U]!=0)return!1;return!0}function j(G){return G.h==-1}n.l=function(G){return G=k(this,G),j(G)?-1:M(G)?0:1};function P(G){const U=G.g.length,I=[];for(let z=0;z<U;z++)I[z]=~G.g[z];return new u(I,~G.h).add(T)}n.abs=function(){return j(this)?P(this):this},n.add=function(G){const U=Math.max(this.g.length,G.g.length),I=[];let z=0;for(let x=0;x<=U;x++){let D=z+(this.i(x)&65535)+(G.i(x)&65535),O=(D>>>16)+(this.i(x)>>>16)+(G.i(x)>>>16);z=O>>>16,D&=65535,O&=65535,I[x]=O<<16|D}return new u(I,I[I.length-1]&-2147483648?-1:0)};function k(G,U){return G.add(P(U))}n.j=function(G){if(M(this)||M(G))return A;if(j(this))return j(G)?P(this).j(P(G)):P(P(this).j(G));if(j(G))return P(this.j(P(G)));if(this.l(b)<0&&G.l(b)<0)return d(this.m()*G.m());const U=this.g.length+G.g.length,I=[];for(var z=0;z<2*U;z++)I[z]=0;for(z=0;z<this.g.length;z++)for(let x=0;x<G.g.length;x++){const D=this.i(z)>>>16,O=this.i(z)&65535,st=G.i(x)>>>16,At=G.i(x)&65535;I[2*z+2*x]+=O*At,$(I,2*z+2*x),I[2*z+2*x+1]+=D*At,$(I,2*z+2*x+1),I[2*z+2*x+1]+=O*st,$(I,2*z+2*x+1),I[2*z+2*x+2]+=D*st,$(I,2*z+2*x+2)}for(G=0;G<U;G++)I[G]=I[2*G+1]<<16|I[2*G];for(G=U;G<2*U;G++)I[G]=0;return new u(I,0)};function $(G,U){for(;(G[U]&65535)!=G[U];)G[U+1]+=G[U]>>>16,G[U]&=65535,U++}function nt(G,U){this.g=G,this.h=U}function rt(G,U){if(M(U))throw Error("division by zero");if(M(G))return new nt(A,A);if(j(G))return U=rt(P(G),U),new nt(P(U.g),P(U.h));if(j(U))return U=rt(G,P(U)),new nt(P(U.g),U.h);if(G.g.length>30){if(j(G)||j(U))throw Error("slowDivide_ only works with positive integers.");for(var I=T,z=U;z.l(G)<=0;)I=vt(I),z=vt(z);var x=Dt(I,1),D=Dt(z,1);for(z=Dt(z,2),I=Dt(I,2);!M(z);){var O=D.add(z);O.l(G)<=0&&(x=x.add(I),D=O),z=Dt(z,1),I=Dt(I,1)}return U=k(G,x.j(U)),new nt(x,U)}for(x=A;G.l(U)>=0;){for(I=Math.max(1,Math.floor(G.m()/U.m())),z=Math.ceil(Math.log(I)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),D=d(I),O=D.j(U);j(O)||O.l(G)>0;)I-=z,D=d(I),O=D.j(U);M(D)&&(D=T),x=x.add(D),G=k(G,O)}return new nt(x,G)}n.B=function(G){return rt(this,G).h},n.and=function(G){const U=Math.max(this.g.length,G.g.length),I=[];for(let z=0;z<U;z++)I[z]=this.i(z)&G.i(z);return new u(I,this.h&G.h)},n.or=function(G){const U=Math.max(this.g.length,G.g.length),I=[];for(let z=0;z<U;z++)I[z]=this.i(z)|G.i(z);return new u(I,this.h|G.h)},n.xor=function(G){const U=Math.max(this.g.length,G.g.length),I=[];for(let z=0;z<U;z++)I[z]=this.i(z)^G.i(z);return new u(I,this.h^G.h)};function vt(G){const U=G.g.length+1,I=[];for(let z=0;z<U;z++)I[z]=G.i(z)<<1|G.i(z-1)>>>31;return new u(I,G.h)}function Dt(G,U){const I=U>>5;U%=32;const z=G.g.length-I,x=[];for(let D=0;D<z;D++)x[D]=U>0?G.i(D+I)>>>U|G.i(D+I+1)<<32-U:G.i(D+I);return new u(x,G.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,e4=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=v,Pu=u}).apply(typeof Vv<"u"?Vv:typeof self<"u"?self:typeof window<"u"?window:{});var Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n4,Ff,r4,jp,a0,i4,a4,s4;(function(){var n,t=Object.defineProperty;function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ap=="object"&&Ap];for(var S=0;S<m.length;++S){var R=m[S];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=e(this);function s(m,S){if(S)t:{var R=r;m=m.split(".");for(var K=0;K<m.length-1;K++){var bt=m[K];if(!(bt in R))break t;R=R[bt]}m=m[m.length-1],K=R[m],S=S(K),S!=K&&S!=null&&t(R,m,{configurable:!0,writable:!0,value:S})}}s("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(m){return m||function(S){var R=[],K;for(K in S)Object.prototype.hasOwnProperty.call(S,K)&&R.push([K,S[K]]);return R}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function h(m){var S=typeof m;return S=="object"&&m!=null||S=="function"}function f(m,S,R){return m.call.apply(m.bind,arguments)}function d(m,S,R){return d=f,d.apply(null,arguments)}function v(m,S){var R=Array.prototype.slice.call(arguments,1);return function(){var K=R.slice();return K.push.apply(K,arguments),m.apply(this,K)}}function A(m,S){function R(){}R.prototype=S.prototype,m.Z=S.prototype,m.prototype=new R,m.prototype.constructor=m,m.Ob=function(K,bt,Ct){for(var Zt=Array(arguments.length-2),je=2;je<arguments.length;je++)Zt[je-2]=arguments[je];return S.prototype[bt].apply(K,Zt)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function b(m){const S=m.length;if(S>0){const R=Array(S);for(let K=0;K<S;K++)R[K]=m[K];return R}return[]}function M(m,S){for(let K=1;K<arguments.length;K++){const bt=arguments[K];var R=typeof bt;if(R=R!="object"?R:bt?Array.isArray(bt)?"array":R:"null",R=="array"||R=="object"&&typeof bt.length=="number"){R=m.length||0;const Ct=bt.length||0;m.length=R+Ct;for(let Zt=0;Zt<Ct;Zt++)m[R+Zt]=bt[Zt]}else m.push(bt)}}class j{constructor(S,R){this.i=S,this.j=R,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function P(m){u.setTimeout(()=>{throw m},0)}function k(){var m=G;let S=null;return m.g&&(S=m.g,m.g=m.g.next,m.g||(m.h=null),S.next=null),S}class ${constructor(){this.h=this.g=null}add(S,R){const K=nt.get();K.set(S,R),this.h?this.h.next=K:this.g=K,this.h=K}}var nt=new j(()=>new rt,m=>m.reset());class rt{constructor(){this.next=this.g=this.h=null}set(S,R){this.h=S,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let vt,Dt=!1,G=new $,U=()=>{const m=Promise.resolve(void 0);vt=()=>{m.then(I)}};function I(){for(var m;m=k();){try{m.h.call(m.g)}catch(R){P(R)}var S=nt;S.j(m),S.h<100&&(S.h++,m.next=S.g,S.g=m)}Dt=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(m,S){this.type=m,this.g=this.target=S,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,S=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const R=()=>{};u.addEventListener("test",R,S),u.removeEventListener("test",R,S)}catch{}return m})();function O(m){return/^[\s\xa0]*$/.test(m)}function st(m,S){x.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,S)}A(st,x),st.prototype.init=function(m,S){const R=this.type=m.type,K=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=S,S=m.relatedTarget,S||(R=="mouseover"?S=m.fromElement:R=="mouseout"&&(S=m.toElement)),this.relatedTarget=S,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var At="closure_listenable_"+(Math.random()*1e6|0),it=0;function dt(m,S,R,K,bt){this.listener=m,this.proxy=null,this.src=S,this.type=R,this.capture=!!K,this.ha=bt,this.key=++it,this.da=this.fa=!1}function ht(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Nt(m,S,R){for(const K in m)S.call(R,m[K],K,m)}function zt(m,S){for(const R in m)S.call(void 0,m[R],R,m)}function J(m){const S={};for(const R in m)S[R]=m[R];return S}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(m,S){let R,K;for(let bt=1;bt<arguments.length;bt++){K=arguments[bt];for(R in K)m[R]=K[R];for(let Ct=0;Ct<L.length;Ct++)R=L[Ct],Object.prototype.hasOwnProperty.call(K,R)&&(m[R]=K[R])}}function X(m){this.src=m,this.g={},this.h=0}X.prototype.add=function(m,S,R,K,bt){const Ct=m.toString();m=this.g[Ct],m||(m=this.g[Ct]=[],this.h++);const Zt=ct(m,S,K,bt);return Zt>-1?(S=m[Zt],R||(S.fa=!1)):(S=new dt(S,this.src,Ct,!!K,bt),S.fa=R,m.push(S)),S};function ot(m,S){const R=S.type;if(R in m.g){var K=m.g[R],bt=Array.prototype.indexOf.call(K,S,void 0),Ct;(Ct=bt>=0)&&Array.prototype.splice.call(K,bt,1),Ct&&(ht(S),m.g[R].length==0&&(delete m.g[R],m.h--))}}function ct(m,S,R,K){for(let bt=0;bt<m.length;++bt){const Ct=m[bt];if(!Ct.da&&Ct.listener==S&&Ct.capture==!!R&&Ct.ha==K)return bt}return-1}var gt="closure_lm_"+(Math.random()*1e6|0),It={};function St(m,S,R,K,bt){if(Array.isArray(S)){for(let Ct=0;Ct<S.length;Ct++)St(m,S[Ct],R,K,bt);return null}return R=we(R),m&&m[At]?m.J(S,R,h(K)?!!K.capture:!1,bt):jt(m,S,R,!1,K,bt)}function jt(m,S,R,K,bt,Ct){if(!S)throw Error("Invalid event type");const Zt=h(bt)?!!bt.capture:!!bt;let je=Xe(m);if(je||(m[gt]=je=new X(m)),R=je.add(S,R,K,Zt,Ct),R.proxy)return R;if(K=Xt(),R.proxy=K,K.src=m,K.listener=R,m.addEventListener)D||(bt=Zt),bt===void 0&&(bt=!1),m.addEventListener(S.toString(),K,bt);else if(m.attachEvent)m.attachEvent(Ot(S.toString()),K);else if(m.addListener&&m.removeListener)m.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Xt(){function m(R){return S.call(m.src,m.listener,R)}const S=at;return m}function ne(m,S,R,K,bt){if(Array.isArray(S))for(var Ct=0;Ct<S.length;Ct++)ne(m,S[Ct],R,K,bt);else K=h(K)?!!K.capture:!!K,R=we(R),m&&m[At]?(m=m.i,Ct=String(S).toString(),Ct in m.g&&(S=m.g[Ct],R=ct(S,R,K,bt),R>-1&&(ht(S[R]),Array.prototype.splice.call(S,R,1),S.length==0&&(delete m.g[Ct],m.h--)))):m&&(m=Xe(m))&&(S=m.g[S.toString()],m=-1,S&&(m=ct(S,R,K,bt)),(R=m>-1?S[m]:null)&&re(R))}function re(m){if(typeof m!="number"&&m&&!m.da){var S=m.src;if(S&&S[At])ot(S.i,m);else{var R=m.type,K=m.proxy;S.removeEventListener?S.removeEventListener(R,K,m.capture):S.detachEvent?S.detachEvent(Ot(R),K):S.addListener&&S.removeListener&&S.removeListener(K),(R=Xe(S))?(ot(R,m),R.h==0&&(R.src=null,S[gt]=null)):ht(m)}}}function Ot(m){return m in It?It[m]:It[m]="on"+m}function at(m,S){if(m.da)m=!0;else{S=new st(S,this);const R=m.listener,K=m.ha||m.src;m.fa&&re(m),m=R.call(K,S)}return m}function Xe(m){return m=m[gt],m instanceof X?m:null}var qe="__closure_events_fn_"+(Math.random()*1e9>>>0);function we(m){return typeof m=="function"?m:(m[qe]||(m[qe]=function(S){return m.handleEvent(S)}),m[qe])}function Wt(){z.call(this),this.i=new X(this),this.M=this,this.G=null}A(Wt,z),Wt.prototype[At]=!0,Wt.prototype.removeEventListener=function(m,S,R,K){ne(this,m,S,R,K)};function ie(m,S){var R,K=m.G;if(K)for(R=[];K;K=K.G)R.push(K);if(m=m.M,K=S.type||S,typeof S=="string")S=new x(S,m);else if(S instanceof x)S.target=S.target||m;else{var bt=S;S=new x(K,m),Y(S,bt)}bt=!0;let Ct,Zt;if(R)for(Zt=R.length-1;Zt>=0;Zt--)Ct=S.g=R[Zt],bt=ee(Ct,K,!0,S)&&bt;if(Ct=S.g=m,bt=ee(Ct,K,!0,S)&&bt,bt=ee(Ct,K,!1,S)&&bt,R)for(Zt=0;Zt<R.length;Zt++)Ct=S.g=R[Zt],bt=ee(Ct,K,!1,S)&&bt}Wt.prototype.N=function(){if(Wt.Z.N.call(this),this.i){var m=this.i;for(const S in m.g){const R=m.g[S];for(let K=0;K<R.length;K++)ht(R[K]);delete m.g[S],m.h--}}this.G=null},Wt.prototype.J=function(m,S,R,K){return this.i.add(String(m),S,!1,R,K)},Wt.prototype.K=function(m,S,R,K){return this.i.add(String(m),S,!0,R,K)};function ee(m,S,R,K){if(S=m.i.g[String(S)],!S)return!0;S=S.concat();let bt=!0;for(let Ct=0;Ct<S.length;++Ct){const Zt=S[Ct];if(Zt&&!Zt.da&&Zt.capture==R){const je=Zt.listener,Wn=Zt.ha||Zt.src;Zt.fa&&ot(m.i,Zt),bt=je.call(Wn,K)!==!1&&bt}}return bt&&!K.defaultPrevented}function Qe(m,S){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:u.setTimeout(m,S||0)}function _e(m){m.g=Qe(()=>{m.g=null,m.i&&(m.i=!1,_e(m))},m.l);const S=m.h;m.h=null,m.m.apply(null,S)}class Ge extends z{constructor(S,R){super(),this.m=S,this.l=R,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:_e(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pe(m){z.call(this),this.h=m,this.g={}}A(Pe,z);var Ve=[];function Sn(m){Nt(m.g,function(S,R){this.g.hasOwnProperty(R)&&re(S)},m),m.g={}}Pe.prototype.N=function(){Pe.Z.N.call(this),Sn(this)},Pe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Me=u.JSON.stringify,be=u.JSON.parse,ke=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function ye(){}function Un(){}var nn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ae(){x.call(this,"d")}A(ae,x);function Se(){x.call(this,"c")}A(Se,x);var Be={},xe=null;function an(){return xe=xe||new Wt}Be.Ia="serverreachability";function ze(m){x.call(this,Be.Ia,m)}A(ze,x);function Ln(m){const S=an();ie(S,new ze(S))}Be.STAT_EVENT="statevent";function sr(m,S){x.call(this,Be.STAT_EVENT,m),this.stat=S}A(sr,x);function He(m){const S=an();ie(S,new sr(S,m))}Be.Ja="timingevent";function Te(m,S){x.call(this,Be.Ja,m),this.size=S}A(Te,x);function sn(m,S){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},S)}function pi(){this.g=!0}pi.prototype.ua=function(){this.g=!1};function ii(m,S,R,K,bt,Ct){m.info(function(){if(m.g)if(Ct){var Zt="",je=Ct.split("&");for(let un=0;un<je.length;un++){var Wn=je[un].split("=");if(Wn.length>1){const On=Wn[0];Wn=Wn[1];const oi=On.split("_");Zt=oi.length>=2&&oi[1]=="type"?Zt+(On+"="+Wn+"&"):Zt+(On+"=redacted&")}}}else Zt=null;else Zt=Ct;return"XMLHTTP REQ ("+K+") [attempt "+bt+"]: "+S+`
`+R+`
`+Zt})}function Ua(m,S,R,K,bt,Ct,Zt){m.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+bt+"]: "+S+`
`+R+`
`+Ct+" "+Zt})}function Wr(m,S,R,K){m.info(function(){return"XMLHTTP TEXT ("+S+"): "+ss(m,R)+(K?" "+K:"")})}function Ae(m,S){m.info(function(){return"TIMEOUT: "+S})}pi.prototype.info=function(){};function ss(m,S){if(!m.g)return S;if(!S)return null;try{const Ct=JSON.parse(S);if(Ct){for(m=0;m<Ct.length;m++)if(Array.isArray(Ct[m])){var R=Ct[m];if(!(R.length<2)){var K=R[1];if(Array.isArray(K)&&!(K.length<1)){var bt=K[0];if(bt!="noop"&&bt!="stop"&&bt!="close")for(let Zt=1;Zt<K.length;Zt++)K[Zt]=""}}}}return Me(Ct)}catch{return S}}var Yi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ci={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ri;function qn(){}A(qn,ye),qn.prototype.g=function(){return new XMLHttpRequest},Ri=new qn;function Jn(m){return encodeURIComponent(String(m))}function Mr(m){var S=1;m=m.split(":");const R=[];for(;S>0&&m.length;)R.push(m.shift()),S--;return m.length&&R.push(m.join(":")),R}function mi(m,S,R,K){this.j=m,this.i=S,this.l=R,this.S=K||1,this.V=new Pe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var Dn={},Gn={};function Ur(m,S,R){m.M=1,m.A=yi(on(S)),m.u=R,m.R=!0,Ii(m,null)}function Ii(m,S){m.F=Date.now(),Li(m),m.B=on(m.A);var R=m.B,K=m.S;Array.isArray(K)||(K=[String(K)]),So(R.i,"t",K),m.C=0,R=m.j.L,m.h=new ai,m.g=ue(m.j,R?S:null,!m.u),m.P>0&&(m.O=new Ge(d(m.Y,m,m.g),m.P)),S=m.V,R=m.g,K=m.ba;var bt="readystatechange";Array.isArray(bt)||(bt&&(Ve[0]=bt.toString()),bt=Ve);for(let Ct=0;Ct<bt.length;Ct++){const Zt=St(R,bt[Ct],K||S.handleEvent,!1,S.h||S);if(!Zt)break;S.g[Zt.key]=Zt}S=m.J?J(m.J):{},m.u?(m.v||(m.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,S)):(m.v="GET",m.g.ea(m.B,m.v,null,S)),Ln(),ii(m.i,m.v,m.B,m.l,m.S,m.u)}mi.prototype.ba=function(m){m=m.target;const S=this.O;S&&Xi(m)==3?S.j():this.Y(m)},mi.prototype.Y=function(m){try{if(m==this.g)t:{const je=Xi(this.g),Wn=this.g.ya(),un=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||xr(this.g)))){this.K||je!=4||Wn==7||(Wn==8||un<=0?Ln(3):Ln(2)),Wi(this);var S=this.g.ca();this.X=S;var R=la(this);if(this.o=S==200,Ua(this.i,this.v,this.B,this.l,this.S,je,S),this.o){if(this.U&&!this.L){e:{if(this.g){var K,bt=this.g;if((K=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(K)){var Ct=K;break e}}Ct=null}if(m=Ct)Wr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ua(this,m);else{this.o=!1,this.m=3,He(12),Ki(this),gi(this);break t}}if(this.R){m=!0;let On;for(;!this.K&&this.C<R.length;)if(On=Ea(this,R),On==Gn){je==4&&(this.m=4,He(14),m=!1),Wr(this.i,this.l,null,"[Incomplete Response]");break}else if(On==Dn){this.m=4,He(15),Wr(this.i,this.l,R,"[Invalid Chunk]"),m=!1;break}else Wr(this.i,this.l,On,null),ua(this,On);if(Es(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||R.length!=0||this.h.h||(this.m=1,He(16),m=!1),this.o=this.o&&m,!m)Wr(this.i,this.l,R,"[Invalid Chunked Response]"),Ki(this),gi(this);else if(R.length>0&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.aa&&!Zt.P&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),xo(Zt),Zt.P=!0,He(11))}}else Wr(this.i,this.l,R,null),ua(this,R);je==4&&Ki(this),this.o&&!this.K&&(je==4?tt(this.j,this):(this.o=!1,Li(this)))}else Ji(this.g),S==400&&R.indexOf("Unknown SID")>0?(this.m=3,He(12)):(this.m=0,He(13)),Ki(this),gi(this)}}}catch{}finally{}};function la(m){if(!Es(m))return m.g.la();const S=xr(m.g);if(S==="")return"";let R="";const K=S.length,bt=Xi(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Ki(m),gi(m),"";m.h.i=new u.TextDecoder}for(let Ct=0;Ct<K;Ct++)m.h.h=!0,R+=m.h.i.decode(S[Ct],{stream:!(bt&&Ct==K-1)});return S.length=0,m.h.g+=R,m.C=0,m.h.g}function Es(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Ea(m,S){var R=m.C,K=S.indexOf(`
`,R);return K==-1?Gn:(R=Number(S.substring(R,K)),isNaN(R)?Dn:(K+=1,K+R>S.length?Gn:(S=S.slice(K,K+R),m.C=K+R,S)))}mi.prototype.cancel=function(){this.K=!0,Ki(this)};function Li(m){m.T=Date.now()+m.H,os(m,m.H)}function os(m,S){if(m.D!=null)throw Error("WatchDog timer not null");m.D=sn(d(m.aa,m),S)}function Wi(m){m.D&&(u.clearTimeout(m.D),m.D=null)}mi.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Ae(this.i,this.B),this.M!=2&&(Ln(),He(17)),Ki(this),this.m=2,gi(this)):os(this,this.T-m)};function gi(m){m.j.I==0||m.K||tt(m.j,m)}function Ki(m){Wi(m);var S=m.O;S&&typeof S.dispose=="function"&&S.dispose(),m.O=null,Sn(m.V),m.g&&(S=m.g,m.g=null,S.abort(),S.dispose())}function ua(m,S){try{var R=m.j;if(R.I!=0&&(R.g==m||Sa(R.h,m))){if(!m.L&&Sa(R.h,m)&&R.I==3){try{var K=R.Ba.g.parse(S)}catch{K=null}if(Array.isArray(K)&&K.length==3){var bt=K;if(bt[0]==0){t:if(!R.v){if(R.g)if(R.g.F+3e3<m.F)V(R),Fa(R);else break t;La(R),He(18)}}else R.xa=bt[1],0<R.xa-R.K&&bt[2]<37500&&R.F&&R.A==0&&!R.C&&(R.C=sn(d(R.Va,R),6e3));ca(R.h)<=1&&R.ta&&(R.ta=void 0)}else yt(R,11)}else if((m.L||R.g==m)&&V(R),!O(S))for(bt=R.Ba.g.parse(S),S=0;S<bt.length;S++){let un=bt[S];const On=un[0];if(!(On<=R.K))if(R.K=On,un=un[1],R.I==2)if(un[0]=="c"){R.M=un[1],R.ba=un[2];const oi=un[3];oi!=null&&(R.ka=oi,R.j.info("VER="+R.ka));const Mi=un[4];Mi!=null&&(R.za=Mi,R.j.info("SVER="+R.za));const tr=un[5];tr!=null&&typeof tr=="number"&&tr>0&&(K=1.5*tr,R.O=K,R.j.info("backChannelRequestTimeoutMs_="+K)),K=R;const _i=m.g;if(_i){const Da=_i.g?_i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Da){var Ct=K.h;Ct.g||Da.indexOf("spdy")==-1&&Da.indexOf("quic")==-1&&Da.indexOf("h2")==-1||(Ct.j=Ct.l,Ct.g=new Set,Ct.h&&(Hs(Ct,Ct.h),Ct.h=null))}if(K.G){const xs=_i.g?_i.g.getResponseHeader("X-HTTP-Session-Id"):null;xs&&(K.wa=xs,fn(K.J,K.G,xs))}}R.I=3,R.l&&R.l.ra(),R.aa&&(R.T=Date.now()-m.F,R.j.info("Handshake RTT: "+R.T+"ms")),K=R;var Zt=m;if(K.na=$t(K,K.L?K.ba:null,K.W),Zt.L){bo(K.h,Zt);var je=Zt,Wn=K.O;Wn&&(je.H=Wn),je.D&&(Wi(je),Li(je)),K.g=Zt}else dl(K);R.i.length>0&&Ra(R)}else un[0]!="stop"&&un[0]!="close"||yt(R,7);else R.I==3&&(un[0]=="stop"||un[0]=="close"?un[0]=="stop"?yt(R,7):Ns(R):un[0]!="noop"&&R.l&&R.l.qa(un),R.A=0)}}Ln(4)}catch{}}var fr=class{constructor(m,S){this.g=m,this.map=S}};function _o(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Di(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ca(m){return m.h?1:m.g?m.g.size:0}function Sa(m,S){return m.h?m.h==S:m.g?m.g.has(S):!1}function Hs(m,S){m.g?m.g.add(S):m.h=S}function bo(m,S){m.h&&m.h==S?m.h=null:m.g&&m.g.has(S)&&m.g.delete(S)}_o.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function wo(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let S=m.i;for(const R of m.g.values())S=S.concat(R.G);return S}return b(m.i)}var ol=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ls(m,S){if(m){m=m.split("&");for(let R=0;R<m.length;R++){const K=m[R].indexOf("=");let bt,Ct=null;K>=0?(bt=m[R].substring(0,K),Ct=m[R].substring(K+1)):bt=m[R],S(bt,Ct?decodeURIComponent(Ct.replace(/\+/g," ")):"")}}}function Qi(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;m instanceof Qi?(this.l=m.l,Tr(this,m.j),this.o=m.o,this.g=m.g,us(this,m.u),this.h=m.h,Ta(this,To(m.i)),this.m=m.m):m&&(S=String(m).match(ol))?(this.l=!1,Tr(this,S[1]||"",!0),this.o=ki(S[2]||""),this.g=ki(S[3]||"",!0),us(this,S[4]),this.h=ki(S[5]||"",!0),Ta(this,S[6]||"",!0),this.m=ki(S[7]||"")):(this.l=!1,this.i=new cs(null,this.l))}Qi.prototype.toString=function(){const m=[];var S=this.j;S&&m.push(Yn(S,Ao,!0),":");var R=this.g;return(R||S=="file")&&(m.push("//"),(S=this.o)&&m.push(Yn(S,Ao,!0),"@"),m.push(Jn(R).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.u,R!=null&&m.push(":",String(R))),(R=this.h)&&(this.g&&R.charAt(0)!="/"&&m.push("/"),m.push(Yn(R,R.charAt(0)=="/"?ll:Ql,!0))),(R=this.i.toString())&&m.push("?",R),(R=this.m)&&m.push("#",Yn(R,ul)),m.join("")},Qi.prototype.resolve=function(m){const S=on(this);let R=!!m.j;R?Tr(S,m.j):R=!!m.o,R?S.o=m.o:R=!!m.g,R?S.g=m.g:R=m.u!=null;var K=m.h;if(R)us(S,m.u);else if(R=!!m.h){if(K.charAt(0)!="/")if(this.g&&!this.h)K="/"+K;else{var bt=S.h.lastIndexOf("/");bt!=-1&&(K=S.h.slice(0,bt+1)+K)}if(bt=K,bt==".."||bt==".")K="";else if(bt.indexOf("./")!=-1||bt.indexOf("/.")!=-1){K=bt.lastIndexOf("/",0)==0,bt=bt.split("/");const Ct=[];for(let Zt=0;Zt<bt.length;){const je=bt[Zt++];je=="."?K&&Zt==bt.length&&Ct.push(""):je==".."?((Ct.length>1||Ct.length==1&&Ct[0]!="")&&Ct.pop(),K&&Zt==bt.length&&Ct.push("")):(Ct.push(je),K=!0)}K=Ct.join("/")}else K=bt}return R?S.h=K:R=m.i.toString()!=="",R?Ta(S,To(m.i)):R=!!m.m,R&&(S.m=m.m),S};function on(m){return new Qi(m)}function Tr(m,S,R){m.j=R?ki(S,!0):S,m.j&&(m.j=m.j.replace(/:$/,""))}function us(m,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);m.u=S}else m.u=null}function Ta(m,S,R){S instanceof cs?(m.i=S,Na(m.i,m.l)):(R||(S=Yn(S,vi)),m.i=new cs(S,m.l))}function fn(m,S,R){m.i.set(S,R)}function yi(m){return fn(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function ki(m,S){return m?S?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Yn(m,S,R){return typeof m=="string"?(m=encodeURI(m).replace(S,si),R&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function si(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ao=/[#\/\?@]/g,Ql=/[#\?:]/g,ll=/[#\?]/g,vi=/[#\?@]/g,ul=/#/g;function cs(m,S){this.h=this.g=null,this.i=m||null,this.j=!!S}function Nr(m){m.g||(m.g=new Map,m.h=0,m.i&&ls(m.i,function(S,R){m.add(decodeURIComponent(S.replace(/\+/g," ")),R)}))}n=cs.prototype,n.add=function(m,S){Nr(this),this.i=null,m=ha(this,m);let R=this.g.get(m);return R||this.g.set(m,R=[]),R.push(S),this.h+=1,this};function Eo(m,S){Nr(m),S=ha(m,S),m.g.has(S)&&(m.i=null,m.h-=m.g.get(S).length,m.g.delete(S))}function cl(m,S){return Nr(m),S=ha(m,S),m.g.has(S)}n.forEach=function(m,S){Nr(this),this.g.forEach(function(R,K){R.forEach(function(bt){m.call(S,bt,K,this)},this)},this)};function hl(m,S){Nr(m);let R=[];if(typeof S=="string")cl(m,S)&&(R=R.concat(m.g.get(ha(m,S))));else for(m=Array.from(m.g.values()),S=0;S<m.length;S++)R=R.concat(m[S]);return R}n.set=function(m,S){return Nr(this),this.i=null,m=ha(this,m),cl(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[S]),this.h+=1,this},n.get=function(m,S){return m?(m=hl(this,m),m.length>0?String(m[0]):S):S};function So(m,S,R){Eo(m,S),R.length>0&&(m.i=null,m.g.set(ha(m,S),b(R)),m.h+=R.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],S=Array.from(this.g.keys());for(let K=0;K<S.length;K++){var R=S[K];const bt=Jn(R);R=hl(this,R);for(let Ct=0;Ct<R.length;Ct++){let Zt=bt;R[Ct]!==""&&(Zt+="="+Jn(R[Ct])),m.push(Zt)}}return this.i=m.join("&")};function To(m){const S=new cs;return S.i=m.i,m.g&&(S.g=new Map(m.g),S.h=m.h),S}function ha(m,S){return S=String(S),m.j&&(S=S.toLowerCase()),S}function Na(m,S){S&&!m.j&&(Nr(m),m.i=null,m.g.forEach(function(R,K){const bt=K.toLowerCase();K!=bt&&(Eo(this,K),So(this,bt,R))},m)),m.j=S}function xa(m,S){const R=new pi;if(u.Image){const K=new Image;K.onload=v(Oi,R,"TestLoadImage: loaded",!0,S,K),K.onerror=v(Oi,R,"TestLoadImage: error",!1,S,K),K.onabort=v(Oi,R,"TestLoadImage: abort",!1,S,K),K.ontimeout=v(Oi,R,"TestLoadImage: timeout",!1,S,K),u.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=m}else S(!1)}function hs(m,S){const R=new pi,K=new AbortController,bt=setTimeout(()=>{K.abort(),Oi(R,"TestPingServer: timeout",!1,S)},1e4);fetch(m,{signal:K.signal}).then(Ct=>{clearTimeout(bt),Ct.ok?Oi(R,"TestPingServer: ok",!0,S):Oi(R,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(bt),Oi(R,"TestPingServer: error",!1,S)})}function Oi(m,S,R,K,bt){try{bt&&(bt.onload=null,bt.onerror=null,bt.onabort=null,bt.ontimeout=null),K(R)}catch{}}function De(){this.g=new ke}function Va(m){this.i=m.Sb||null,this.h=m.ab||!1}A(Va,ye),Va.prototype.g=function(){return new Gs(this.i,this.h)};function Gs(m,S){Wt.call(this),this.H=m,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Gs,Wt),n=Gs.prototype,n.open=function(m,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=S,this.readyState=1,Kr(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(S.body=m),(this.H||u).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;No(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function No(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var S=m.value?m.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!m.done}))&&(this.response=this.responseText+=S)}m.done?Ss(this):Kr(this),this.readyState==3&&No(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,Ss(this))},n.Na=function(m){this.g&&(this.response=m,Ss(this))},n.ga=function(){this.g&&Ss(this)};function Ss(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Kr(m)}n.setRequestHeader=function(m,S){this.A.append(m,S)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],S=this.h.entries();for(var R=S.next();!R.done;)R=R.value,m.push(R[0]+": "+R[1]),R=S.next();return m.join(`\r
`)};function Kr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Vr(m){let S="";return Nt(m,function(R,K){S+=K,S+=":",S+=R,S+=`\r
`}),S}function Ys(m,S,R){t:{for(K in R){var K=!1;break t}K=!0}K||(R=Vr(R),typeof m=="string"?R!=null&&Jn(R):fn(m,S,R))}function kn(m){Wt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(kn,Wt);var $i=/^https?$/i,Ws=["POST","PUT"];n=kn.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,S,R,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);S=S?S.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ri.g(),this.g.onreadystatechange=T(d(this.Ca,this));try{this.B=!0,this.g.open(S,String(m),!0),this.B=!1}catch(Ct){Ca(this,Ct);return}if(m=R||"",R=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var bt in K)R.set(bt,K[bt]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const Ct of K.keys())R.set(Ct,K.get(Ct));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(R.keys()).find(Ct=>Ct.toLowerCase()=="content-type"),bt=u.FormData&&m instanceof u.FormData,!(Array.prototype.indexOf.call(Ws,S,void 0)>=0)||K||bt||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ct,Zt]of R)this.g.setRequestHeader(Ct,Zt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(Ct){Ca(this,Ct)}};function Ca(m,S){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=S,m.o=5,Ts(m),fs(m)}function Ts(m){m.A||(m.A=!0,ie(m,"complete"),ie(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,ie(this,"complete"),ie(this,"abort"),fs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fs(this,!0)),kn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ba(this):this.Xa())},n.Xa=function(){Ba(this)};function Ba(m){if(m.h&&typeof o<"u"){if(m.v&&Xi(m)==4)setTimeout(m.Ca.bind(m),0);else if(ie(m,"readystatechange"),Xi(m)==4){m.h=!1;try{const Ct=m.ca();t:switch(Ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break t;default:S=!1}var R;if(!(R=S)){var K;if(K=Ct===0){let Zt=String(m.D).match(ol)[1]||null;!Zt&&u.self&&u.self.location&&(Zt=u.self.location.protocol.slice(0,-1)),K=!$i.test(Zt?Zt.toLowerCase():"")}R=K}if(R)ie(m,"complete"),ie(m,"success");else{m.o=6;try{var bt=Xi(m)>2?m.g.statusText:""}catch{bt=""}m.l=bt+" ["+m.ca()+"]",Ts(m)}}finally{fs(m)}}}}function fs(m,S){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const R=m.g;m.g=null,S||ie(m,"ready");try{R.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Xi(m){return m.g?m.g.readyState:0}n.ca=function(){try{return Xi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var S=this.g.responseText;return m&&S.indexOf(m)==0&&(S=S.substring(m.length)),be(S)}};function xr(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(m){const S={};m=(m.g&&Xi(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<m.length;K++){if(O(m[K]))continue;var R=Mr(m[K]);const bt=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const Ct=S[bt]||[];S[bt]=Ct,Ct.push(R)}zt(S,function(K){return K.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(m,S,R){return R&&R.internalChannelParams&&R.internalChannelParams[m]||S}function ja(m){this.za=0,this.i=[],this.j=new pi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pi("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pi("baseRetryDelayMs",5e3,m),this.Za=Pi("retryDelaySeedMs",1e4,m),this.Ta=Pi("forwardChannelMaxRetries",2,m),this.va=Pi("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new _o(m&&m.concurrentRequestLimit),this.Ba=new De,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ja.prototype,n.ka=8,n.I=1,n.connect=function(m,S,R,K){He(0),this.W=m,this.H=S||{},R&&K!==void 0&&(this.H.OSID=R,this.H.OAID=K),this.F=this.X,this.J=$t(this,null,this.W),Ra(this)};function Ns(m){if(qa(m),m.I==3){var S=m.V++,R=on(m.J);if(fn(R,"SID",m.M),fn(R,"RID",S),fn(R,"TYPE","terminate"),Zi(m,R),S=new mi(m,m.j,S),S.M=2,S.A=yi(on(R)),R=!1,u.navigator&&u.navigator.sendBeacon)try{R=u.navigator.sendBeacon(S.A.toString(),"")}catch{}!R&&u.Image&&(new Image().src=S.A,R=!0),R||(S.g=ue(S.j,null),S.g.ea(S.A)),S.F=Date.now(),Li(S)}Ut(m)}function Fa(m){m.g&&(xo(m),m.g.cancel(),m.g=null)}function qa(m){Fa(m),m.v&&(u.clearTimeout(m.v),m.v=null),V(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&u.clearTimeout(m.m),m.m=null)}function Ra(m){if(!Di(m.h)&&!m.m){m.m=!0;var S=m.Ea;vt||U(),Dt||(vt(),Dt=!0),G.add(S,m),m.D=0}}function Ks(m,S){return ca(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=S.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=sn(d(m.Ea,m,S),ut(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const bt=new mi(this,this.j,m);let Ct=this.o;if(this.U&&(Ct?(Ct=J(Ct),Y(Ct,this.U)):Ct=this.U),this.u!==null||this.R||(bt.J=Ct,Ct=null),this.S)t:{for(var S=0,R=0;R<this.i.length;R++){e:{var K=this.i[R];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break e}K=void 0}if(K===void 0)break;if(S+=K,S>4096){S=R;break t}if(S===4096||R===this.i.length-1){S=R+1;break t}}S=1e3}else S=1e3;S=fl(this,bt,S),R=on(this.J),fn(R,"RID",m),fn(R,"CVER",22),this.G&&fn(R,"X-HTTP-Session-Id",this.G),Zi(this,R),Ct&&(this.R?S="headers="+Jn(Vr(Ct))+"&"+S:this.u&&Ys(R,this.u,Ct)),Hs(this.h,bt),this.Ra&&fn(R,"TYPE","init"),this.S?(fn(R,"$req",S),fn(R,"SID","null"),bt.U=!0,Ur(bt,R,null)):Ur(bt,R,S),this.I=2}}else this.I==3&&(m?Ia(this,m):this.i.length==0||Di(this.h)||Ia(this))};function Ia(m,S){var R;S?R=S.l:R=m.V++;const K=on(m.J);fn(K,"SID",m.M),fn(K,"RID",R),fn(K,"AID",m.K),Zi(m,K),m.u&&m.o&&Ys(K,m.u,m.o),R=new mi(m,m.j,R,m.D+1),m.u===null&&(R.J=m.o),S&&(m.i=S.G.concat(m.i)),S=fl(m,R,1e3),R.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Hs(m.h,R),Ur(R,K,S)}function Zi(m,S){m.H&&Nt(m.H,function(R,K){fn(S,K,R)}),m.l&&Nt({},function(R,K){fn(S,K,R)})}function fl(m,S,R){R=Math.min(m.i.length,R);const K=m.l?d(m.l.Ka,m.l,m):null;t:{var bt=m.i;let je=-1;for(;;){const Wn=["count="+R];je==-1?R>0?(je=bt[0].g,Wn.push("ofs="+je)):je=0:Wn.push("ofs="+je);let un=!0;for(let On=0;On<R;On++){var Ct=bt[On].g;const oi=bt[On].map;if(Ct-=je,Ct<0)je=Math.max(0,bt[On].g-100),un=!1;else try{Ct="req"+Ct+"_"||"";try{var Zt=oi instanceof Map?oi:Object.entries(oi);for(const[Mi,tr]of Zt){let _i=tr;h(tr)&&(_i=Me(tr)),Wn.push(Ct+Mi+"="+encodeURIComponent(_i))}}catch(Mi){throw Wn.push(Ct+"type="+encodeURIComponent("_badmap")),Mi}}catch{K&&K(oi)}}if(un){Zt=Wn.join("&");break t}}Zt=void 0}return m=m.i.splice(0,R),S.G=m,Zt}function dl(m){if(!m.g&&!m.v){m.Y=1;var S=m.Da;vt||U(),Dt||(vt(),Dt=!0),G.add(S,m),m.A=0}}function La(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=sn(d(m.Da,m),ut(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,w(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=sn(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,He(10),Fa(this),w(this))};function xo(m){m.B!=null&&(u.clearTimeout(m.B),m.B=null)}function w(m){m.g=new mi(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var S=on(m.na);fn(S,"RID","rpc"),fn(S,"SID",m.M),fn(S,"AID",m.K),fn(S,"CI",m.F?"0":"1"),!m.F&&m.ia&&fn(S,"TO",m.ia),fn(S,"TYPE","xmlhttp"),Zi(m,S),m.u&&m.o&&Ys(S,m.u,m.o),m.O&&(m.g.H=m.O);var R=m.g;m=m.ba,R.M=1,R.A=yi(on(S)),R.u=null,R.R=!0,Ii(R,m)}n.Va=function(){this.C!=null&&(this.C=null,Fa(this),La(this),He(19))};function V(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function tt(m,S){var R=null;if(m.g==S){V(m),xo(m),m.g=null;var K=2}else if(Sa(m.h,S))R=S.G,bo(m.h,S),K=1;else return;if(m.I!=0){if(S.o)if(K==1){R=S.u?S.u.length:0,S=Date.now()-S.F;var bt=m.D;K=an(),ie(K,new Te(K,R)),Ra(m)}else dl(m);else if(bt=S.m,bt==3||bt==0&&S.X>0||!(K==1&&Ks(m,S)||K==2&&La(m)))switch(R&&R.length>0&&(S=m.h,S.i=S.i.concat(R)),bt){case 1:yt(m,5);break;case 4:yt(m,10);break;case 3:yt(m,6);break;default:yt(m,2)}}}function ut(m,S){let R=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(R*=2),R*S}function yt(m,S){if(m.j.info("Error code "+S),S==2){var R=d(m.bb,m),K=m.Ua;const bt=!K;K=new Qi(K||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Tr(K,"https"),yi(K),bt?xa(K.toString(),R):hs(K.toString(),R)}else He(2);m.I=0,m.l&&m.l.pa(S),Ut(m),qa(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function Ut(m){if(m.I=0,m.ja=[],m.l){const S=wo(m.h);(S.length!=0||m.i.length!=0)&&(M(m.ja,S),M(m.ja,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.oa()}}function $t(m,S,R){var K=R instanceof Qi?on(R):new Qi(R);if(K.g!="")S&&(K.g=S+"."+K.g),us(K,K.u);else{var bt=u.location;K=bt.protocol,S=S?S+"."+bt.hostname:bt.hostname,bt=+bt.port;const Ct=new Qi(null);K&&Tr(Ct,K),S&&(Ct.g=S),bt&&us(Ct,bt),R&&(Ct.h=R),K=Ct}return R=m.G,S=m.wa,R&&S&&fn(K,R,S),fn(K,"VER",m.ka),Zi(m,K),K}function ue(m,S,R){if(S&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=m.Aa&&!m.ma?new kn(new Va({ab:R})):new kn(m.ma),S.Fa(m.L),S}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function de(){}n=de.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ce(){}Ce.prototype.g=function(m,S){return new ve(m,S)};function ve(m,S){Wt.call(this),this.g=new ja(S),this.l=m,this.h=S&&S.messageUrlParams||null,m=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(m?m["X-WebChannel-Content-Type"]=S.messageContentType:m={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(m?m["X-WebChannel-Client-Profile"]=S.sa:m={"X-WebChannel-Client-Profile":S.sa}),this.g.U=m,(m=S&&S.Qb)&&!O(m)&&(this.g.u=m),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!O(S)&&(this.g.G=S,m=this.h,m!==null&&S in m&&(m=this.h,S in m&&delete m[S])),this.j=new zn(this)}A(ve,Wt),ve.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ve.prototype.close=function(){Ns(this.g)},ve.prototype.o=function(m){var S=this.g;if(typeof m=="string"){var R={};R.__data__=m,m=R}else this.v&&(R={},R.__data__=Me(m),m=R);S.i.push(new fr(S.Ya++,m)),S.I==3&&Ra(S)},ve.prototype.N=function(){this.g.l=null,delete this.j,Ns(this.g),delete this.g,ve.Z.N.call(this)};function gn(m){ae.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var S=m.__sm__;if(S){t:{for(const R in S){m=R;break t}m=void 0}(this.i=m)&&(m=this.i,S=S!==null&&m in S?S[m]:void 0),this.data=S}else this.data=m}A(gn,ae);function Zn(){Se.call(this),this.status=1}A(Zn,Se);function zn(m){this.g=m}A(zn,de),zn.prototype.ra=function(){ie(this.g,"a")},zn.prototype.qa=function(m){ie(this.g,new gn(m))},zn.prototype.pa=function(m){ie(this.g,new Zn)},zn.prototype.oa=function(){ie(this.g,"b")},Ce.prototype.createWebChannel=Ce.prototype.g,ve.prototype.send=ve.prototype.o,ve.prototype.open=ve.prototype.m,ve.prototype.close=ve.prototype.close,s4=function(){return new Ce},a4=function(){return an()},i4=Be,a0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,jp=Yi,Ci.COMPLETE="complete",r4=Ci,Un.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",Wt.prototype.listen=Wt.prototype.J,Ff=Un,kn.prototype.listenOnce=kn.prototype.K,kn.prototype.getLastError=kn.prototype.Ha,kn.prototype.getLastErrorCode=kn.prototype.ya,kn.prototype.getStatus=kn.prototype.ca,kn.prototype.getResponseJson=kn.prototype.La,kn.prototype.getResponseText=kn.prototype.la,kn.prototype.send=kn.prototype.ea,kn.prototype.setWithCredentials=kn.prototype.Fa,n4=kn}).apply(typeof Ap<"u"?Ap:typeof self<"u"?self:typeof window<"u"?window:{});const Bv="@firebase/firestore",jv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ba.UNAUTHENTICATED=new ba(null),ba.GOOGLE_CREDENTIALS=new ba("google-credentials-uid"),ba.FIRST_PARTY=new ba("first-party-uid"),ba.MOCK_USER=new ba("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new G0("@firebase/firestore");function gh(){return wc.logLevel}function ce(n,...t){if(wc.logLevel<=_n.DEBUG){const e=t.map(K0);wc.debug(`Firestore (${Gh}): ${n}`,...e)}}function zl(n,...t){if(wc.logLevel<=_n.ERROR){const e=t.map(K0);wc.error(`Firestore (${Gh}): ${n}`,...e)}}function kh(n,...t){if(wc.logLevel<=_n.WARN){const e=t.map(K0);wc.warn(`Firestore (${Gh}): ${n}`,...e)}}function K0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,o4(n,r,e)}function o4(n,t,e){let r=`FIRESTORE (${Gh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw zl(r),new Error(r)}function Hn(n,t,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,n||o4(t,s,r)}function en(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Kl{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(ba.UNAUTHENTICATED)))}shutdown(){}}class FN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class qN{constructor(t){this.t=t,this.currentUser=ba.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Hn(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,e(f)):Promise.resolve();let o=new jl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new jl,t.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},h=f=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new jl)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Hn(typeof r.accessToken=="string",31837,{l:r}),new l4(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Hn(t===null||typeof t=="string",2055,{h:t}),new ba(t)}}class zN{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=ba.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HN{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new zN(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(ba.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GN{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Go(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Hn(this.o===void 0,3512);const r=o=>{o.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>r(o)))};const s=o=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Fv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Hn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Fv(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=YN(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<e&&(r+=t.charAt(s[o]%62))}return r}}function bn(n,t){return n<t?-1:n>t?1:0}function s0(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const s=n.charAt(r),o=t.charAt(r);if(s!==o)return wg(s)===wg(o)?bn(s,o):wg(s)?1:-1}return bn(n.length,t.length)}const WN=55296,KN=57343;function wg(n){const t=n.charCodeAt(0);return t>=WN&&t<=KN}function Oh(n,t,e){return n.length===t.length&&n.every(((r,s)=>e(r,t[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="__name__";class Ho{constructor(t,e,r){e===void 0?e=0:e>t.length&&Fe(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Fe(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Ho.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ho?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let s=0;s<r;s++){const o=Ho.compareSegments(t.get(s),e.get(s));if(o!==0)return o}return bn(t.length,e.length)}static compareSegments(t,e){const r=Ho.isNumericId(t),s=Ho.isNumericId(e);return r&&!s?-1:!r&&s?1:r&&s?Ho.extractNumericId(t).compare(Ho.extractNumericId(e)):s0(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Pu.fromString(t.substring(4,t.length-2))}}class hr extends Ho{construct(t,e,r){return new hr(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new se(Gt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((s=>s.length>0)))}return new hr(e)}static emptyPath(){return new hr([])}}const QN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sa extends Ho{construct(t,e,r){return new sa(t,e,r)}static isValidIdentifier(t){return QN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sa.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qv}static keyField(){return new sa([qv])}static fromServerFormat(t){const e=[];let r="",s=0;const o=()=>{if(r.length===0)throw new se(Gt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let u=!1;for(;s<t.length;){const h=t[s];if(h==="\\"){if(s+1===t.length)throw new se(Gt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new se(Gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(o(),s++)}if(o(),u)throw new se(Gt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sa(e)}static emptyPath(){return new sa([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(t){this.path=t}static fromPath(t){return new Le(hr.fromString(t))}static fromName(t){return new Le(hr.fromString(t).popFirst(5))}static empty(){return new Le(hr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&hr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return hr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Le(new hr(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(n,t,e){if(!e)throw new se(Gt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function $N(n,t,e,r){if(t===!0&&r===!0)throw new se(Gt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function zv(n){if(!Le.isDocumentKey(n))throw new se(Gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Hv(n){if(Le.isDocumentKey(n))throw new se(Gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function c4(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Im(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Fe(12329,{type:typeof n})}function po(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new se(Gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Im(n);throw new se(Gt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(n,t){const e={typeString:n};return t&&(e.value=t),e}function vd(n,t){if(!c4(n))throw new se(Gt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const s=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){e=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){e=`Expected '${r}' field to equal '${o.value}'`;break}}if(e)throw new se(Gt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=-62135596800,Yv=1e6;class yr{static now(){return yr.fromMillis(Date.now())}static fromDate(t){return yr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*Yv);return new yr(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new se(Gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new se(Gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Gv)throw new se(Gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new se(Gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yv}_compareTo(t){return this.seconds===t.seconds?bn(this.nanoseconds,t.nanoseconds):bn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(vd(t,yr._jsonSchema))return new yr(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Gv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yr._jsonSchemaVersion="firestore/timestamp/1.0",yr._jsonSchema={type:di("string",yr._jsonSchemaVersion),seconds:di("number"),nanoseconds:di("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(t){return new $e(t)}static min(){return new $e(new yr(0,0))}static max(){return new $e(new yr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=-1;function XN(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=$e.fromTimestamp(r===1e9?new yr(e+1,0):new yr(e,r));return new Uu(s,Le.empty(),t)}function JN(n){return new Uu(n.readTime,n.key,nd)}class Uu{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Uu($e.min(),Le.empty(),nd)}static max(){return new Uu($e.max(),Le.empty(),nd)}}function ZN(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Le.comparator(n.documentKey,t.documentKey),e!==0?e:bn(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ex{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(n){if(n.code!==Gt.FAILED_PRECONDITION||n.message!==tx)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Qt(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(e,o).next(r,s)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Qt?e:Qt.resolve(e)}catch(e){return Qt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Qt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Qt.reject(e)}static resolve(t){return new Qt(((e,r)=>{e(t)}))}static reject(t){return new Qt(((e,r)=>{r(t)}))}static waitFor(t){return new Qt(((e,r)=>{let s=0,o=0,u=!1;t.forEach((h=>{++s,h.next((()=>{++o,u&&o===s&&e()}),(f=>r(f)))})),u=!0,o===s&&e()}))}static or(t){let e=Qt.resolve(!1);for(const r of t)e=e.next((s=>s?Qt.resolve(s):r()));return e}static forEach(t,e){const r=[];return t.forEach(((s,o)=>{r.push(e.call(this,s,o))})),this.waitFor(r)}static mapArray(t,e){return new Qt(((r,s)=>{const o=t.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((v=>{u[d]=v,++h,h===o&&r(u)}),(v=>s(v)))}}))}static doWhile(t,e){return new Qt(((r,s)=>{const o=()=>{t()===!0?e().next((()=>{o()}),s):r()};o()}))}}function nx(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Wh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Lm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=-1;function Dm(n){return n==null}function am(n){return n===0&&1/n==-1/0}function rx(n){return typeof n=="number"&&Number.isInteger(n)&&!am(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="";function ix(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Wv(t)),t=ax(n.get(e),t);return Wv(t)}function ax(n,t){let e=t;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":e+="";break;case h4:e+="";break;default:e+=o}}return e}function Wv(n){return n+h4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function xc(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function f4(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t,e){this.comparator=t,this.root=e||aa.EMPTY}insert(t,e){return new Pr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,aa.BLACK,null,null))}remove(t){return new Pr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,aa.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return e+r.left.size;s<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ep(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ep(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ep(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ep(this.root,t,this.comparator,!0)}}class Ep{constructor(t,e,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?r(t.key,e):1,e&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class aa{constructor(t,e,r,s,o){this.key=t,this.value=e,this.color=r??aa.RED,this.left=s??aa.EMPTY,this.right=o??aa.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,s,o){return new aa(t??this.key,e??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let s=this;const o=r(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,e,r),null):o===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return aa.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return aa.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,aa.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,aa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Fe(27949);return t+(this.isRed()?0:1)}}aa.EMPTY=null,aa.RED=!0,aa.BLACK=!1;aa.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(t,e,r,s,o){return this}insert(t,e,r){return new aa(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t){this.comparator=t,this.data=new Pr(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Qv(this.data.getIterator())}getIteratorFrom(t){return new Qv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof xi)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new xi(this.comparator);return e.data=t,e}}class Qv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t){this.fields=t,t.sort(sa.comparator)}static empty(){return new ho([])}unionWith(t){let e=new xi(sa.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new ho(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Oh(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new d4("Invalid base64 string: "+o):o}})(t);return new oa(e)}static fromUint8Array(t){const e=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(t);return new oa(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return bn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}oa.EMPTY_BYTE_STRING=new oa("");const sx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vu(n){if(Hn(!!n,39018),typeof n=="string"){let t=0;const e=sx.exec(n);if(Hn(!!e,46558,{timestamp:n}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Xr(n.seconds),nanos:Xr(n.nanos)}}function Xr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Bu(n){return typeof n=="string"?oa.fromBase64String(n):oa.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="server_timestamp",m4="__type__",g4="__previous_value__",y4="__local_write_time__";function X0(n){return(n?.mapValue?.fields||{})[m4]?.stringValue===p4}function km(n){const t=n.mapValue.fields[g4];return X0(t)?km(t):t}function rd(n){const t=Vu(n.mapValue.fields[y4].timestampValue);return new yr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(t,e,r,s,o,u,h,f,d,v){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=v}}const sm="(default)";class id{constructor(t,e){this.projectId=t,this.database=e||sm}static empty(){return new id("","")}get isDefaultDatabase(){return this.database===sm}isEqual(t){return t instanceof id&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="__type__",lx="__max__",Sp={mapValue:{}},_4="__vector__",om="value";function ju(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?X0(n)?4:cx(n)?9007199254740991:ux(n)?10:11:Fe(28295,{value:n})}function rl(n,t){if(n===t)return!0;const e=ju(n);if(e!==ju(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return rd(n).isEqual(rd(t));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=Vu(s.timestampValue),h=Vu(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(s,o){return Bu(s.bytesValue).isEqual(Bu(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(s,o){return Xr(s.geoPointValue.latitude)===Xr(o.geoPointValue.latitude)&&Xr(s.geoPointValue.longitude)===Xr(o.geoPointValue.longitude)})(n,t);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Xr(s.integerValue)===Xr(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Xr(s.doubleValue),h=Xr(o.doubleValue);return u===h?am(u)===am(h):isNaN(u)&&isNaN(h)}return!1})(n,t);case 9:return Oh(n.arrayValue.values||[],t.arrayValue.values||[],rl);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(Kv(u)!==Kv(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!rl(u[f],h[f])))return!1;return!0})(n,t);default:return Fe(52216,{left:n})}}function ad(n,t){return(n.values||[]).find((e=>rl(e,t)))!==void 0}function Ph(n,t){if(n===t)return 0;const e=ju(n),r=ju(t);if(e!==r)return bn(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return bn(n.booleanValue,t.booleanValue);case 2:return(function(o,u){const h=Xr(o.integerValue||o.doubleValue),f=Xr(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return $v(n.timestampValue,t.timestampValue);case 4:return $v(rd(n),rd(t));case 5:return s0(n.stringValue,t.stringValue);case 6:return(function(o,u){const h=Bu(o),f=Bu(u);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,u){const h=o.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const v=bn(h[d],f[d]);if(v!==0)return v}return bn(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,u){const h=bn(Xr(o.latitude),Xr(u.latitude));return h!==0?h:bn(Xr(o.longitude),Xr(u.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return Xv(n.arrayValue,t.arrayValue);case 10:return(function(o,u){const h=o.fields||{},f=u.fields||{},d=h[om]?.arrayValue,v=f[om]?.arrayValue,A=bn(d?.values?.length||0,v?.values?.length||0);return A!==0?A:Xv(d,v)})(n.mapValue,t.mapValue);case 11:return(function(o,u){if(o===Sp.mapValue&&u===Sp.mapValue)return 0;if(o===Sp.mapValue)return 1;if(u===Sp.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=u.fields||{},v=Object.keys(d);f.sort(),v.sort();for(let A=0;A<f.length&&A<v.length;++A){const T=s0(f[A],v[A]);if(T!==0)return T;const b=Ph(h[f[A]],d[v[A]]);if(b!==0)return b}return bn(f.length,v.length)})(n.mapValue,t.mapValue);default:throw Fe(23264,{he:e})}}function $v(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return bn(n,t);const e=Vu(n),r=Vu(t),s=bn(e.seconds,r.seconds);return s!==0?s:bn(e.nanos,r.nanos)}function Xv(n,t){const e=n.values||[],r=t.values||[];for(let s=0;s<e.length&&s<r.length;++s){const o=Ph(e[s],r[s]);if(o)return o}return bn(e.length,r.length)}function Mh(n){return o0(n)}function o0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Vu(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Bu(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Le.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",s=!0;for(const o of e.values||[])s?s=!1:r+=",",r+=o0(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${o0(e.fields[u])}`;return s+"}"})(n.mapValue):Fe(61005,{value:n})}function Fp(n){switch(ju(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=km(n);return t?16+Fp(t):16;case 5:return 2*n.stringValue.length;case 6:return Bu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+Fp(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return xc(r.fields,((o,u)=>{s+=o.length+Fp(u)})),s})(n.mapValue);default:throw Fe(13486,{value:n})}}function Jv(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function l0(n){return!!n&&"integerValue"in n}function J0(n){return!!n&&"arrayValue"in n}function Zv(n){return!!n&&"nullValue"in n}function t_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qp(n){return!!n&&"mapValue"in n}function ux(n){return(n?.mapValue?.fields||{})[v4]?.stringValue===_4}function Wf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return xc(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=Wf(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Wf(n.arrayValue.values[e]);return t}return{...n}}function cx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t){this.value=t}static empty(){return new Fs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!qp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wf(e)}setAll(t){let e=sa.emptyPath(),r={},s=[];t.forEach(((u,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,r,s),r={},s=[],e=h.popLast()}u?r[h.lastSegment()]=Wf(u):s.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,r,s)}delete(t){const e=this.field(t.popLast());qp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return rl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=e.mapValue.fields[t.get(r)];qp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,r){xc(e,((s,o)=>t[s]=o));for(const s of r)delete t[s]}clone(){return new Fs(Wf(this.value))}}function b4(n){const t=[];return xc(n.fields,((e,r)=>{const s=new sa([e]);if(qp(r)){const o=b4(r.mapValue).fields;if(o.length===0)t.push(s);else for(const u of o)t.push(s.child(u))}else t.push(s)})),new ho(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(t,e,r,s,o,u,h){this.key=t,this.documentType=e,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new wa(t,0,$e.min(),$e.min(),$e.min(),Fs.empty(),0)}static newFoundDocument(t,e,r,s){return new wa(t,1,e,$e.min(),r,s,0)}static newNoDocument(t,e){return new wa(t,2,e,$e.min(),$e.min(),Fs.empty(),0)}static newUnknownDocument(t,e){return new wa(t,3,e,$e.min(),$e.min(),Fs.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof wa&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new wa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(t,e){this.position=t,this.inclusive=e}}function e_(n,t,e){let r=0;for(let s=0;s<n.position.length;s++){const o=t[s],u=n.position[s];if(o.field.isKeyField()?r=Le.comparator(Le.fromName(u.referenceValue),e.key):r=Ph(u,e.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function n_(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!rl(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t,e="asc"){this.field=t,this.dir=e}}function hx(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{}class fi extends w4{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new dx(t,e,r):e==="array-contains"?new gx(t,r):e==="in"?new yx(t,r):e==="not-in"?new vx(t,r):e==="array-contains-any"?new _x(t,r):new fi(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new px(t,r):new mx(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Ph(e,this.value)):e!==null&&ju(this.value)===ju(e)&&this.matchesComparison(Ph(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mo extends w4{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new mo(t,e)}matches(t){return A4(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function A4(n){return n.op==="and"}function E4(n){return fx(n)&&A4(n)}function fx(n){for(const t of n.filters)if(t instanceof mo)return!1;return!0}function u0(n){if(n instanceof fi)return n.field.canonicalString()+n.op.toString()+Mh(n.value);if(E4(n))return n.filters.map((t=>u0(t))).join(",");{const t=n.filters.map((e=>u0(e))).join(",");return`${n.op}(${t})`}}function S4(n,t){return n instanceof fi?(function(r,s){return s instanceof fi&&r.op===s.op&&r.field.isEqual(s.field)&&rl(r.value,s.value)})(n,t):n instanceof mo?(function(r,s){return s instanceof mo&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,u,h)=>o&&S4(u,s.filters[h])),!0):!1})(n,t):void Fe(19439)}function T4(n){return n instanceof fi?(function(e){return`${e.field.canonicalString()} ${e.op} ${Mh(e.value)}`})(n):n instanceof mo?(function(e){return e.op.toString()+" {"+e.getFilters().map(T4).join(" ,")+"}"})(n):"Filter"}class dx extends fi{constructor(t,e,r){super(t,e,r),this.key=Le.fromName(r.referenceValue)}matches(t){const e=Le.comparator(t.key,this.key);return this.matchesComparison(e)}}class px extends fi{constructor(t,e){super(t,"in",e),this.keys=N4("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class mx extends fi{constructor(t,e){super(t,"not-in",e),this.keys=N4("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function N4(n,t){return(t.arrayValue?.values||[]).map((e=>Le.fromName(e.referenceValue)))}class gx extends fi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return J0(e)&&ad(e.arrayValue,this.value)}}class yx extends fi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&ad(this.value.arrayValue,e)}}class vx extends fi{constructor(t,e){super(t,"not-in",e)}matches(t){if(ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!ad(this.value.arrayValue,e)}}class _x extends fi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!J0(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>ad(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t,e=null,r=[],s=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function r_(n,t=null,e=[],r=[],s=null,o=null,u=null){return new bx(n,t,e,r,s,o,u)}function Z0(n){const t=en(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>u0(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Dm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Mh(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Mh(r))).join(",")),t.Te=e}return t.Te}function t2(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!hx(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!S4(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!n_(n.startAt,t.startAt)&&n_(n.endAt,t.endAt)}function c0(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t,e=null,r=[],s=[],o=null,u="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wx(n,t,e,r,s,o,u,h){return new Kh(n,t,e,r,s,o,u,h)}function Om(n){return new Kh(n)}function i_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function x4(n){return n.collectionGroup!==null}function Kf(n){const t=en(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new xi(sa.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new sd(o,r))})),e.has(sa.keyField().canonicalString())||t.Ie.push(new sd(sa.keyField(),r))}return t.Ie}function Qo(n){const t=en(n);return t.Ee||(t.Ee=Ax(t,Kf(n))),t.Ee}function Ax(n,t){if(n.limitType==="F")return r_(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new sd(s.field,o)}));const e=n.endAt?new lm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new lm(n.startAt.position,n.startAt.inclusive):null;return r_(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function h0(n,t){const e=n.filters.concat([t]);return new Kh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function f0(n,t,e){return new Kh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Pm(n,t){return t2(Qo(n),Qo(t))&&n.limitType===t.limitType}function C4(n){return`${Z0(Qo(n))}|lt:${n.limitType}`}function yh(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((s=>T4(s))).join(", ")}]`),Dm(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((s=>Mh(s))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((s=>Mh(s))).join(",")),`Target(${r})`})(Qo(n))}; limitType=${n.limitType})`}function Mm(n,t){return t.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,t)&&(function(r,s){for(const o of Kf(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,t)&&(function(r,s){return!(r.startAt&&!(function(u,h,f){const d=e_(u,h,f);return u.inclusive?d<=0:d<0})(r.startAt,Kf(r),s)||r.endAt&&!(function(u,h,f){const d=e_(u,h,f);return u.inclusive?d>=0:d>0})(r.endAt,Kf(r),s))})(n,t)}function Ex(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function R4(n){return(t,e)=>{let r=!1;for(const s of Kf(n)){const o=Sx(s,t,e);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function Sx(n,t,e){const r=n.field.isKeyField()?Le.comparator(t.key,e.key):(function(o,u,h){const f=u.data.field(o),d=h.data.field(o);return f!==null&&d!==null?Ph(f,d):Fe(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[e]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){xc(this.inner,((e,r)=>{for(const[s,o]of r)t(s,o)}))}isEmpty(){return f4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=new Pr(Le.comparator);function Hl(){return Tx}const I4=new Pr(Le.comparator);function qf(...n){let t=I4;for(const e of n)t=t.insert(e.key,e);return t}function L4(n){let t=I4;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function pc(){return Qf()}function D4(){return Qf()}function Qf(){return new Cc((n=>n.toString()),((n,t)=>n.isEqual(t)))}const Nx=new Pr(Le.comparator),xx=new xi(Le.comparator);function wn(...n){let t=xx;for(const e of n)t=t.add(e);return t}const Cx=new xi(bn);function Rx(){return Cx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:am(t)?"-0":t}}function k4(n){return{integerValue:""+n}}function Ix(n,t){return rx(t)?k4(t):e2(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this._=void 0}}function Lx(n,t,e){return n instanceof od?(function(s,o){const u={fields:{[m4]:{stringValue:p4},[y4]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&X0(o)&&(o=km(o)),o&&(u.fields[g4]=o),{mapValue:u}})(e,t):n instanceof ld?P4(n,t):n instanceof ud?M4(n,t):(function(s,o){const u=O4(s,o),h=a_(u)+a_(s.Ae);return l0(u)&&l0(s.Ae)?k4(h):e2(s.serializer,h)})(n,t)}function Dx(n,t,e){return n instanceof ld?P4(n,t):n instanceof ud?M4(n,t):e}function O4(n,t){return n instanceof um?(function(r){return l0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(t)?t:{integerValue:0}:null}class od extends Um{}class ld extends Um{constructor(t){super(),this.elements=t}}function P4(n,t){const e=U4(t);for(const r of n.elements)e.some((s=>rl(s,r)))||e.push(r);return{arrayValue:{values:e}}}class ud extends Um{constructor(t){super(),this.elements=t}}function M4(n,t){let e=U4(t);for(const r of n.elements)e=e.filter((s=>!rl(s,r)));return{arrayValue:{values:e}}}class um extends Um{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function a_(n){return Xr(n.integerValue||n.doubleValue)}function U4(n){return J0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t,e){this.field=t,this.transform=e}}function Ox(n,t){return n.field.isEqual(t.field)&&(function(r,s){return r instanceof ld&&s instanceof ld||r instanceof ud&&s instanceof ud?Oh(r.elements,s.elements,rl):r instanceof um&&s instanceof um?rl(r.Ae,s.Ae):r instanceof od&&s instanceof od})(n.transform,t.transform)}class Px{constructor(t,e){this.version=t,this.transformResults=e}}class $o{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new $o}static exists(t){return new $o(void 0,t)}static updateTime(t){return new $o(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zp(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Vm{}function V4(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new n2(n.key,$o.none()):new _d(n.key,n.data,$o.none());{const e=n.data,r=Fs.empty();let s=new xi(sa.comparator);for(let o of t.fields)if(!s.has(o)){let u=e.field(o);u===null&&o.length>1&&(o=o.popLast(),u=e.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new Rc(n.key,r,new ho(s.toArray()),$o.none())}}function Mx(n,t,e){n instanceof _d?(function(s,o,u){const h=s.value.clone(),f=o_(s.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Rc?(function(s,o,u){if(!zp(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=o_(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(B4(s)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,t,e):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function $f(n,t,e,r){return n instanceof _d?(function(o,u,h,f){if(!zp(o.precondition,u))return h;const d=o.value.clone(),v=l_(o.fieldTransforms,f,u);return d.setAll(v),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,t,e,r):n instanceof Rc?(function(o,u,h,f){if(!zp(o.precondition,u))return h;const d=l_(o.fieldTransforms,f,u),v=u.data;return v.setAll(B4(o)),v.setAll(d),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((A=>A.field)))})(n,t,e,r):(function(o,u,h){return zp(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,t,e)}function Ux(n,t){let e=null;for(const r of n.fieldTransforms){const s=t.data.field(r.field),o=O4(r.transform,s||null);o!=null&&(e===null&&(e=Fs.empty()),e.set(r.field,o))}return e||null}function s_(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Oh(r,s,((o,u)=>Ox(o,u)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class _d extends Vm{constructor(t,e,r,s=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Rc extends Vm{constructor(t,e,r,s,o=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function B4(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function o_(n,t,e){const r=new Map;Hn(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let s=0;s<e.length;s++){const o=n[s],u=o.transform,h=t.data.field(o.field);r.set(o.field,Dx(u,h,e[s]))}return r}function l_(n,t,e){const r=new Map;for(const s of n){const o=s.transform,u=e.data.field(s.field);r.set(s.field,Lx(o,u,t))}return r}class n2 extends Vm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vx extends Vm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(t,e,r,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&Mx(o,t,r[s])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=$f(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=$f(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=D4();return this.mutations.forEach((s=>{const o=t.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(s.key)?null:h;const f=V4(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument($e.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),wn())}isEqual(t){return this.batchId===t.batchId&&Oh(this.mutations,t.mutations,((e,r)=>s_(e,r)))&&Oh(this.baseMutations,t.baseMutations,((e,r)=>s_(e,r)))}}class r2{constructor(t,e,r,s){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=s}static from(t,e,r){Hn(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let s=(function(){return Nx})();const o=t.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new r2(t,e,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hi,Cn;function qx(n){switch(n){case Gt.OK:return Fe(64938);case Gt.CANCELLED:case Gt.UNKNOWN:case Gt.DEADLINE_EXCEEDED:case Gt.RESOURCE_EXHAUSTED:case Gt.INTERNAL:case Gt.UNAVAILABLE:case Gt.UNAUTHENTICATED:return!1;case Gt.INVALID_ARGUMENT:case Gt.NOT_FOUND:case Gt.ALREADY_EXISTS:case Gt.PERMISSION_DENIED:case Gt.FAILED_PRECONDITION:case Gt.ABORTED:case Gt.OUT_OF_RANGE:case Gt.UNIMPLEMENTED:case Gt.DATA_LOSS:return!0;default:return Fe(15467,{code:n})}}function j4(n){if(n===void 0)return zl("GRPC error has no .code"),Gt.UNKNOWN;switch(n){case hi.OK:return Gt.OK;case hi.CANCELLED:return Gt.CANCELLED;case hi.UNKNOWN:return Gt.UNKNOWN;case hi.DEADLINE_EXCEEDED:return Gt.DEADLINE_EXCEEDED;case hi.RESOURCE_EXHAUSTED:return Gt.RESOURCE_EXHAUSTED;case hi.INTERNAL:return Gt.INTERNAL;case hi.UNAVAILABLE:return Gt.UNAVAILABLE;case hi.UNAUTHENTICATED:return Gt.UNAUTHENTICATED;case hi.INVALID_ARGUMENT:return Gt.INVALID_ARGUMENT;case hi.NOT_FOUND:return Gt.NOT_FOUND;case hi.ALREADY_EXISTS:return Gt.ALREADY_EXISTS;case hi.PERMISSION_DENIED:return Gt.PERMISSION_DENIED;case hi.FAILED_PRECONDITION:return Gt.FAILED_PRECONDITION;case hi.ABORTED:return Gt.ABORTED;case hi.OUT_OF_RANGE:return Gt.OUT_OF_RANGE;case hi.UNIMPLEMENTED:return Gt.UNIMPLEMENTED;case hi.DATA_LOSS:return Gt.DATA_LOSS;default:return Fe(39323,{code:n})}}(Cn=hi||(hi={}))[Cn.OK=0]="OK",Cn[Cn.CANCELLED=1]="CANCELLED",Cn[Cn.UNKNOWN=2]="UNKNOWN",Cn[Cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cn[Cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cn[Cn.NOT_FOUND=5]="NOT_FOUND",Cn[Cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cn[Cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cn[Cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cn[Cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cn[Cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cn[Cn.ABORTED=10]="ABORTED",Cn[Cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cn[Cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cn[Cn.INTERNAL=13]="INTERNAL",Cn[Cn.UNAVAILABLE=14]="UNAVAILABLE",Cn[Cn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new Pu([4294967295,4294967295],0);function u_(n){const t=zx().encode(n),e=new e4;return e.update(t),new Uint8Array(e.digest())}function c_(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Pu([e,r],0),new Pu([s,o],0)]}class i2{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new zf(`Invalid padding: ${e}`);if(r<0)throw new zf(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new zf(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new zf(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Pu.fromNumber(this.ge)}ye(t,e,r){let s=t.add(e.multiply(Pu.fromNumber(r)));return s.compare(Hx)===1&&(s=new Pu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=u_(t),[r,s]=c_(e);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);if(!this.we(u))return!1}return!0}static create(t,e,r){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new i2(o,s,e);return r.forEach((h=>u.insert(h))),u}insert(t){if(this.ge===0)return;const e=u_(t),[r,s]=c_(e);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);this.Se(u)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class zf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,e,r,s,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const s=new Map;return s.set(t,bd.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Bm($e.min(),s,new Pr(bn),Hl(),wn())}}class bd{constructor(t,e,r,s,o){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new bd(r,e,wn(),wn(),wn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(t,e,r,s){this.be=t,this.removedTargetIds=e,this.key=r,this.De=s}}class F4{constructor(t,e){this.targetId=t,this.Ce=e}}class q4{constructor(t,e,r=oa.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=s}}class h_{constructor(){this.ve=0,this.Fe=f_(),this.Me=oa.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=wn(),e=wn(),r=wn();return this.Fe.forEach(((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:r=r.add(s);break;default:Fe(38017,{changeType:o})}})),new bd(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=f_()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Hn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Gx{constructor(t){this.Ge=t,this.ze=new Map,this.je=Hl(),this.Je=Tp(),this.He=Tp(),this.Ye=new Pr(bn)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:Fe(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,s)=>{this.rt(s)&&e(s)}))}st(t){const e=t.targetId,r=t.Ce.count,s=this.ot(e);if(s){const o=s.target;if(c0(o))if(r===0){const u=new Le(o.path);this.et(e,u,wa.newNoDocument(u,$e.min()))}else Hn(r===1,20013,{expectedCount:r});else{const u=this._t(e);if(u!==r){const h=this.ut(t),f=h?this.ct(h,t,u):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=e;let u,h;try{u=Bu(r).toUint8Array()}catch(f){if(f instanceof d4)return kh("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new i2(u,s,o)}catch(f){return kh(f instanceof zf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let s=0;return r.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),s++)})),s}Tt(t){const e=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&c0(h.target)){const f=new Le(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,wa.newNoDocument(f,t))}o.Be&&(e.set(u,o.ke()),o.qe())}}));let r=wn();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(t)));const s=new Bm(t,e,this.Ye,this.je,r);return this.je=Hl(),this.Je=Tp(),this.He=Tp(),this.Ye=new Pr(bn),s}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,e)?s.Qe(e,1):s.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new h_,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new xi(bn),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new xi(bn),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ce("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new h_),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Tp(){return new Pr(Le.comparator)}function f_(){return new Pr(Le.comparator)}const Yx={asc:"ASCENDING",desc:"DESCENDING"},Wx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kx={and:"AND",or:"OR"};class Qx{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function d0(n,t){return n.useProto3Json||Dm(t)?t:{value:t}}function cm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function z4(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function $x(n,t){return cm(n,t.toTimestamp())}function Xo(n){return Hn(!!n,49232),$e.fromTimestamp((function(e){const r=Vu(e);return new yr(r.seconds,r.nanos)})(n))}function a2(n,t){return p0(n,t).canonicalString()}function p0(n,t){const e=(function(s){return new hr(["projects",s.projectId,"databases",s.database])})(n).child("documents");return t===void 0?e:e.child(t)}function H4(n){const t=hr.fromString(n);return Hn(Q4(t),10190,{key:t.toString()}),t}function m0(n,t){return a2(n.databaseId,t.path)}function Ag(n,t){const e=H4(t);if(e.get(1)!==n.databaseId.projectId)throw new se(Gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new se(Gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Le(Y4(e))}function G4(n,t){return a2(n.databaseId,t)}function Xx(n){const t=H4(n);return t.length===4?hr.emptyPath():Y4(t)}function g0(n){return new hr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Y4(n){return Hn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function d_(n,t,e){return{name:m0(n,t),fields:e.value.mapValue.fields}}function Jx(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Fe(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=(function(d,v){return d.useProto3Json?(Hn(v===void 0||typeof v=="string",58123),oa.fromBase64String(v||"")):(Hn(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),oa.fromUint8Array(v||new Uint8Array))})(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&(function(d){const v=d.code===void 0?Gt.UNKNOWN:j4(d.code);return new se(v,d.message||"")})(u);e=new q4(r,s,o,h||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ag(n,r.document.name),o=Xo(r.document.updateTime),u=r.document.createTime?Xo(r.document.createTime):$e.min(),h=new Fs({mapValue:{fields:r.document.fields}}),f=wa.newFoundDocument(s,o,u,h),d=r.targetIds||[],v=r.removedTargetIds||[];e=new Hp(d,v,f.key,f)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Ag(n,r.document),o=r.readTime?Xo(r.readTime):$e.min(),u=wa.newNoDocument(s,o),h=r.removedTargetIds||[];e=new Hp([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Ag(n,r.document),o=r.removedTargetIds||[];e=new Hp([],o,s,null)}else{if(!("filter"in t))return Fe(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new Fx(s,o),h=r.targetId;e=new F4(h,u)}}return e}function Zx(n,t){let e;if(t instanceof _d)e={update:d_(n,t.key,t.value)};else if(t instanceof n2)e={delete:m0(n,t.key)};else if(t instanceof Rc)e={update:d_(n,t.key,t.data),updateMask:l8(t.fieldMask)};else{if(!(t instanceof Vx))return Fe(16599,{Vt:t.type});e={verify:m0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(o,u){const h=u.transform;if(h instanceof od)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ld)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ud)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof um)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Fe(20930,{transform:u.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:$x(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Fe(27497)})(n,t.precondition)),e}function t8(n,t){return n&&n.length>0?(Hn(t!==void 0,14353),n.map((e=>(function(s,o){let u=s.updateTime?Xo(s.updateTime):Xo(o);return u.isEqual($e.min())&&(u=Xo(o)),new Px(u,s.transformResults||[])})(e,t)))):[]}function e8(n,t){return{documents:[G4(n,t.path)]}}function n8(n,t){const e={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=G4(n,s);const o=(function(d){if(d.length!==0)return K4(mo.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((v=>(function(T){return{field:vh(T.field),direction:a8(T.dir)}})(v)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=d0(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:s}}function r8(n){let t=Xx(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let s=null;if(r>0){Hn(r===1,65062);const v=e.from[0];v.allDescendants?s=v.collectionId:t=t.child(v.collectionId)}let o=[];e.where&&(o=(function(A){const T=W4(A);return T instanceof mo&&E4(T)?T.getFilters():[T]})(e.where));let u=[];e.orderBy&&(u=(function(A){return A.map((T=>(function(M){return new sd(_h(M.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(T)))})(e.orderBy));let h=null;e.limit&&(h=(function(A){let T;return T=typeof A=="object"?A.value:A,Dm(T)?null:T})(e.limit));let f=null;e.startAt&&(f=(function(A){const T=!!A.before,b=A.values||[];return new lm(b,T)})(e.startAt));let d=null;return e.endAt&&(d=(function(A){const T=!A.before,b=A.values||[];return new lm(b,T)})(e.endAt)),wx(t,s,u,o,h,"F",f,d)}function i8(n,t){const e=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:s})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function W4(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=_h(e.unaryFilter.field);return fi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=_h(e.unaryFilter.field);return fi.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=_h(e.unaryFilter.field);return fi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=_h(e.unaryFilter.field);return fi.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(n):n.fieldFilter!==void 0?(function(e){return fi.create(_h(e.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return mo.create(e.compositeFilter.filters.map((r=>W4(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(e.compositeFilter.op))})(n):Fe(30097,{filter:n})}function a8(n){return Yx[n]}function s8(n){return Wx[n]}function o8(n){return Kx[n]}function vh(n){return{fieldPath:n.canonicalString()}}function _h(n){return sa.fromServerFormat(n.fieldPath)}function K4(n){return n instanceof fi?(function(e){if(e.op==="=="){if(t_(e.value))return{unaryFilter:{field:vh(e.field),op:"IS_NAN"}};if(Zv(e.value))return{unaryFilter:{field:vh(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(t_(e.value))return{unaryFilter:{field:vh(e.field),op:"IS_NOT_NAN"}};if(Zv(e.value))return{unaryFilter:{field:vh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vh(e.field),op:s8(e.op),value:e.value}}})(n):n instanceof mo?(function(e){const r=e.getFilters().map((s=>K4(s)));return r.length===1?r[0]:{compositeFilter:{op:o8(e.op),filters:r}}})(n):Fe(54877,{filter:n})}function l8(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Q4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(t,e,r,s,o=$e.min(),u=$e.min(),h=oa.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new Iu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(t){this.yt=t}}function c8(n){const t=r8({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?f0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(){this.Cn=new f8}addToCollectionParentIndex(t,e){return this.Cn.add(e),Qt.resolve()}getCollectionParents(t,e){return Qt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Qt.resolve()}deleteFieldIndex(t,e){return Qt.resolve()}deleteAllFieldIndexes(t){return Qt.resolve()}createTargetIndexes(t,e){return Qt.resolve()}getDocumentsMatchingTarget(t,e){return Qt.resolve(null)}getIndexType(t,e){return Qt.resolve(0)}getFieldIndexes(t,e){return Qt.resolve([])}getNextCollectionGroupToUpdate(t){return Qt.resolve(null)}getMinOffset(t,e){return Qt.resolve(Uu.min())}getMinOffsetFromCollectionGroup(t,e){return Qt.resolve(Uu.min())}updateCollectionGroup(t,e,r){return Qt.resolve()}updateIndexEntries(t,e){return Qt.resolve()}}class f8{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),s=this.index[e]||new xi(hr.comparator),o=!s.has(r);return this.index[e]=s.add(r),o}has(t){const e=t.lastSegment(),r=t.popLast(),s=this.index[e];return s&&s.has(r)}getEntries(t){return(this.index[t]||new xi(hr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$4=41943040;class is{static withCacheSize(t){return new is(t,is.DEFAULT_COLLECTION_PERCENTILE,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */is.DEFAULT_COLLECTION_PERCENTILE=10,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,is.DEFAULT=new is($4,is.DEFAULT_COLLECTION_PERCENTILE,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),is.DISABLED=new is(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Uh(0)}static cr(){return new Uh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="LruGarbageCollector",d8=1048576;function g_([n,t],[e,r]){const s=bn(n,e);return s===0?bn(t,r):s}class p8{constructor(t){this.Ir=t,this.buffer=new xi(g_),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();g_(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class m8{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ce(m_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Wh(e)?ce(m_,"Ignoring IndexedDB error during garbage collection: ",e):await Yh(e)}await this.Vr(3e5)}))}}class g8{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return Qt.resolve(Lm.ce);const r=new p8(e);return this.mr.forEachTarget(t,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(t,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Qt.resolve(p_)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p_):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,s,o,u,h,f,d;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),s=this.params.maximumSequenceNumbersToCollect):s=A,u=Date.now(),this.nthSequenceNumber(t,s)))).next((A=>(r=A,h=Date.now(),this.removeTargets(t,r,e)))).next((A=>(o=A,f=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(d=Date.now(),gh()<=_n.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${A} documents in `+(d-f)+`ms
Total Duration: ${d-v}ms`),Qt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:A}))))}}function y8(n,t){return new g8(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(){this.changes=new Cc((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,wa.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?Qt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(t,e,r,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((s=>(r=s,this.remoteDocumentCache.getEntry(t,e)))).next((s=>(r!==null&&$f(r.mutation,s,ho.empty(),yr.now()),s)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,wn()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=wn()){const s=pc();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,r).next((o=>{let u=qf();return o.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const r=pc();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,wn())))}populateOverlays(t,e,r){const s=[];return r.forEach((o=>{e.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(t,s).next((o=>{o.forEach(((u,h)=>{e.set(u,h)}))}))}computeViews(t,e,r,s){let o=Hl();const u=Qf(),h=(function(){return Qf()})();return e.forEach(((f,d)=>{const v=r.get(d.key);s.has(d.key)&&(v===void 0||v.mutation instanceof Rc)?o=o.insert(d.key,d):v!==void 0?(u.set(d.key,v.mutation.getFieldMask()),$f(v.mutation,d,v.mutation.getFieldMask(),yr.now())):u.set(d.key,ho.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,v)=>u.set(d,v))),e.forEach(((d,v)=>h.set(d,new _8(v,u.get(d)??null)))),h)))}recalculateAndSaveOverlays(t,e){const r=Qf();let s=new Pr(((u,h)=>u-h)),o=wn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const h of u)h.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let v=r.get(f)||ho.empty();v=h.applyToLocalView(d,v),r.set(f,v);const A=(s.get(h.batchId)||wn()).add(f);s=s.insert(h.batchId,A)}))})).next((()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,v=f.value,A=D4();v.forEach((T=>{if(!o.has(T)){const b=V4(e.get(T),r.get(T));b!==null&&A.set(T,b),o=o.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(t,d,A))}return Qt.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,s){return(function(u){return Le.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):x4(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,s):this.getDocumentsMatchingCollectionQuery(t,e,r,s)}getNextDocuments(t,e,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,s-o.size):Qt.resolve(pc());let h=nd,f=o;return u.next((d=>Qt.forEach(d,((v,A)=>(h<A.largestBatchId&&(h=A.largestBatchId),o.get(v)?Qt.resolve():this.remoteDocumentCache.getEntry(t,v).next((T=>{f=f.insert(v,T)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,wn()))).next((v=>({batchId:h,changes:L4(v)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Le(e)).next((r=>{let s=qf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,s){const o=e.collectionGroup;let u=qf();return this.indexManager.getCollectionParents(t,o).next((h=>Qt.forEach(h,(f=>{const d=(function(A,T){return new Kh(T,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,r,s).next((v=>{v.forEach(((A,T)=>{u=u.insert(A,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,o,s)))).next((u=>{o.forEach(((f,d)=>{const v=d.getKey();u.get(v)===null&&(u=u.insert(v,wa.newInvalidDocument(v)))}));let h=qf();return u.forEach(((f,d)=>{const v=o.get(f);v!==void 0&&$f(v.mutation,d,ho.empty(),yr.now()),Mm(e,d)&&(h=h.insert(f,d))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return Qt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(s){return{id:s.id,version:s.version,createTime:Xo(s.createTime)}})(e)),Qt.resolve()}getNamedQuery(t,e){return Qt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(s){return{name:s.name,query:c8(s.bundledQuery),readTime:Xo(s.readTime)}})(e)),Qt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(){this.overlays=new Pr(Le.comparator),this.qr=new Map}getOverlay(t,e){return Qt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=pc();return Qt.forEach(e,(s=>this.getOverlay(t,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((s,o)=>{this.St(t,e,o)})),Qt.resolve()}removeOverlaysForBatchId(t,e,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Qt.resolve()}getOverlaysForCollection(t,e,r){const s=pc(),o=e.length+1,u=new Le(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Qt.resolve(s)}getOverlaysForCollectionGroup(t,e,r,s){let o=new Pr(((d,v)=>d-v));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>r){let v=o.get(d.largestBatchId);v===null&&(v=pc(),o=o.insert(d.largestBatchId,v)),v.set(d.getKey(),d)}}const h=pc(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,v)=>h.set(d,v))),!(h.size()>=s)););return Qt.resolve(h)}St(t,e,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new jx(e,r));let o=this.qr.get(e);o===void 0&&(o=wn(),this.qr.set(e,o)),this.qr.set(e,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(){this.sessionToken=oa.EMPTY_BYTE_STRING}getSessionToken(t){return Qt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Qt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.Qr=new xi(zi.$r),this.Ur=new xi(zi.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new zi(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new zi(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new Le(new hr([])),r=new zi(e,t),s=new zi(e,t+1),o=[];return this.Ur.forEachInRange([r,s],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Le(new hr([])),r=new zi(e,t),s=new zi(e,t+1);let o=wn();return this.Ur.forEachInRange([r,s],(u=>{o=o.add(u.key)})),o}containsKey(t){const e=new zi(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class zi{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Le.comparator(t.key,e.key)||bn(t.Yr,e.Yr)}static Kr(t,e){return bn(t.Yr,e.Yr)||Le.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new xi(zi.$r)}checkEmpty(t){return Qt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Bx(o,e,r,s);this.mutationQueue.push(u);for(const h of s)this.Zr=this.Zr.add(new zi(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return Qt.resolve(u)}lookupMutationBatch(t,e){return Qt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,s=this.ei(r),o=s<0?0:s;return Qt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Qt.resolve(this.mutationQueue.length===0?$0:this.tr-1)}getAllMutationBatches(t){return Qt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new zi(e,0),s=new zi(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],(u=>{const h=this.Xr(u.Yr);o.push(h)})),Qt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new xi(bn);return e.forEach((s=>{const o=new zi(s,0),u=new zi(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{r=r.add(h.Yr)}))})),Qt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,s=r.length+1;let o=r;Le.isDocumentKey(o)||(o=o.child(""));const u=new zi(new Le(o),0);let h=new xi(bn);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(h=h.add(f.Yr)),!0)}),u),Qt.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((r=>{const s=this.Xr(r);s!==null&&e.push(s)})),e}removeMutationBatch(t,e){Hn(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Qt.forEach(e.mutations,(s=>{const o=new zi(s.key,e.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new zi(e,0),s=this.Zr.firstAfterOrEqual(r);return Qt.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,Qt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(t){this.ri=t,this.docs=(function(){return new Pr(Le.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,s=this.docs.get(r),o=s?s.size:0,u=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return Qt.resolve(r?r.document.mutableCopy():wa.newInvalidDocument(e))}getEntries(t,e){let r=Hl();return e.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():wa.newInvalidDocument(s))})),Qt.resolve(r)}getDocumentsMatchingQuery(t,e,r,s){let o=Hl();const u=e.path,h=new Le(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:v}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||ZN(JN(v),r)<=0||(s.has(v.key)||Mm(e,v))&&(o=o.insert(v.key,v.mutableCopy()))}return Qt.resolve(o)}getAllFromCollectionGroup(t,e,r,s){Fe(9500)}ii(t,e){return Qt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new N8(this)}getSize(t){return Qt.resolve(this.size)}}class N8 extends v8{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?e.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(r)})),Qt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(t){this.persistence=t,this.si=new Cc((e=>Z0(e)),t2),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.oi=0,this._i=new s2,this.targetCount=0,this.ai=Uh.ur()}forEachTarget(t,e){return this.si.forEach(((r,s)=>e(s))),Qt.resolve()}getLastRemoteSnapshotVersion(t){return Qt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Qt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Qt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),Qt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Uh(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,Qt.resolve()}updateTargetData(t,e){return this.Pr(e),Qt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,Qt.resolve()}removeTargets(t,e,r){let s=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=e&&r.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),s++)})),Qt.waitFor(o).next((()=>s))}getTargetCount(t){return Qt.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return Qt.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),Qt.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const s=this.persistence.referenceDelegate,o=[];return s&&e.forEach((u=>{o.push(s.markPotentiallyOrphaned(t,u))})),Qt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),Qt.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return Qt.resolve(r)}containsKey(t,e){return Qt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(t,e){this.ui={},this.overlays={},this.ci=new Lm(0),this.li=!1,this.li=!0,this.hi=new E8,this.referenceDelegate=t(this),this.Pi=new x8(this),this.indexManager=new h8,this.remoteDocumentCache=(function(s){return new T8(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new u8(e),this.Ii=new w8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new A8,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new S8(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){ce("MemoryPersistence","Starting transaction:",t);const s=new C8(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(t,e){return Qt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class C8 extends ex{constructor(t){super(),this.currentSequenceNumber=t}}class o2{constructor(t){this.persistence=t,this.Ri=new s2,this.Vi=null}static mi(t){return new o2(t)}get fi(){if(this.Vi)return this.Vi;throw Fe(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),Qt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),Qt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),Qt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qt.forEach(this.fi,(r=>{const s=Le.fromPath(r);return this.gi(t,s).next((o=>{o||e.removeEntry(s,$e.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return Qt.or([()=>Qt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class hm{constructor(t,e){this.persistence=t,this.pi=new Cc((r=>ix(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=y8(this,e)}static mi(t,e){return new hm(t,e)}Ei(){}di(t){return Qt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((s=>r+s))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return Qt.forEach(this.pi,((r,s)=>this.br(t,r,s).next((o=>o?Qt.resolve():e(s)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(t,(u=>this.br(t,u,e).next((h=>{h||(r++,o.removeEntry(u,$e.min()))})))).next((()=>o.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),Qt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),Qt.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),Qt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),Qt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Fp(t.data.value)),e}br(t,e,r){return Qt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.pi.get(e);return Qt.resolve(s!==void 0&&s>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t,e,r,s){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=s}static As(t,e){let r=wn(),s=wn();for(const o of e.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new l2(t,e.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bT()?8:nx(Aa())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,s){const o={result:null};return this.ys(t,e).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(t,e,s,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new R8;return this.Ss(t,e,u).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,u,h.size)}))})).next((()=>o.result))}bs(t,e,r,s){return r.documentReadCount<this.fs?(gh()<=_n.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",yh(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Qt.resolve()):(gh()<=_n.DEBUG&&ce("QueryEngine","Query:",yh(e),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(gh()<=_n.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",yh(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Qo(e))):Qt.resolve())}ys(t,e){if(i_(e))return Qt.resolve(null);let r=Qo(e);return this.indexManager.getIndexType(t,r).next((s=>s===0?null:(e.limit!==null&&s===1&&(e=f0(e,null,"F"),r=Qo(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((o=>{const u=wn(...o);return this.ps.getDocuments(t,u).next((h=>this.indexManager.getMinOffset(t,r).next((f=>{const d=this.Ds(e,h);return this.Cs(e,d,u,f.readTime)?this.ys(t,f0(e,null,"F")):this.vs(t,d,e,f)}))))})))))}ws(t,e,r,s){return i_(e)||s.isEqual($e.min())?Qt.resolve(null):this.ps.getDocuments(t,r).next((o=>{const u=this.Ds(e,o);return this.Cs(e,u,r,s)?Qt.resolve(null):(gh()<=_n.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),yh(e)),this.vs(t,u,e,XN(s,nd)).next((h=>h)))}))}Ds(t,e){let r=new xi(R4(t));return e.forEach(((s,o)=>{Mm(t,o)&&(r=r.add(o))})),r}Cs(t,e,r,s){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(t,e,r){return gh()<=_n.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",yh(e)),this.ps.getDocumentsMatchingQuery(t,e,Uu.min(),r)}vs(t,e,r,s){return this.ps.getDocumentsMatchingQuery(t,r,s).next((o=>(e.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="LocalStore",L8=3e8;class D8{constructor(t,e,r,s){this.persistence=t,this.Fs=e,this.serializer=s,this.Ms=new Pr(bn),this.xs=new Cc((o=>Z0(o)),t2),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new b8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function k8(n,t,e,r){return new D8(n,t,e,r)}async function J4(n,t){const e=en(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return e.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],h=[];let f=wn();for(const d of s){u.push(d.batchId);for(const v of d.mutations)f=f.add(v.key)}for(const d of o){h.push(d.batchId);for(const v of d.mutations)f=f.add(v.key)}return e.localDocuments.getDocuments(r,f).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:h})))}))}))}function O8(n,t){const e=en(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,v){const A=d.batch,T=A.keys();let b=Qt.resolve();return T.forEach((M=>{b=b.next((()=>v.getEntry(f,M))).next((j=>{const P=d.docVersions.get(M);Hn(P!==null,48541),j.version.compareTo(P)<0&&(A.applyToRemoteDocument(j,d),j.isValidDocument()&&(j.setReadTime(d.commitVersion),v.addEntry(j)))}))})),b.next((()=>h.mutationQueue.removeMutationBatch(f,A)))})(e,r,t,o).next((()=>o.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=wn();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(r,s)))}))}function Z4(n){const t=en(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function P8(n,t){const e=en(n),r=t.snapshotVersion;let s=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=e.Ns.newChangeBuffer({trackRemovals:!0});s=e.Ms;const h=[];t.targetChanges.forEach(((v,A)=>{const T=s.get(A);if(!T)return;h.push(e.Pi.removeMatchingKeys(o,v.removedDocuments,A).next((()=>e.Pi.addMatchingKeys(o,v.addedDocuments,A))));let b=T.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(A)!==null?b=b.withResumeToken(oa.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):v.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(v.resumeToken,r)),s=s.insert(A,b),(function(j,P,k){return j.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=L8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(T,b,v)&&h.push(e.Pi.updateTargetData(o,b))}));let f=Hl(),d=wn();if(t.documentUpdates.forEach((v=>{t.resolvedLimboDocuments.has(v)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(M8(o,u,t.documentUpdates).next((v=>{f=v.ks,d=v.qs}))),!r.isEqual($e.min())){const v=e.Pi.getLastRemoteSnapshotVersion(o).next((A=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(v)}return Qt.waitFor(h).next((()=>u.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.Ms=s,o)))}function M8(n,t,e){let r=wn(),s=wn();return e.forEach((o=>r=r.add(o))),t.getEntries(n,r).next((o=>{let u=Hl();return e.forEach(((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual($e.min())?(t.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),u=u.insert(h,f)):ce(u2,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{ks:u,qs:s}}))}function U8(n,t){const e=en(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=$0),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function V8(n,t){const e=en(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return e.Pi.getTargetData(r,t).next((o=>o?(s=o,Qt.resolve(s)):e.Pi.allocateTargetId(r).next((u=>(s=new Iu(t,u,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=e.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function y0(n,t,e){const r=en(n),s=r.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Wh(u))throw u;ce(u2,`Failed to update sequence numbers for target ${t}: ${u}`)}r.Ms=r.Ms.remove(t),r.xs.delete(s.target)}function y_(n,t,e){const r=en(n);let s=$e.min(),o=wn();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,v){const A=en(f),T=A.xs.get(v);return T!==void 0?Qt.resolve(A.Ms.get(T)):A.Pi.getTargetData(d,v)})(r,u,Qo(t)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,t,e?s:$e.min(),e?o:wn()))).next((h=>(B8(r,Ex(t),h),{documents:h,Qs:o})))))}function B8(n,t,e){let r=n.Os.get(t)||$e.min();e.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(t,r)}class v_{constructor(){this.activeTargetIds=Rx()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class j8{constructor(){this.Mo=new v_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new v_,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="ConnectivityMonitor";class b_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(__,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ce(__,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Np=null;function v0(){return Np===null?Np=(function(){return 268435456+Math.round(2147483648*Math.random())})():Np++,"0x"+Np.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="RestConnection",q8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z8{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===sm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(t,e,r,s,o){const u=v0(),h=this.zo(t,e.toUriEncodedString());ce(Eg,`Sending RPC '${t}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,o);const{host:d}=new URL(h),v=zh(d);return this.Jo(t,h,f,r,v).then((A=>(ce(Eg,`Received RPC '${t}' ${u}: `,A),A)),(A=>{throw kh(Eg,`RPC '${t}' ${u} failed with error: `,A,"url: ",h,"request:",r),A}))}Ho(t,e,r,s,o,u){return this.Go(t,e,r,s,o)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gh})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((s,o)=>t[o]=s)),r&&r.headers.forEach(((s,o)=>t[o]=s))}zo(t,e){const r=q8[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="WebChannelConnection";class G8 extends z8{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,s,o){const u=v0();return new Promise(((h,f)=>{const d=new n4;d.setWithCredentials(!0),d.listenOnce(r4.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case jp.NO_ERROR:const A=d.getResponseJson();ce(ma,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(A)),h(A);break;case jp.TIMEOUT:ce(ma,`RPC '${t}' ${u} timed out`),f(new se(Gt.DEADLINE_EXCEEDED,"Request time out"));break;case jp.HTTP_ERROR:const T=d.getStatus();if(ce(ma,`RPC '${t}' ${u} failed with status:`,T,"response text:",d.getResponseText()),T>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const M=b?.error;if(M&&M.status&&M.message){const j=(function(k){const $=k.toLowerCase().replace(/_/g,"-");return Object.values(Gt).indexOf($)>=0?$:Gt.UNKNOWN})(M.status);f(new se(j,M.message))}else f(new se(Gt.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new se(Gt.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{l_:t,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ce(ma,`RPC '${t}' ${u} completed.`)}}));const v=JSON.stringify(s);ce(ma,`RPC '${t}' ${u} sending request:`,s),d.send(e,"POST",v,r,15)}))}T_(t,e,r){const s=v0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=s4(),h=a4(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,r),f.encodeInitMessageHeaders=!0;const v=o.join("");ce(ma,`Creating RPC '${t}' stream ${s}: ${v}`,f);const A=u.createWebChannel(v,f);this.I_(A);let T=!1,b=!1;const M=new H8({Yo:P=>{b?ce(ma,`Not sending because RPC '${t}' stream ${s} is closed:`,P):(T||(ce(ma,`Opening RPC '${t}' stream ${s} transport.`),A.open(),T=!0),ce(ma,`RPC '${t}' stream ${s} sending:`,P),A.send(P))},Zo:()=>A.close()}),j=(P,k,$)=>{P.listen(k,(nt=>{try{$(nt)}catch(rt){setTimeout((()=>{throw rt}),0)}}))};return j(A,Ff.EventType.OPEN,(()=>{b||(ce(ma,`RPC '${t}' stream ${s} transport opened.`),M.o_())})),j(A,Ff.EventType.CLOSE,(()=>{b||(b=!0,ce(ma,`RPC '${t}' stream ${s} transport closed`),M.a_(),this.E_(A))})),j(A,Ff.EventType.ERROR,(P=>{b||(b=!0,kh(ma,`RPC '${t}' stream ${s} transport errored. Name:`,P.name,"Message:",P.message),M.a_(new se(Gt.UNAVAILABLE,"The operation could not be completed")))})),j(A,Ff.EventType.MESSAGE,(P=>{if(!b){const k=P.data[0];Hn(!!k,16349);const $=k,nt=$?.error||$[0]?.error;if(nt){ce(ma,`RPC '${t}' stream ${s} received error:`,nt);const rt=nt.status;let vt=(function(U){const I=hi[U];if(I!==void 0)return j4(I)})(rt),Dt=nt.message;vt===void 0&&(vt=Gt.INTERNAL,Dt="Unknown error status: "+rt+" with message "+nt.message),b=!0,M.a_(new se(vt,Dt)),A.close()}else ce(ma,`RPC '${t}' stream ${s} received:`,k),M.u_(k)}})),j(h,i4.STAT_EVENT,(P=>{P.stat===a0.PROXY?ce(ma,`RPC '${t}' stream ${s} detected buffering proxy`):P.stat===a0.NOPROXY&&ce(ma,`RPC '${t}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(n){return new Qx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(t,e,r=1e3,s=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,e-r);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="PersistentStream";class e3{constructor(t,e,r,s,o,u,h,f){this.Mi=t,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new t3(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Gt.RESOURCE_EXHAUSTED?(zl(e.toString()),zl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Gt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===e&&this.G_(r,s)}),(r=>{t((()=>{const s=new se(Gt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ce(w_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(ce(w_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Y8 extends e3{constructor(t,e,r,s,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,s,u),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=Jx(this.serializer,t),r=(function(o){if(!("targetChange"in o))return $e.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?Xo(u.readTime):$e.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=g0(this.serializer),e.addTarget=(function(o,u){let h;const f=u.target;if(h=c0(f)?{documents:e8(o,f)}:{query:n8(o,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=z4(o,u.resumeToken);const d=d0(o,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo($e.min())>0){h.readTime=cm(o,u.snapshotVersion.toTimestamp());const d=d0(o,u.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,t);const r=i8(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=g0(this.serializer),e.removeTarget=t,this.q_(e)}}class W8 extends e3{constructor(t,e,r,s,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,s,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Hn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Hn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Hn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=t8(t.writeResults,t.commitTime),r=Xo(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=g0(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>Zx(this.serializer,r)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{}class Q8 extends K8{constructor(t,e,r,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new se(Gt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(t,p0(e,r),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(Gt.UNKNOWN,o.toString())}))}Ho(t,e,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(t,p0(e,r),s,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new se(Gt.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $8{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zl(e),this.aa=!1):ce("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac="RemoteStore";class X8{constructor(t,e,r,s,o){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Ic(this)&&(ce(Ac,"Restarting streams for network reachability change."),await(async function(f){const d=en(f);d.Ea.add(4),await wd(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Fm(d)})(this))}))})),this.Ra=new $8(r,s)}}async function Fm(n){if(Ic(n))for(const t of n.da)await t(!0)}async function wd(n){for(const t of n.da)await t(!1)}function n3(n,t){const e=en(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),d2(e)?f2(e):Qh(e).O_()&&h2(e,t))}function c2(n,t){const e=en(n),r=Qh(e);e.Ia.delete(t),r.O_()&&r3(e,t),e.Ia.size===0&&(r.O_()?r.L_():Ic(e)&&e.Ra.set("Unknown"))}function h2(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($e.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Qh(n).Y_(t)}function r3(n,t){n.Va.Ue(t),Qh(n).Z_(t)}function f2(n){n.Va=new Gx({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Qh(n).start(),n.Ra.ua()}function d2(n){return Ic(n)&&!Qh(n).x_()&&n.Ia.size>0}function Ic(n){return en(n).Ea.size===0}function i3(n){n.Va=void 0}async function J8(n){n.Ra.set("Online")}async function Z8(n){n.Ia.forEach(((t,e)=>{h2(n,t)}))}async function tC(n,t){i3(n),d2(n)?(n.Ra.ha(t),f2(n)):n.Ra.set("Unknown")}async function eC(n,t,e){if(n.Ra.set("Online"),t instanceof q4&&t.state===2&&t.cause)try{await(async function(s,o){const u=o.cause;for(const h of o.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ia.delete(h),s.Va.removeTarget(h))})(n,t)}catch(r){ce(Ac,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await fm(n,r)}else if(t instanceof Hp?n.Va.Ze(t):t instanceof F4?n.Va.st(t):n.Va.tt(t),!e.isEqual($e.min()))try{const r=await Z4(n.localStore);e.compareTo(r)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const v=o.Ia.get(d);v&&o.Ia.set(d,v.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,d)=>{const v=o.Ia.get(f);if(!v)return;o.Ia.set(f,v.withResumeToken(oa.EMPTY_BYTE_STRING,v.snapshotVersion)),r3(o,f);const A=new Iu(v.target,f,d,v.sequenceNumber);h2(o,A)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(r){ce(Ac,"Failed to raise snapshot:",r),await fm(n,r)}}async function fm(n,t,e){if(!Wh(t))throw t;n.Ea.add(1),await wd(n),n.Ra.set("Offline"),e||(e=()=>Z4(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ce(Ac,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Fm(n)}))}function a3(n,t){return t().catch((e=>fm(n,e,t)))}async function qm(n){const t=en(n),e=Fu(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:$0;for(;nC(t);)try{const s=await U8(t.localStore,r);if(s===null){t.Ta.length===0&&e.L_();break}r=s.batchId,rC(t,s)}catch(s){await fm(t,s)}s3(t)&&o3(t)}function nC(n){return Ic(n)&&n.Ta.length<10}function rC(n,t){n.Ta.push(t);const e=Fu(n);e.O_()&&e.X_&&e.ea(t.mutations)}function s3(n){return Ic(n)&&!Fu(n).x_()&&n.Ta.length>0}function o3(n){Fu(n).start()}async function iC(n){Fu(n).ra()}async function aC(n){const t=Fu(n);for(const e of n.Ta)t.ea(e.mutations)}async function sC(n,t,e){const r=n.Ta.shift(),s=r2.from(r,t,e);await a3(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await qm(n)}async function oC(n,t){t&&Fu(n).X_&&await(async function(r,s){if((function(u){return qx(u)&&u!==Gt.ABORTED})(s.code)){const o=r.Ta.shift();Fu(r).B_(),await a3(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await qm(r)}})(n,t),s3(n)&&o3(n)}async function A_(n,t){const e=en(n);e.asyncQueue.verifyOperationInProgress(),ce(Ac,"RemoteStore received new credentials");const r=Ic(e);e.Ea.add(3),await wd(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Fm(e)}async function lC(n,t){const e=en(n);t?(e.Ea.delete(2),await Fm(e)):t||(e.Ea.add(2),await wd(e),e.Ra.set("Unknown"))}function Qh(n){return n.ma||(n.ma=(function(e,r,s){const o=en(e);return o.sa(),new Y8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:J8.bind(null,n),t_:Z8.bind(null,n),r_:tC.bind(null,n),H_:eC.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),d2(n)?f2(n):n.Ra.set("Unknown")):(await n.ma.stop(),i3(n))}))),n.ma}function Fu(n){return n.fa||(n.fa=(function(e,r,s){const o=en(e);return o.sa(),new W8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:iC.bind(null,n),r_:oC.bind(null,n),ta:aC.bind(null,n),na:sC.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await qm(n)):(await n.fa.stop(),n.Ta.length>0&&(ce(Ac,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t,e,r,s,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new jl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,s,o){const u=Date.now()+r,h=new p2(t,e,u,s,o);return h.start(r),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(Gt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function m2(n,t){if(zl("AsyncQueue",`${t}: ${n}`),Wh(n))return new se(Gt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{static emptySet(t){return new Sh(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||Le.comparator(e.key,r.key):(e,r)=>Le.comparator(e.key,r.key),this.keyedMap=qf(),this.sortedSet=new Pr(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Sh)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Sh;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.ga=new Pr(Le.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Fe(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Vh{constructor(t,e,r,s,o,u,h,f,d){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,r,s,o){const u=[];return e.forEach((h=>{u.push({type:0,doc:h})})),new Vh(t,e,Sh.emptySet(e),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Pm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==r[s].type||!e[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class cC{constructor(){this.queries=S_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const s=en(e),o=s.queries;s.queries=S_(),o.forEach(((u,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new se(Gt.ABORTED,"Firestore shutting down"))}}function S_(){return new Cc((n=>C4(n)),Pm)}async function g2(n,t){const e=en(n);let r=3;const s=t.query;let o=e.queries.get(s);o?!o.ba()&&t.Da()&&(r=2):(o=new uC,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await e.onListen(s,!0);break;case 1:o.wa=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(u){const h=m2(u,`Initialization of query '${yh(t.query)}' failed`);return void t.onError(h)}e.queries.set(s,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&v2(e)}async function y2(n,t){const e=en(n),r=t.query;let s=3;const o=e.queries.get(r);if(o){const u=o.Sa.indexOf(t);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=t.Da()?0:1:!o.ba()&&t.Da()&&(s=2))}switch(s){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function hC(n,t){const e=en(n);let r=!1;for(const s of t){const o=s.query,u=e.queries.get(o);if(u){for(const h of u.Sa)h.Fa(s)&&(r=!0);u.wa=s}}r&&v2(e)}function fC(n,t,e){const r=en(n),s=r.queries.get(t);if(s)for(const o of s.Sa)o.onError(e);r.queries.delete(t)}function v2(n){n.Ca.forEach((t=>{t.next()}))}var _0,T_;(T_=_0||(_0={})).Ma="default",T_.Cache="cache";class _2{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new Vh(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Vh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==_0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(t){this.key=t}}class u3{constructor(t){this.key=t}}class dC{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=wn(),this.mutatedKeys=wn(),this.eu=R4(t),this.tu=new Sh(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new E_,s=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((v,A)=>{const T=s.get(v),b=Mm(this.query,A)?A:null,M=!!T&&this.mutatedKeys.has(T.key),j=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let P=!1;T&&b?T.data.isEqual(b.data)?M!==j&&(r.track({type:3,doc:b}),P=!0):this.su(T,b)||(r.track({type:2,doc:b}),P=!0,(f&&this.eu(b,f)>0||d&&this.eu(b,d)<0)&&(h=!0)):!T&&b?(r.track({type:0,doc:b}),P=!0):T&&!b&&(r.track({type:1,doc:T}),P=!0,(f||d)&&(h=!0)),P&&(b?(u=u.add(b),o=j?o.add(v):o.delete(v)):(u=u.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,s){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((v,A)=>(function(b,M){const j=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Rt:P})}};return j(b)-j(M)})(v.type,A.type)||this.eu(v.doc,A.doc))),this.ou(r),s=s??!1;const h=e&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,d=f!==this.Za;return this.Za=f,u.length!==0||d?{snapshot:new Vh(this.query,t.tu,o,u,t.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=wn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new u3(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new l3(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=wn();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Vh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const b2="SyncEngine";class pC{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class mC{constructor(t){this.key=t,this.hu=!1}}class gC{constructor(t,e,r,s,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Cc((h=>C4(h)),Pm),this.Iu=new Map,this.Eu=new Set,this.du=new Pr(Le.comparator),this.Au=new Map,this.Ru=new s2,this.Vu={},this.mu=new Map,this.fu=Uh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yC(n,t,e=!0){const r=m3(n);let s;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await c3(r,t,e,!0),s}async function vC(n,t){const e=m3(n);await c3(e,t,!0,!1)}async function c3(n,t,e,r){const s=await V8(n.localStore,Qo(t)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,e);let h;return r&&(h=await _C(n,t,o,u==="current",s.resumeToken)),n.isPrimaryClient&&e&&n3(n.remoteStore,s),h}async function _C(n,t,e,r,s){n.pu=(A,T,b)=>(async function(j,P,k,$){let nt=P.view.ru(k);nt.Cs&&(nt=await y_(j.localStore,P.query,!1).then((({documents:G})=>P.view.ru(G,nt))));const rt=$&&$.targetChanges.get(P.targetId),vt=$&&$.targetMismatches.get(P.targetId)!=null,Dt=P.view.applyChanges(nt,j.isPrimaryClient,rt,vt);return x_(j,P.targetId,Dt.au),Dt.snapshot})(n,A,T,b);const o=await y_(n.localStore,t,!0),u=new dC(t,o.Qs),h=u.ru(o.documents),f=bd.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",s),d=u.applyChanges(h,n.isPrimaryClient,f);x_(n,e,d.au);const v=new pC(t,e,u);return n.Tu.set(t,v),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function bC(n,t,e){const r=en(n),s=r.Tu.get(t),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((u=>!Pm(u,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await y0(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),e&&c2(r.remoteStore,s.targetId),b0(r,s.targetId)})).catch(Yh)):(b0(r,s.targetId),await y0(r.localStore,s.targetId,!0))}async function wC(n,t){const e=en(n),r=e.Tu.get(t),s=e.Iu.get(r.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),c2(e.remoteStore,r.targetId))}async function AC(n,t,e){const r=RC(n);try{const s=await(function(u,h){const f=en(u),d=yr.now(),v=h.reduce(((b,M)=>b.add(M.key)),wn());let A,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let M=Hl(),j=wn();return f.Ns.getEntries(b,v).next((P=>{M=P,M.forEach(((k,$)=>{$.isValidDocument()||(j=j.add(k))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,M))).next((P=>{A=P;const k=[];for(const $ of h){const nt=Ux($,A.get($.key).overlayedDocument);nt!=null&&k.push(new Rc($.key,nt,b4(nt.value.mapValue),$o.exists(!0)))}return f.mutationQueue.addMutationBatch(b,d,k,h)})).next((P=>{T=P;const k=P.applyToLocalDocumentSet(A,j);return f.documentOverlayCache.saveOverlays(b,P.batchId,k)}))})).then((()=>({batchId:T.batchId,changes:L4(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),(function(u,h,f){let d=u.Vu[u.currentUser.toKey()];d||(d=new Pr(bn)),d=d.insert(h,f),u.Vu[u.currentUser.toKey()]=d})(r,s.batchId,e),await Ad(r,s.changes),await qm(r.remoteStore)}catch(s){const o=m2(s,"Failed to persist write");e.reject(o)}}async function h3(n,t){const e=en(n);try{const r=await P8(e.localStore,t);t.targetChanges.forEach(((s,o)=>{const u=e.Au.get(o);u&&(Hn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?Hn(u.hu,14607):s.removedDocuments.size>0&&(Hn(u.hu,42227),u.hu=!1))})),await Ad(e,r,t)}catch(r){await Yh(r)}}function N_(n,t,e){const r=en(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const s=[];r.Tu.forEach(((o,u)=>{const h=u.view.va(t);h.snapshot&&s.push(h.snapshot)})),(function(u,h){const f=en(u);f.onlineState=h;let d=!1;f.queries.forEach(((v,A)=>{for(const T of A.Sa)T.va(h)&&(d=!0)})),d&&v2(f)})(r.eventManager,t),s.length&&r.Pu.H_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function EC(n,t,e){const r=en(n);r.sharedClientState.updateQueryState(t,"rejected",e);const s=r.Au.get(t),o=s&&s.key;if(o){let u=new Pr(Le.comparator);u=u.insert(o,wa.newNoDocument(o,$e.min()));const h=wn().add(o),f=new Bm($e.min(),new Map,new Pr(bn),u,h);await h3(r,f),r.du=r.du.remove(o),r.Au.delete(t),w2(r)}else await y0(r.localStore,t,!1).then((()=>b0(r,t,e))).catch(Yh)}async function SC(n,t){const e=en(n),r=t.batch.batchId;try{const s=await O8(e.localStore,t);d3(e,r,null),f3(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Ad(e,s)}catch(s){await Yh(s)}}async function TC(n,t,e){const r=en(n);try{const s=await(function(u,h){const f=en(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let v;return f.mutationQueue.lookupMutationBatch(d,h).next((A=>(Hn(A!==null,37113),v=A.keys(),f.mutationQueue.removeMutationBatch(d,A)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,v,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,v))).next((()=>f.localDocuments.getDocuments(d,v)))}))})(r.localStore,t);d3(r,t,e),f3(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Ad(r,s)}catch(s){await Yh(s)}}function f3(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function d3(n,t,e){const r=en(n);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(t);o&&(e?o.reject(e):o.resolve(),s=s.remove(t)),r.Vu[r.currentUser.toKey()]=s}}function b0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||p3(n,r)}))}function p3(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(c2(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),w2(n))}function x_(n,t,e){for(const r of e)r instanceof l3?(n.Ru.addReference(r.key,t),NC(n,r)):r instanceof u3?(ce(b2,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||p3(n,r.key)):Fe(19791,{wu:r})}function NC(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(ce(b2,"New document in limbo: "+e),n.Eu.add(r),w2(n))}function w2(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Le(hr.fromString(t)),r=n.fu.next();n.Au.set(r,new mC(e)),n.du=n.du.insert(e,r),n3(n.remoteStore,new Iu(Qo(Om(e.path)),r,"TargetPurposeLimboResolution",Lm.ce))}}async function Ad(n,t,e){const r=en(n),s=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{u.push(r.pu(f,t,e).then((d=>{if((d||e)&&r.isPrimaryClient){const v=d?!d.fromCache:e?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(d){s.push(d);const v=l2.As(f.targetId,d);o.push(v)}})))})),await Promise.all(u),r.Pu.H_(s),await(async function(f,d){const v=en(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Qt.forEach(d,(T=>Qt.forEach(T.Es,(b=>v.persistence.referenceDelegate.addReference(A,T.targetId,b))).next((()=>Qt.forEach(T.ds,(b=>v.persistence.referenceDelegate.removeReference(A,T.targetId,b)))))))))}catch(A){if(!Wh(A))throw A;ce(u2,"Failed to update sequence numbers: "+A)}for(const A of d){const T=A.targetId;if(!A.fromCache){const b=v.Ms.get(T),M=b.snapshotVersion,j=b.withLastLimboFreeSnapshotVersion(M);v.Ms=v.Ms.insert(T,j)}}})(r.localStore,o))}async function xC(n,t){const e=en(n);if(!e.currentUser.isEqual(t)){ce(b2,"User change. New user:",t.toKey());const r=await J4(e.localStore,t);e.currentUser=t,(function(o,u){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new se(Gt.CANCELLED,u))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ad(e,r.Ls)}}function CC(n,t){const e=en(n),r=e.Au.get(t);if(r&&r.hu)return wn().add(r.key);{let s=wn();const o=e.Iu.get(t);if(!o)return s;for(const u of o){const h=e.Tu.get(u);s=s.unionWith(h.view.nu)}return s}}function m3(n){const t=en(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=h3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=CC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EC.bind(null,t),t.Pu.H_=hC.bind(null,t.eventManager),t.Pu.yu=fC.bind(null,t.eventManager),t}function RC(n){const t=en(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=SC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TC.bind(null,t),t}class dm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return k8(this.persistence,new I8,t.initialUser,this.serializer)}Cu(t){return new X4(o2.mi,this.serializer)}Du(t){return new j8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dm.provider={build:()=>new dm};class IC extends dm{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Hn(this.persistence.referenceDelegate instanceof hm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new m8(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?is.withCacheSize(this.cacheSizeBytes):is.DEFAULT;return new X4((r=>hm.mi(r,e)),this.serializer)}}class w0{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>N_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xC.bind(null,this.syncEngine),await lC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new cC})()}createDatastore(t){const e=jm(t.databaseInfo.databaseId),r=(function(o){return new G8(o)})(t.databaseInfo);return(function(o,u,h,f){return new Q8(o,u,h,f)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,s,o,u,h){return new X8(r,s,o,u,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>N_(this.syncEngine,e,0)),(function(){return b_.v()?new b_:new F8})())}createSyncEngine(t,e){return(function(s,o,u,h,f,d,v){const A=new gC(s,o,u,h,f,d);return v&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=en(e);ce(Ac,"RemoteStore shutting down."),r.Ea.add(5),await wd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}w0.provider={build:()=>new w0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):zl("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu="FirestoreClient";class LC{constructor(t,e,r,s,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=s,this.user=ba.UNAUTHENTICATED,this.clientId=Q0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{ce(qu,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ce(qu,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new jl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=m2(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Tg(n,t){n.asyncQueue.verifyOperationInProgress(),ce(qu,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await J4(t.localStore,s),r=s)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function C_(n,t){n.asyncQueue.verifyOperationInProgress();const e=await DC(n);ce(qu,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>A_(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>A_(t.remoteStore,s))),n._onlineComponents=t}async function DC(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(qu,"Using user provided OfflineComponentProvider");try{await Tg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(s){return s.name==="FirebaseError"?s.code===Gt.FAILED_PRECONDITION||s.code===Gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(e))throw e;kh("Error using user provided cache. Falling back to memory cache: "+e),await Tg(n,new dm)}}else ce(qu,"Using default OfflineComponentProvider"),await Tg(n,new IC(void 0));return n._offlineComponents}async function g3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(qu,"Using user provided OnlineComponentProvider"),await C_(n,n._uninitializedComponentsProvider._online)):(ce(qu,"Using default OnlineComponentProvider"),await C_(n,new w0))),n._onlineComponents}function kC(n){return g3(n).then((t=>t.syncEngine))}async function pm(n){const t=await g3(n),e=t.eventManager;return e.onListen=yC.bind(null,t.syncEngine),e.onUnlisten=bC.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=vC.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=wC.bind(null,t.syncEngine),e}function OC(n,t,e={}){const r=new jl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,f,d){const v=new A2({next:T=>{v.Nu(),u.enqueueAndForget((()=>y2(o,A)));const b=T.docs.has(h);!b&&T.fromCache?d.reject(new se(Gt.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&T.fromCache&&f&&f.source==="server"?d.reject(new se(Gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(T)},error:T=>d.reject(T)}),A=new _2(Om(h.path),v,{includeMetadataChanges:!0,qa:!0});return g2(o,A)})(await pm(n),n.asyncQueue,t,e,r))),r.promise}function PC(n,t,e={}){const r=new jl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,f,d){const v=new A2({next:T=>{v.Nu(),u.enqueueAndForget((()=>y2(o,A))),T.fromCache&&f.source==="server"?d.reject(new se(Gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(T)},error:T=>d.reject(T)}),A=new _2(h,v,{includeMetadataChanges:!0,qa:!0});return g2(o,A)})(await pm(n),n.asyncQueue,t,e,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="firestore.googleapis.com",I_=!0;class L_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new se(Gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=v3,this.ssl=I_}else this.host=t.host,this.ssl=t.ssl??I_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=$4;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<d8)throw new se(Gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$N("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y3(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new se(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new se(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new se(Gt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zm{constructor(t,e,r,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(Gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new se(Gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new jN;switch(r.type){case"firstParty":return new HN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(Gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=R_.get(e);r&&(ce("ComponentProvider","Removing Datastore"),R_.delete(e),r.terminate())})(this),Promise.resolve()}}function MC(n,t,e,r={}){n=po(n,zm);const s=zh(t),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;s&&(Ww(`https://${h}`),Kw("Firestore",!0)),o.host!==v3&&o.host!==h&&kh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:s,emulatorOptions:r};if(!_c(f,u)&&(n._setSettings(f),r.mockUserToken)){let d,v;if(typeof r.mockUserToken=="string")d=r.mockUserToken,v=ba.MOCK_USER;else{d=hT(r.mockUserToken,n._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new se(Gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new ba(A)}n._authCredentials=new FN(new l4(d,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Gu(this.firestore,t,this._query)}}class ei{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ei(this.firestore,t,this._key)}toJSON(){return{type:ei._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(vd(e,ei._jsonSchema))return new ei(t,r||null,new Le(hr.fromString(e.referencePath)))}}ei._jsonSchemaVersion="firestore/documentReference/1.0",ei._jsonSchema={type:di("string",ei._jsonSchemaVersion),referencePath:di("string")};class Mu extends Gu{constructor(t,e,r){super(t,e,Om(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ei(this.firestore,null,new Le(t))}withConverter(t){return new Mu(this.firestore,t,this._path)}}function UC(n,t,...e){if(n=As(n),u4("collection","path",t),n instanceof zm){const r=hr.fromString(t,...e);return Hv(r),new Mu(n,null,r)}{if(!(n instanceof ei||n instanceof Mu))throw new se(Gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hr.fromString(t,...e));return Hv(r),new Mu(n.firestore,null,r)}}function E2(n,t,...e){if(n=As(n),arguments.length===1&&(t=Q0.newId()),u4("doc","path",t),n instanceof zm){const r=hr.fromString(t,...e);return zv(r),new ei(n,null,new Le(r))}{if(!(n instanceof ei||n instanceof Mu))throw new se(Gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hr.fromString(t,...e));return zv(r),new ei(n.firestore,n instanceof Mu?n.converter:null,new Le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="AsyncQueue";class k_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new t3(this,"async_queue_retry"),this._c=()=>{const r=Sg();r&&ce(D_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=Sg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Sg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new jl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Wh(t))throw t;ce(D_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,zl("INTERNAL UNHANDLED ERROR: ",O_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const s=p2.createAndSchedule(this,t,e,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Fe(47125,{Pc:O_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function O_(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const s=e;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Ec extends zm{constructor(t,e,r,s){super(t,e,r,s),this.type="firestore",this._queue=new k_,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new k_(t),this._firestoreClient=void 0,await t}}}function VC(n,t){const e=typeof n=="object"?n:Jw(),r=typeof n=="string"?n:sm,s=W0(e,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=uT("firestore");o&&MC(s,...o)}return s}function Hm(n){if(n._terminated)throw new se(Gt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||BC(n),n._firestoreClient}function BC(n){const t=n._freezeSettings(),e=(function(s,o,u,h){return new ox(s,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,y3(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new LC(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qs(oa.fromBase64String(t))}catch(e){throw new se(Gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new qs(oa.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(vd(t,qs._jsonSchema))return qs.fromBase64String(t.bytes)}}qs._jsonSchemaVersion="firestore/bytes/1.0",qs._jsonSchema={type:di("string",qs._jsonSchemaVersion),bytes:di("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new se(Gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sa(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new se(Gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new se(Gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return bn(this._lat,t._lat)||bn(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jo._jsonSchemaVersion}}static fromJSON(t){if(vd(t,Jo._jsonSchema))return new Jo(t.latitude,t.longitude)}}Jo._jsonSchemaVersion="firestore/geoPoint/1.0",Jo._jsonSchema={type:di("string",Jo._jsonSchemaVersion),latitude:di("number"),longitude:di("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Zo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(vd(t,Zo._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Zo(t.vectorValues);throw new se(Gt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zo._jsonSchemaVersion="firestore/vectorValue/1.0",Zo._jsonSchema={type:di("string",Zo._jsonSchemaVersion),vectorValues:di("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=/^__.*__$/;class FC{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Rc(t,this.data,this.fieldMask,e,this.fieldTransforms):new _d(t,this.data,e,this.fieldTransforms)}}function _3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{Ac:n})}}class N2{constructor(t,e,r,s,o,u){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new N2({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return mm(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(_3(this.Ac)&&jC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class qC{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||jm(t)}Cc(t,e,r,s=!1){return new N2({Ac:t,methodName:e,Dc:r,path:sa.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function b3(n){const t=n._freezeSettings(),e=jm(n._databaseId);return new qC(n._databaseId,!!t.ignoreUndefinedProperties,e)}function zC(n,t,e,r,s,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,t,e,s);E3("Data must be an object, but it was:",u,r);const h=w3(r,u);let f,d;if(o.merge)f=new ho(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const v=[];for(const A of o.mergeFields){const T=GC(t,A,e);if(!u.contains(T))throw new se(Gt.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);WC(v,T)||v.push(T)}f=new ho(v),d=u.fieldTransforms.filter((A=>f.covers(A.field)))}else f=null,d=u.fieldTransforms;return new FC(new Fs(h),f,d)}class x2 extends T2{_toFieldTransform(t){return new kx(t.path,new od)}isEqual(t){return t instanceof x2}}function HC(n,t,e,r=!1){return C2(e,n.Cc(r?4:3,t))}function C2(n,t){if(A3(n=As(n)))return E3("Unsupported field value:",t,n),w3(n,t);if(n instanceof T2)return(function(r,s){if(!_3(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,s){const o=[];let u=0;for(const h of r){let f=C2(h,s.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,t)}return(function(r,s){if((r=As(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ix(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=yr.fromDate(r);return{timestampValue:cm(s.serializer,o)}}if(r instanceof yr){const o=new yr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cm(s.serializer,o)}}if(r instanceof Jo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qs)return{bytesValue:z4(s.serializer,r._byteString)};if(r instanceof ei){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:a2(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Zo)return(function(u,h){return{mapValue:{fields:{[v4]:{stringValue:_4},[om]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw h.Sc("VectorValues must only contain numeric values.");return e2(h.serializer,d)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Im(r)}`)})(n,t)}function w3(n,t){const e={};return f4(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xc(n,((r,s)=>{const o=C2(s,t.mc(r));o!=null&&(e[r]=o)})),{mapValue:{fields:e}}}function A3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yr||n instanceof Jo||n instanceof qs||n instanceof ei||n instanceof T2||n instanceof Zo)}function E3(n,t,e){if(!A3(e)||!c4(e)){const r=Im(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function GC(n,t,e){if((t=As(t))instanceof S2)return t._internalPath;if(typeof t=="string")return S3(n,t);throw mm("Field path arguments must be of type string or ",n,!1,void 0,e)}const YC=new RegExp("[~\\*/\\[\\]]");function S3(n,t,e){if(t.search(YC)>=0)throw mm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new S2(...t.split("."))._internalPath}catch{throw mm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function mm(n,t,e,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new se(Gt.INVALID_ARGUMENT,h+n+f)}function WC(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(t,e,r,s,o){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ei(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new KC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(R2("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class KC extends T3{data(){return super.data()}}function R2(n,t){return typeof t=="string"?S3(n,t):t instanceof S2?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new se(Gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I2{}class x3 extends I2{}function C3(n,t,...e){let r=[];t instanceof I2&&r.push(t),r=r.concat(e),(function(o){const u=o.filter((f=>f instanceof D2)).length,h=o.filter((f=>f instanceof L2)).length;if(u>1||u>0&&h>0)throw new se(Gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class L2 extends x3{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new L2(t,e,r)}_apply(t){const e=this._parse(t);return I3(t._query,e),new Gu(t.firestore,t.converter,h0(t._query,e))}_parse(t){const e=b3(t.firestore);return(function(o,u,h,f,d,v,A){let T;if(d.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new se(Gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){U_(A,v);const M=[];for(const j of A)M.push(M_(f,o,j));T={arrayValue:{values:M}}}else T=M_(f,o,A)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||U_(A,v),T=HC(h,u,A,v==="in"||v==="not-in");return fi.create(d,v,T)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class D2 extends I2{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new D2(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:mo.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(s,o){let u=s;const h=o.getFlattenedFilters();for(const f of h)I3(u,f),u=h0(u,f)})(t._query,e),new Gu(t.firestore,t.converter,h0(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class k2 extends x3{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new k2(t,e)}_apply(t){const e=(function(s,o,u){if(s.startAt!==null)throw new se(Gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new se(Gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sd(o,u)})(t._query,this._field,this._direction);return new Gu(t.firestore,t.converter,(function(s,o){const u=s.explicitOrderBy.concat([o]);return new Kh(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(t._query,e))}}function R3(n,t="asc"){const e=t,r=R2("orderBy",n);return k2._create(r,e)}function M_(n,t,e){if(typeof(e=As(e))=="string"){if(e==="")throw new se(Gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!x4(t)&&e.indexOf("/")!==-1)throw new se(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(hr.fromString(e));if(!Le.isDocumentKey(r))throw new se(Gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jv(n,new Le(r))}if(e instanceof ei)return Jv(n,e._key);throw new se(Gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Im(e)}.`)}function U_(n,t){if(!Array.isArray(n)||n.length===0)throw new se(Gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function I3(n,t){const e=(function(s,o){for(const u of s)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new se(Gt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new se(Gt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class QC{convertValue(t,e="none"){switch(ju(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Bu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Fe(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return xc(t,((s,o)=>{r[s]=this.convertValue(o,e)})),r}convertVectorValue(t){const e=t.fields?.[om].arrayValue?.values?.map((r=>Xr(r.doubleValue)));return new Zo(e)}convertGeoPoint(t){return new Jo(Xr(t.latitude),Xr(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=km(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(rd(t));default:return null}}convertTimestamp(t){const e=Vu(t);return new yr(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=hr.fromString(t);Hn(Q4(r),9688,{name:t});const s=new id(r.get(1),r.get(3)),o=new Le(r.popFirst(5));return s.isEqual(e)||zl(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class Hf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class mc extends T3{constructor(t,e,r,s,o,u){super(t,e,r,s,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Gp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(R2("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Gt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=mc._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}mc._jsonSchemaVersion="firestore/documentSnapshot/1.0",mc._jsonSchema={type:di("string",mc._jsonSchemaVersion),bundleSource:di("string","DocumentSnapshot"),bundleName:di("string"),bundle:di("string")};class Gp extends mc{data(t={}){return super.data(t)}}class gc{constructor(t,e,r,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new Hf(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new Gp(this._firestore,this._userDataWriter,r.key,r,new Hf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new se(Gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((h=>{const f=new Gp(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Hf(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new Gp(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Hf(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,v=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:XC(h.type),doc:f,oldIndex:d,newIndex:v}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Gt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=gc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Q0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function XC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(n){n=po(n,ei);const t=po(n.firestore,Ec);return OC(Hm(t),n._key).then((e=>D3(t,n,e)))}gc._jsonSchemaVersion="firestore/querySnapshot/1.0",gc._jsonSchema={type:di("string",gc._jsonSchemaVersion),bundleSource:di("string","QuerySnapshot"),bundleName:di("string"),bundle:di("string")};class O2 extends QC{constructor(t){super(),this.firestore=t}convertBytes(t){return new qs(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ei(this.firestore,null,e)}}function ZC(n){n=po(n,Gu);const t=po(n.firestore,Ec),e=Hm(t),r=new O2(t);return N3(n._query),PC(e,n._query).then((s=>new gc(t,r,n,s)))}function tR(n,t,e){n=po(n,ei);const r=po(n.firestore,Ec),s=$C(n.converter,t,e);return L3(r,[zC(b3(r),"setDoc",n._key,s,n.converter!==null,e).toMutation(n._key,$o.none())])}function eR(n){return L3(po(n.firestore,Ec),[new n2(n._key,$o.none())])}function nR(n,...t){n=As(n);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||P_(t[r])||(e=t[r++]);const s={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(P_(t[r])){const f=t[r];t[r]=f.next?.bind(f),t[r+1]=f.error?.bind(f),t[r+2]=f.complete?.bind(f)}let o,u,h;if(n instanceof ei)u=po(n.firestore,Ec),h=Om(n._key.path),o={next:f=>{t[r]&&t[r](D3(u,n,f))},error:t[r+1],complete:t[r+2]};else{const f=po(n,Gu);u=po(f.firestore,Ec),h=f._query;const d=new O2(u);o={next:v=>{t[r]&&t[r](new gc(u,d,f,v))},error:t[r+1],complete:t[r+2]},N3(n._query)}return(function(d,v,A,T){const b=new A2(T),M=new _2(v,b,A);return d.asyncQueue.enqueueAndForget((async()=>g2(await pm(d),M))),()=>{b.Nu(),d.asyncQueue.enqueueAndForget((async()=>y2(await pm(d),M)))}})(Hm(u),h,s,o)}function L3(n,t){return(function(r,s){const o=new jl;return r.asyncQueue.enqueueAndForget((async()=>AC(await kC(r),s,o))),o.promise})(Hm(n),t)}function D3(n,t,e){const r=e.docs.get(t._key),s=new O2(n);return new mc(n,s,t._key,r,new Hf(e.hasPendingWrites,e.fromCache),t.converter)}function rR(){return new x2("serverTimestamp")}(function(t,e=!0){(function(s){Gh=s})(Hh),Dh(new bc("firestore",((r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Ec(new qN(r.getProvider("auth-internal")),new GN(u,r.getProvider("app-check-internal")),(function(d,v){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new se(Gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new id(d.options.projectId,v)})(u,s),u);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Ou(Bv,jv,t),Ou(Bv,jv,"esm2020")})();function k3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iR=k3,O3=new gd("auth","Firebase",k3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=new G0("@firebase/auth");function aR(n,...t){gm.logLevel<=_n.WARN&&gm.warn(`Auth (${Hh}): ${n}`,...t)}function Yp(n,...t){gm.logLevel<=_n.ERROR&&gm.error(`Auth (${Hh}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(n,...t){throw P2(n,...t)}function tl(n,...t){return P2(n,...t)}function P3(n,t,e){const r={...iR(),[t]:e};return new gd("auth","Firebase",r).create(t,{appName:n.name})}function yc(n){return P3(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function P2(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return O3.create(n,...t)}function Ke(n,t,...e){if(!n)throw P2(t,...e)}function Ul(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Yp(t),new Error(t)}function Yl(n,t){n||Ul(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(){return typeof self<"u"&&self.location?.href||""}function sR(){return V_()==="http:"||V_()==="https:"}function V_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sR()||yT()||"connection"in navigator)?navigator.onLine:!0}function lR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(t,e){this.shortDelay=t,this.longDelay=e,Yl(e>t,"Short delay should be less than long delay!"),this.isMobile=pT()||vT()}get(){return oR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(n,t){Yl(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ul("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ul("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ul("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hR=new Ed(3e4,6e4);function U2(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function $h(n,t,e,r,s={}){return U3(n,s,async()=>{let o={},u={};r&&(t==="GET"?u=r:o={body:JSON.stringify(r)});const h=yd({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:t,headers:f,...o};return gT()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&zh(n.emulatorConfig.host)&&(d.credentials="include"),M3.fetch()(await V3(n,n.config.apiHost,e,h),d)})}async function U3(n,t,e){n._canInitEmulator=!1;const r={...uR,...t};try{const s=new dR(n),o=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw xp(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw xp(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw xp(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw xp(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw P3(n,v,d);Gl(n,v)}}catch(s){if(s instanceof Kl)throw s;Gl(n,"network-request-failed",{message:String(s)})}}async function fR(n,t,e,r,s={}){const o=await $h(n,t,e,r,s);return"mfaPendingCredential"in o&&Gl(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function V3(n,t,e,r){const s=`${t}${e}?${r}`,o=n,u=o.config.emulator?M2(n.config,s):`${n.config.apiScheme}://${s}`;return cR.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}class dR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(tl(this.auth,"network-request-failed")),hR.get())})}}function xp(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const s=tl(n,t,r);return s.customData._tokenResponse=e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(n,t){return $h(n,"POST","/v1/accounts:delete",t)}async function ym(n,t){return $h(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function mR(n,t=!1){const e=As(n),r=await e.getIdToken(t),s=V2(r);Ke(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o?.sign_in_provider;return{claims:s,token:r,authTime:Xf(Ng(s.auth_time)),issuedAtTime:Xf(Ng(s.iat)),expirationTime:Xf(Ng(s.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Ng(n){return Number(n)*1e3}function V2(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return Yp("JWT malformed, contained fewer than 3 sections"),null;try{const s=zw(e);return s?JSON.parse(s):(Yp("Failed to decode base64 JWT payload"),null)}catch(s){return Yp("Caught error parsing JWT payload as JSON",s?.toString()),null}}function B_(n){const t=V2(n);return Ke(t,"internal-error"),Ke(typeof t.exp<"u","internal-error"),Ke(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cd(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof Kl&&gR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function gR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xf(this.lastLoginAt),this.creationTime=Xf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vm(n){const t=n.auth,e=await n.getIdToken(),r=await cd(n,ym(t,{idToken:e}));Ke(r?.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?B3(s.providerUserInfo):[],u=_R(n.providerData,o),h=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!u?.length,d=h?f:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new E0(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,v)}async function vR(n){const t=As(n);await vm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _R(n,t){return[...n.filter(r=>!t.some(s=>s.providerId===r.providerId)),...t]}function B3(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(n,t){const e=await U3(n,{},async()=>{const r=yd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await V3(n,s,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return n.emulatorConfig&&zh(n.emulatorConfig.host)&&(f.credentials="include"),M3.fetch()(u,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function wR(n,t){return $h(n,"POST","/v2/accounts:revokeToken",U2(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ke(t.idToken,"internal-error"),Ke(typeof t.idToken<"u","internal-error"),Ke(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):B_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ke(t.length!==0,"internal-error");const e=B_(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:s,expiresIn:o}=await bR(t,e);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:s,expirationTime:o}=e,u=new Th;return r&&(Ke(typeof r=="string","internal-error",{appName:t}),u.refreshToken=r),s&&(Ke(typeof s=="string","internal-error",{appName:t}),u.accessToken=s),o&&(Ke(typeof o=="number","internal-error",{appName:t}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Th,this.toJSON())}_performRefresh(){return Ul("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(n,t){Ke(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class fo{constructor({uid:t,auth:e,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new yR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new E0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await cd(this,this.stsTokenManager.getToken(this.auth,t));return Ke(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return mR(this,t)}reload(){return vR(this)}_assign(t){this!==t&&(Ke(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new fo({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await vm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Go(this.auth.app))return Promise.reject(yc(this.auth));const t=await this.getIdToken();return await cd(this,pR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,s=e.email??void 0,o=e.phoneNumber??void 0,u=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,d=e.createdAt??void 0,v=e.lastLoginAt??void 0,{uid:A,emailVerified:T,isAnonymous:b,providerData:M,stsTokenManager:j}=e;Ke(A&&j,t,"internal-error");const P=Th.fromJSON(this.name,j);Ke(typeof A=="string",t,"internal-error"),Su(r,t.name),Su(s,t.name),Ke(typeof T=="boolean",t,"internal-error"),Ke(typeof b=="boolean",t,"internal-error"),Su(o,t.name),Su(u,t.name),Su(h,t.name),Su(f,t.name),Su(d,t.name),Su(v,t.name);const k=new fo({uid:A,auth:t,email:s,emailVerified:T,displayName:r,isAnonymous:b,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:P,createdAt:d,lastLoginAt:v});return M&&Array.isArray(M)&&(k.providerData=M.map($=>({...$}))),f&&(k._redirectEventId=f),k}static async _fromIdTokenResponse(t,e,r=!1){const s=new Th;s.updateFromServerResponse(e);const o=new fo({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:r});return await vm(o),o}static async _fromGetAccountInfoResponse(t,e,r){const s=e.users[0];Ke(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?B3(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!o?.length,h=new Th;h.updateFromIdToken(r);const f=new fo({uid:s.localId,auth:t,stsTokenManager:h,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new E0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=new Map;function Vl(n){Yl(n instanceof Function,"Expected a class definition");let t=j_.get(n);return t?(Yl(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,j_.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}j3.type="NONE";const F_=j3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(n,t,e){return`firebase:${n}:${t}:${e}`}class Nh{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Wp(this.userKey,s.apiKey,o),this.fullPersistenceKey=Wp("persistence",s.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await ym(this.auth,{idToken:t}).catch(()=>{});return e?fo._fromGetAccountInfoResponse(this.auth,e,t):null}return fo._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Nh(Vl(F_),t,r);const s=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||Vl(F_);const u=Wp(r,t.config.apiKey,t.name);let h=null;for(const d of e)try{const v=await d._get(u);if(v){let A;if(typeof v=="string"){const T=await ym(t,{idToken:v}).catch(()=>{});if(!T)break;A=await fo._fromGetAccountInfoResponse(t,T,v)}else A=fo._fromJSON(t,v);d!==o&&(h=A),o=d;break}}catch{}const f=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Nh(o,t,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Nh(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(H3(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(F3(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Y3(t))return"Blackberry";if(W3(t))return"Webos";if(q3(t))return"Safari";if((t.includes("chrome/")||z3(t))&&!t.includes("edge/"))return"Chrome";if(G3(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function F3(n=Aa()){return/firefox\//i.test(n)}function q3(n=Aa()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function z3(n=Aa()){return/crios\//i.test(n)}function H3(n=Aa()){return/iemobile/i.test(n)}function G3(n=Aa()){return/android/i.test(n)}function Y3(n=Aa()){return/blackberry/i.test(n)}function W3(n=Aa()){return/webos/i.test(n)}function B2(n=Aa()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function AR(n=Aa()){return B2(n)&&!!window.navigator?.standalone}function ER(){return _T()&&document.documentMode===10}function K3(n=Aa()){return B2(n)||G3(n)||W3(n)||Y3(n)||/windows phone/i.test(n)||H3(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(n,t=[]){let e;switch(n){case"Browser":e=q_(Aa());break;case"Worker":e=`${q_(Aa())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Hh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=o=>new Promise((u,h)=>{try{const f=t(o);u(f)}catch(f){h(f)}});r.onAbort=e,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(n,t={}){return $h(n,"GET","/v2/passwordPolicy",U2(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=6;class xR{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??NR,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let s=0;s<t.length;s++)r=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t,e,r,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z_(this),this.idTokenSubscription=new z_(this),this.beforeStateQueue=new SR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Vl(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Nh.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await ym(this,{idToken:t}),r=await fo._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Go(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===u)&&h?.user&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await vm(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Go(this.app))return Promise.reject(yc(this));const e=t?As(t):null;return e&&Ke(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ke(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Go(this.app)?Promise.reject(yc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Go(this.app)?Promise.reject(yc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await TR(this),e=new xR(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new gd("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await wR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Vl(t)||this._popupRedirectResolver;Ke(e,this,"argument-error"),this.redirectPersistenceManager=await Nh.create(this,[Vl(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,s){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,r,s);return()=>{u=!0,f()}}else{const f=t.addObserver(e);return()=>{u=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Q3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Go(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&aR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function j2(n){return As(n)}class z_{constructor(t){this.auth=t,this.observer=null,this.addObserver=xT(e=>this.observer=e)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RR(n){F2=n}function IR(n){return F2.loadJS(n)}function LR(){return F2.gapiScript}function DR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(n,t){const e=W0(n,"auth");if(e.isInitialized()){const s=e.getImmediate(),o=e.getOptions();if(_c(o,t??{}))return s;Gl(s,"already-initialized")}return e.initialize({options:t})}function OR(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(Vl);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function PR(n,t,e){const r=j2(n);Ke(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!1,o=$3(t),{host:u,port:h}=MR(t),f=h===null?"":`:${h}`,d={url:`${o}//${u}${f}/`},v=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ke(_c(d,r.config.emulator)&&_c(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,zh(u)?(Ww(`${o}//${u}${f}`),Kw("Auth",!0)):UR()}function $3(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function MR(n){const t=$3(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:H_(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:H_(u)}}}function H_(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function UR(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ul("not implemented")}_getIdTokenResponse(t){return Ul("not implemented")}_linkToIdToken(t,e){return Ul("not implemented")}_getReauthenticationResolver(t){return Ul("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(n,t){return fR(n,"POST","/v1/accounts:signInWithIdp",U2(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="http://localhost";class Sc extends X3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Sc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Gl("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:s,...o}=e;if(!r||!s)return null;const u=new Sc(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return xh(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,xh(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,xh(t,e)}buildRequest(){const t={requestUri:VR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=yd(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends J3{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends Sd{constructor(){super("facebook.com")}static credential(t){return Sc._fromParams({providerId:xu.PROVIDER_ID,signInMethod:xu.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xu.credentialFromTaggedObject(t)}static credentialFromError(t){return xu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xu.credential(t.oauthAccessToken)}catch{return null}}}xu.FACEBOOK_SIGN_IN_METHOD="facebook.com";xu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends Sd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Sc._fromParams({providerId:Ml.PROVIDER_ID,signInMethod:Ml.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ml.credentialFromTaggedObject(t)}static credentialFromError(t){return Ml.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return Ml.credential(e,r)}catch{return null}}}Ml.GOOGLE_SIGN_IN_METHOD="google.com";Ml.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends Sd{constructor(){super("github.com")}static credential(t){return Sc._fromParams({providerId:Cu.PROVIDER_ID,signInMethod:Cu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Cu.credentialFromTaggedObject(t)}static credentialFromError(t){return Cu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Cu.credential(t.oauthAccessToken)}catch{return null}}}Cu.GITHUB_SIGN_IN_METHOD="github.com";Cu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends Sd{constructor(){super("twitter.com")}static credential(t,e){return Sc._fromParams({providerId:Ru.PROVIDER_ID,signInMethod:Ru.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Ru.credentialFromTaggedObject(t)}static credentialFromError(t){return Ru.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return Ru.credential(e,r)}catch{return null}}}Ru.TWITTER_SIGN_IN_METHOD="twitter.com";Ru.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,s=!1){const o=await fo._fromIdTokenResponse(t,r,s),u=G_(r);return new Bh({user:o,providerId:u,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const s=G_(r);return new Bh({user:t,providerId:s,_tokenResponse:r,operationType:e})}}function G_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends Kl{constructor(t,e,r,s){super(e.code,e.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,_m.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,s){return new _m(t,e,r,s)}}function Z3(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_m._fromErrorAndOperation(n,o,t,r):o})}async function BR(n,t,e=!1){const r=await cd(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Bh._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(n,t,e=!1){const{auth:r}=n;if(Go(r.app))return Promise.reject(yc(r));const s="reauthenticate";try{const o=await cd(n,Z3(r,s,t,n),e);Ke(o.idToken,r,"internal-error");const u=V2(o.idToken);Ke(u,r,"internal-error");const{sub:h}=u;return Ke(n.uid===h,r,"user-mismatch"),Bh._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Gl(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(n,t,e=!1){if(Go(n.app))return Promise.reject(yc(n));const r="signIn",s=await Z3(n,r,t),o=await Bh._fromIdTokenResponse(n,r,s);return e||await n._updateCurrentUser(o.user),o}function qR(n,t,e,r){return As(n).onIdTokenChanged(t,e,r)}function zR(n,t,e){return As(n).beforeAuthStateChanged(t,e)}const bm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(bm,"1"),this.storage.removeItem(bm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=1e3,GR=10;class eA extends tA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=K3(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),s=this.localCache[e];r!==s&&t(e,s,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!e&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);ER()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,GR):s()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},HR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}eA.type="LOCAL";const YR=eA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA extends tA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}nA.type="SESSION";const rA=nA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const r=new Gm(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:s,data:o}=e.data,u=this.handlersMap[s];if(!u?.size)return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async d=>d(e.origin,o)),f=await WR(h);e.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const d=q2("",20);s.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(A){const T=A;if(T.data.eventId===d)switch(T.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(T.data.response);break;default:clearTimeout(v),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(){return window}function QR(n){el().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(){return typeof el().WorkerGlobalScope<"u"&&typeof el().importScripts=="function"}async function $R(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XR(){return navigator?.serviceWorker?.controller||null}function JR(){return iA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="firebaseLocalStorageDb",ZR=1,wm="firebaseLocalStorage",sA="fbase_key";class Td{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Ym(n,t){return n.transaction([wm],t?"readwrite":"readonly").objectStore(wm)}function tI(){const n=indexedDB.deleteDatabase(aA);return new Td(n).toPromise()}function S0(){const n=indexedDB.open(aA,ZR);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(wm,{keyPath:sA})}catch(s){e(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(wm)?t(r):(r.close(),await tI(),t(await S0()))})})}async function Y_(n,t,e){const r=Ym(n,!0).put({[sA]:t,value:e});return new Td(r).toPromise()}async function eI(n,t){const e=Ym(n,!1).get(t),r=await new Td(e).toPromise();return r===void 0?null:r.value}function W_(n,t){const e=Ym(n,!0).delete(t);return new Td(e).toPromise()}const nI=800,rI=3;class oA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await S0(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>rI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gm._getInstance(JR()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $R(),!this.activeServiceWorker)return;this.sender=new KR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||XR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await S0();return await Y_(t,bm,"1"),await W_(t,bm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>Y_(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>eI(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>W_(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const o=Ym(s,!1).getAll();return new Td(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:s,value:o}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oA.type="LOCAL";const iI=oA;new Ed(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(n,t){return t?Vl(t):(Ke(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2 extends X3{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xh(t,this._buildIdpRequest())}_linkToIdToken(t,e){return xh(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return xh(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function sI(n){return FR(n.auth,new z2(n),n.bypassAuthState)}function oI(n){const{auth:t,user:e}=n;return Ke(e,t,"internal-error"),jR(e,new z2(n),n.bypassAuthState)}async function lI(n){const{auth:t,user:e}=n;return Ke(e,t,"internal-error"),BR(e,new z2(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t,e,r,s,o=!1){this.auth=t,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:s,tenantId:o,error:u,type:h}=t;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:e,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sI;case"linkViaPopup":case"linkViaRedirect":return lI;case"reauthViaPopup":case"reauthViaRedirect":return oI;default:Gl(this.auth,"internal-error")}}resolve(t){Yl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Yl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=new Ed(2e3,1e4);class Ah extends lA{constructor(t,e,r,s,o){super(t,e,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Ah.currentPopupAction&&Ah.currentPopupAction.cancel(),Ah.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ke(t,this.auth,"internal-error"),t}async onExecution(){Yl(this.filter.length===1,"Popup operations only handle one event");const t=q2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(tl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(tl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ah.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,uI.get())};t()}}Ah.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="pendingRedirect",Kp=new Map;class hI extends lA{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=Kp.get(this.auth._key());if(!t){try{const r=await fI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}Kp.set(this.auth._key(),t)}return this.bypassAuthState||Kp.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fI(n,t){const e=mI(t),r=pI(n);if(!await r._isAvailable())return!1;const s=await r._get(e)==="true";return await r._remove(e),s}function dI(n,t){Kp.set(n._key(),t)}function pI(n){return Vl(n._redirectPersistence)}function mI(n){return Wp(cI,n.config.apiKey,n.name)}async function gI(n,t,e=!1){if(Go(n.app))return Promise.reject(yc(n));const r=j2(n),s=aI(r,t),u=await new hI(r,s,e).execute();return u&&!e&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,t)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=600*1e3;class vI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_I(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!uA(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";e.onError(tl(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=yI&&this.cachedEventUids.clear(),this.cachedEventUids.has(K_(t))}saveEventToCache(t){this.cachedEventUids.add(K_(t)),this.lastProcessedEventTime=Date.now()}}function K_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function uA({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function _I(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(n,t={}){return $h(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AI=/^https?/;async function EI(n){if(n.config.emulator)return;const{authorizedDomains:t}=await bI(n);for(const e of t)try{if(SI(e))return}catch{}Gl(n,"unauthorized-domain")}function SI(n){const t=A0(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===r}if(!AI.test(e))return!1;if(wI.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new Ed(3e4,6e4);function Q_(){const n=el().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function NI(n){return new Promise((t,e)=>{function r(){Q_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Q_(),e(tl(n,"network-request-failed"))},timeout:TI.get()})}if(el().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(el().gapi?.load)r();else{const s=DR("iframefcb");return el()[s]=()=>{gapi.load?r():e(tl(n,"network-request-failed"))},IR(`${LR()}?onload=${s}`).catch(o=>e(o))}}).catch(t=>{throw Qp=null,t})}let Qp=null;function xI(n){return Qp=Qp||NI(n),Qp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new Ed(5e3,15e3),RI="__/auth/iframe",II="emulator/auth/iframe",LI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kI(n){const t=n.config;Ke(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?M2(t,II):`https://${n.config.authDomain}/${RI}`,r={apiKey:t.apiKey,appName:n.name,v:Hh},s=DI.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${e}?${yd(r).slice(1)}`}async function OI(n){const t=await xI(n),e=el().gapi;return Ke(e,n,"internal-error"),t.open({where:document.body,url:kI(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LI,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=tl(n,"network-request-failed"),h=el().setTimeout(()=>{o(u)},CI.get());function f(){el().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MI=500,UI=600,VI="_blank",BI="http://localhost";class $_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jI(n,t,e,r=MI,s=UI){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...PI,width:r.toString(),height:s.toString(),top:o,left:u},d=Aa().toLowerCase();e&&(h=z3(d)?VI:e),F3(d)&&(t=t||BI,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[b,M])=>`${T}${b}=${M},`,"");if(AR(d)&&h!=="_self")return FI(t||"",h),new $_(null);const A=window.open(t||"",h,v);Ke(A,n,"popup-blocked");try{A.focus()}catch{}return new $_(A)}function FI(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="__/auth/handler",zI="emulator/auth/handler",HI=encodeURIComponent("fac");async function X_(n,t,e,r,s,o){Ke(n.config.authDomain,n,"auth-domain-config-required"),Ke(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Hh,eventId:s};if(t instanceof J3){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",NT(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,A]of Object.entries({}))u[v]=A}if(t instanceof Sd){const v=t.getScopes().filter(A=>A!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),d=f?`#${HI}=${encodeURIComponent(f)}`:"";return`${GI(n)}?${yd(h).slice(1)}${d}`}function GI({config:n}){return n.emulator?M2(n,zI):`https://${n.authDomain}/${qI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="webStorageSupport";class YI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rA,this._completeRedirectFn=gI,this._overrideRedirectResult=dI}async _openPopup(t,e,r,s){Yl(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await X_(t,e,r,A0(),s);return jI(t,o,q2())}async _openRedirect(t,e,r,s){await this._originValidation(t);const o=await X_(t,e,r,A0(),s);return QR(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:o}=this.eventManagers[e];return s?Promise.resolve(s):(Yl(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await OI(t),r=new vI(t);return e.register("authEvent",s=>(Ke(s?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(xg,{type:xg},s=>{const o=s?.[0]?.[xg];o!==void 0&&e(!!o),Gl(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=EI(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return K3()||q3()||B2()}}const WI=YI;var J_="@firebase/auth",Z_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $I(n){Dh(new bc("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ke(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q3(n)},d=new CR(r,s,o,f);return OR(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Dh(new bc("auth-internal",t=>{const e=j2(t.getProvider("auth").getImmediate());return(r=>new KI(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ou(J_,Z_,QI(n)),Ou(J_,Z_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=300,JI=Yw("authIdTokenMaxAge")||XI;let tb=null;const ZI=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>JI)return;const s=e?.token;tb!==s&&(tb=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function tL(n=Jw()){const t=W0(n,"auth");if(t.isInitialized())return t.getImmediate();const e=kR(n,{popupRedirectResolver:WI,persistence:[iI,YR,rA]}),r=Yw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=ZI(o.toString());zR(e,u,()=>u(e.currentUser)),qR(e,h=>u(h))}}const s=Hw("auth");return s&&PR(e,`http://${s}`),e}function eL(){return document.getElementsByTagName("head")?.[0]??document}RR({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=s=>{const o=tl("internal-error");o.customData=s,e(o)},r.type="text/javascript",r.charset="UTF-8",eL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$I("Browser");const cA={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""};function nL(n){return Object.values(n).every(t=>typeof t=="string"&&t.length>0)}const Yu=nL(cA);let Cg,hA;Yu&&(Cg=Xw(cA),hA=VC(Cg),tL(Cg));Yu&&new Ml;const Wm="rdv_app_items_v1",Nd=Yu?UC(hA,"rdvs"):null;async function Km(){if(!Yu)try{const e=localStorage.getItem(Wm);return e?JSON.parse(e):[]}catch{return[]}const n=C3(Nd,R3("createdAt","desc"));return(await ZC(n)).docs.map(e=>({id:e.id,...e.data()}))}function rL(n){if(!Yu){const e=()=>{Km().then(n)};e();const r=s=>{s.key===Wm&&e()};return window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)}const t=C3(Nd,R3("createdAt","desc"));return nR(t,e=>{const r=e.docs.map(s=>({id:s.id,...s.data()}));n(r)})}async function iL(n){const t=n.id||String(Date.now());if(!Yu){const s=await Km(),o=s.findIndex(h=>h.id===t),u={...n,id:t,createdAt:n.createdAt||Date.now()};o>=0?s[o]=u:s.unshift(u);try{localStorage.setItem(Wm,JSON.stringify(s))}catch{}return u}const e=E2(Nd,t),r={clientName:n.clientName,location:n.location,accompagnant:n.accompagnant,date:n.date,time:n.time,responses:n.responses||["","","",""],createdAt:n.createdAt||rR()};return await tR(e,r,{merge:!0}),{id:t,...r}}async function aL(n){if(!Yu){const e=(await Km()).filter(r=>r.id!==n);try{localStorage.setItem(Wm,JSON.stringify(e))}catch{}return}const t=E2(Nd,n);await eR(t)}async function sL(n){if(!Yu)return(await Km()).find(s=>s.id===n)||null;const t=E2(Nd,n),e=await JC(t);return e.exists()?{id:e.id,...e.data()}:null}const oL="modulepreload",lL=function(n){return"/rdv-app/"+n},eb={},Rg=function(t,e,r){let s=Promise.resolve();if(e&&e.length>0){let f=function(d){return Promise.all(d.map(v=>Promise.resolve(v).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");s=f(e.map(d=>{if(d=lL(d),d in eb)return;eb[d]=!0;const v=d.endsWith(".css"),A=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${A}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":oL,v||(T.as="script"),T.crossOrigin="",T.href=d,h&&T.setAttribute("nonce",h),document.head.appendChild(T),v)return new Promise((b,M)=>{T.addEventListener("load",b),T.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return s.then(u=>{for(const h of u||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})};function Xn(n){"@babel/helpers - typeof";return Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn(n)}var go=Uint8Array,ws=Uint16Array,H2=Int32Array,G2=new go([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Y2=new go([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),nb=new go([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fA=function(n,t){for(var e=new ws(31),r=0;r<31;++r)e[r]=t+=1<<n[r-1];for(var s=new H2(e[30]),r=1;r<30;++r)for(var o=e[r];o<e[r+1];++o)s[o]=o-e[r]<<5|r;return{b:e,r:s}},dA=fA(G2,2),uL=dA.b,T0=dA.r;uL[28]=258,T0[258]=28;var cL=fA(Y2,0),rb=cL.r,N0=new ws(32768);for(var vr=0;vr<32768;++vr){var Tu=(vr&43690)>>1|(vr&21845)<<1;Tu=(Tu&52428)>>2|(Tu&13107)<<2,Tu=(Tu&61680)>>4|(Tu&3855)<<4,N0[vr]=((Tu&65280)>>8|(Tu&255)<<8)>>1}var Jf=(function(n,t,e){for(var r=n.length,s=0,o=new ws(t);s<r;++s)n[s]&&++o[n[s]-1];var u=new ws(t);for(s=1;s<t;++s)u[s]=u[s-1]+o[s-1]<<1;var h;if(e){h=new ws(1<<t);var f=15-t;for(s=0;s<r;++s)if(n[s])for(var d=s<<4|n[s],v=t-n[s],A=u[n[s]-1]++<<v,T=A|(1<<v)-1;A<=T;++A)h[N0[A]>>f]=d}else for(h=new ws(r),s=0;s<r;++s)n[s]&&(h[s]=N0[u[n[s]-1]++]>>15-n[s]);return h}),Tc=new go(288);for(var vr=0;vr<144;++vr)Tc[vr]=8;for(var vr=144;vr<256;++vr)Tc[vr]=9;for(var vr=256;vr<280;++vr)Tc[vr]=7;for(var vr=280;vr<288;++vr)Tc[vr]=8;var Am=new go(32);for(var vr=0;vr<32;++vr)Am[vr]=5;var hL=Jf(Tc,9,0),fL=Jf(Am,5,0),pA=function(n){return(n+7)/8|0},dL=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new go(n.subarray(t,e))},kl=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8},Uf=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8,n[r+2]|=e>>16},Ig=function(n,t){for(var e=[],r=0;r<n.length;++r)n[r]&&e.push({s:r,f:n[r]});var s=e.length,o=e.slice();if(!s)return{t:gA,l:0};if(s==1){var u=new go(e[0].s+1);return u[e[0].s]=1,{t:u,l:1}}e.sort(function(vt,Dt){return vt.f-Dt.f}),e.push({s:-1,f:25001});var h=e[0],f=e[1],d=0,v=1,A=2;for(e[0]={s:-1,f:h.f+f.f,l:h,r:f};v!=s-1;)h=e[e[d].f<e[A].f?d++:A++],f=e[d!=v&&e[d].f<e[A].f?d++:A++],e[v++]={s:-1,f:h.f+f.f,l:h,r:f};for(var T=o[0].s,r=1;r<s;++r)o[r].s>T&&(T=o[r].s);var b=new ws(T+1),M=x0(e[v-1],b,0);if(M>t){var r=0,j=0,P=M-t,k=1<<P;for(o.sort(function(Dt,G){return b[G.s]-b[Dt.s]||Dt.f-G.f});r<s;++r){var $=o[r].s;if(b[$]>t)j+=k-(1<<M-b[$]),b[$]=t;else break}for(j>>=P;j>0;){var nt=o[r].s;b[nt]<t?j-=1<<t-b[nt]++-1:++r}for(;r>=0&&j;--r){var rt=o[r].s;b[rt]==t&&(--b[rt],++j)}M=t}return{t:new go(b),l:M}},x0=function(n,t,e){return n.s==-1?Math.max(x0(n.l,t,e+1),x0(n.r,t,e+1)):t[n.s]=e},ib=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new ws(++t),r=0,s=n[0],o=1,u=function(f){e[r++]=f},h=1;h<=t;++h)if(n[h]==s&&h!=t)++o;else{if(!s&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(s),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(s);o=1,s=n[h]}return{c:e.subarray(0,r),n:t}},Vf=function(n,t){for(var e=0,r=0;r<t.length;++r)e+=n[r]*t[r];return e},mA=function(n,t,e){var r=e.length,s=pA(t+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<r;++o)n[s+o+4]=e[o];return(s+4+r)*8},ab=function(n,t,e,r,s,o,u,h,f,d,v){kl(t,v++,e),++s[256];for(var A=Ig(s,15),T=A.t,b=A.l,M=Ig(o,15),j=M.t,P=M.l,k=ib(T),$=k.c,nt=k.n,rt=ib(j),vt=rt.c,Dt=rt.n,G=new ws(19),U=0;U<$.length;++U)++G[$[U]&31];for(var U=0;U<vt.length;++U)++G[vt[U]&31];for(var I=Ig(G,7),z=I.t,x=I.l,D=19;D>4&&!z[nb[D-1]];--D);var O=d+5<<3,st=Vf(s,Tc)+Vf(o,Am)+u,At=Vf(s,T)+Vf(o,j)+u+14+3*D+Vf(G,z)+2*G[16]+3*G[17]+7*G[18];if(f>=0&&O<=st&&O<=At)return mA(t,v,n.subarray(f,f+d));var it,dt,ht,Nt;if(kl(t,v,1+(At<st)),v+=2,At<st){it=Jf(T,b,0),dt=T,ht=Jf(j,P,0),Nt=j;var zt=Jf(z,x,0);kl(t,v,nt-257),kl(t,v+5,Dt-1),kl(t,v+10,D-4),v+=14;for(var U=0;U<D;++U)kl(t,v+3*U,z[nb[U]]);v+=3*D;for(var J=[$,vt],L=0;L<2;++L)for(var Y=J[L],U=0;U<Y.length;++U){var X=Y[U]&31;kl(t,v,zt[X]),v+=z[X],X>15&&(kl(t,v,Y[U]>>5&127),v+=Y[U]>>12)}}else it=hL,dt=Tc,ht=fL,Nt=Am;for(var U=0;U<h;++U){var ot=r[U];if(ot>255){var X=ot>>18&31;Uf(t,v,it[X+257]),v+=dt[X+257],X>7&&(kl(t,v,ot>>23&31),v+=G2[X]);var ct=ot&31;Uf(t,v,ht[ct]),v+=Nt[ct],ct>3&&(Uf(t,v,ot>>5&8191),v+=Y2[ct])}else Uf(t,v,it[ot]),v+=dt[ot]}return Uf(t,v,it[256]),v+dt[256]},pL=new H2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gA=new go(0),mL=function(n,t,e,r,s,o){var u=o.z||n.length,h=new go(r+u+5*(1+Math.ceil(u/7e3))+s),f=h.subarray(r,h.length-s),d=o.l,v=(o.r||0)&7;if(t){v&&(f[0]=o.r>>3);for(var A=pL[t-1],T=A>>13,b=A&8191,M=(1<<e)-1,j=o.p||new ws(32768),P=o.h||new ws(M+1),k=Math.ceil(e/3),$=2*k,nt=function(Ot){return(n[Ot]^n[Ot+1]<<k^n[Ot+2]<<$)&M},rt=new H2(25e3),vt=new ws(288),Dt=new ws(32),G=0,U=0,I=o.i||0,z=0,x=o.w||0,D=0;I+2<u;++I){var O=nt(I),st=I&32767,At=P[O];if(j[st]=At,P[O]=st,x<=I){var it=u-I;if((G>7e3||z>24576)&&(it>423||!d)){v=ab(n,f,0,rt,vt,Dt,U,z,D,I-D,v),z=G=U=0,D=I;for(var dt=0;dt<286;++dt)vt[dt]=0;for(var dt=0;dt<30;++dt)Dt[dt]=0}var ht=2,Nt=0,zt=b,J=st-At&32767;if(it>2&&O==nt(I-J))for(var L=Math.min(T,it)-1,Y=Math.min(32767,I),X=Math.min(258,it);J<=Y&&--zt&&st!=At;){if(n[I+ht]==n[I+ht-J]){for(var ot=0;ot<X&&n[I+ot]==n[I+ot-J];++ot);if(ot>ht){if(ht=ot,Nt=J,ot>L)break;for(var ct=Math.min(J,ot-2),gt=0,dt=0;dt<ct;++dt){var It=I-J+dt&32767,St=j[It],jt=It-St&32767;jt>gt&&(gt=jt,At=It)}}}st=At,At=j[st],J+=st-At&32767}if(Nt){rt[z++]=268435456|T0[ht]<<18|rb[Nt];var Xt=T0[ht]&31,ne=rb[Nt]&31;U+=G2[Xt]+Y2[ne],++vt[257+Xt],++Dt[ne],x=I+ht,++G}else rt[z++]=n[I],++vt[n[I]]}}for(I=Math.max(I,x);I<u;++I)rt[z++]=n[I],++vt[n[I]];v=ab(n,f,d,rt,vt,Dt,U,z,D,I-D,v),d||(o.r=v&7|f[v/8|0]<<3,v-=7,o.h=P,o.p=j,o.i=I,o.w=x)}else{for(var I=o.w||0;I<u+d;I+=65535){var re=I+65535;re>=u&&(f[v/8|0]=d,re=u),v=mA(f,v+1,n.subarray(I,re))}o.i=u}return dL(h,0,r+pA(v)+s)},yA=function(){var n=1,t=0;return{p:function(e){for(var r=n,s=t,o=e.length|0,u=0;u!=o;){for(var h=Math.min(u+2655,o);u<h;++u)s+=r+=e[u];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,t=s},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},gL=function(n,t,e,r,s){if(!s&&(s={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),u=new go(o.length+n.length);u.set(o),u.set(n,o.length),n=u,s.w=o.length}return mL(n,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,r,s)},vA=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},yL=function(n,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=r<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var s=yA();s.p(t.dictionary),vA(n,2,s.d())}};function C0(n,t){t||(t={});var e=yA();e.p(n);var r=gL(n,t,t.dictionary?6:2,4);return yL(r,t),vA(r,r.length-4,e.d()),r}var vL=typeof TextDecoder<"u"&&new TextDecoder,_L=0;try{vL.decode(gA,{stream:!0}),_L=1}catch{}function bL(n){if(Array.isArray(n))return n}function wL(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,s,o,u,h=[],f=!0,d=!1;try{if(o=(e=e.call(n)).next,t!==0)for(;!(f=(r=o.call(e)).done)&&(h.push(r.value),h.length!==t);f=!0);}catch(v){d=!0,s=v}finally{try{if(!f&&e.return!=null&&(u=e.return(),Object(u)!==u))return}finally{if(d)throw s}}return h}}function sb(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function AL(n,t){if(n){if(typeof n=="string")return sb(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?sb(n,t):void 0}}function EL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ob(n,t){return bL(n)||wL(n,t)||AL(n,t)||EL()}function lb(n,t="utf8"){return new TextDecoder(t).decode(n)}const SL=new TextEncoder;function TL(n){return SL.encode(n)}const NL=1024*8,xL=(()=>{const n=new Uint8Array(4),t=new Uint32Array(n.buffer);return!((t[0]=1)&n[0])})(),Lg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class W2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=NL,e={}){let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const s=e.offset?e.offset>>>0:0,o=t.byteLength-s;let u=s;(ArrayBuffer.isView(t)||t instanceof W2)&&(t.byteLength!==t.buffer.byteLength&&(u=t.byteOffset+s),t=t.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const r=Lg[e].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+r);if(this.littleEndian===xL&&e!=="uint8"&&e!=="int8"){const h=new Uint8Array(this.buffer.slice(s,s+r));h.reverse();const f=new Lg[e](h.buffer);return this.offset+=r,f.reverse(),f}const u=new Lg[e](o);return this.offset+=r,u}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){return lb(this.readBytes(t))}decodeText(t=1,e="utf8"){return lb(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(TL(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Xh(n){let t=n.length;for(;--t>=0;)n[t]=0}const CL=3,RL=258,_A=29,IL=256,LL=IL+1+_A,bA=30,DL=512,kL=new Array((LL+2)*2);Xh(kL);const OL=new Array(bA*2);Xh(OL);const PL=new Array(DL);Xh(PL);const ML=new Array(RL-CL+1);Xh(ML);const UL=new Array(_A);Xh(UL);const VL=new Array(bA);Xh(VL);const BL=(n,t,e,r)=>{let s=n&65535|0,o=n>>>16&65535|0,u=0;for(;e!==0;){u=e>2e3?2e3:e,e-=u;do s=s+t[r++]|0,o=o+s|0;while(--u);s%=65521,o%=65521}return s|o<<16|0};var R0=BL;const jL=()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t},FL=new Uint32Array(jL()),qL=(n,t,e,r)=>{const s=FL,o=r+e;n^=-1;for(let u=r;u<o;u++)n=n>>>8^s[(n^t[u])&255];return n^-1};var qo=qL,I0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},wA={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const zL=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var HL=function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const r in e)zL(e,r)&&(n[r]=e[r])}}return n},GL=n=>{let t=0;for(let r=0,s=n.length;r<s;r++)t+=n[r].length;const e=new Uint8Array(t);for(let r=0,s=0,o=n.length;r<o;r++){let u=n[r];e.set(u,s),s+=u.length}return e},AA={assign:HL,flattenChunks:GL};let EA=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{EA=!1}const hd=new Uint8Array(256);for(let n=0;n<256;n++)hd[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;hd[254]=hd[254]=1;var YL=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,r,s,o,u=n.length,h=0;for(s=0;s<u;s++)e=n.charCodeAt(s),(e&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),s++)),h+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(h),o=0,s=0;o<h;s++)e=n.charCodeAt(s),(e&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),s++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t};const WL=(n,t)=>{if(t<65534&&n.subarray&&EA)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let e="";for(let r=0;r<t;r++)e+=String.fromCharCode(n[r]);return e};var KL=(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let r,s;const o=new Array(e*2);for(s=0,r=0;r<e;){let u=n[r++];if(u<128){o[s++]=u;continue}let h=hd[u];if(h>4){o[s++]=65533,r+=h-1;continue}for(u&=h===2?31:h===3?15:7;h>1&&r<e;)u=u<<6|n[r++]&63,h--;if(h>1){o[s++]=65533;continue}u<65536?o[s++]=u:(u-=65536,o[s++]=55296|u>>10&1023,o[s++]=56320|u&1023)}return WL(o,s)},QL=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+hd[n[e]]>t?e:t},L0={string2buf:YL,buf2string:KL,utf8border:QL};function $L(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var XL=$L;const Cp=16209,JL=16191;var ZL=function(t,e){let r,s,o,u,h,f,d,v,A,T,b,M,j,P,k,$,nt,rt,vt,Dt,G,U,I,z;const x=t.state;r=t.next_in,I=t.input,s=r+(t.avail_in-5),o=t.next_out,z=t.output,u=o-(e-t.avail_out),h=o+(t.avail_out-257),f=x.dmax,d=x.wsize,v=x.whave,A=x.wnext,T=x.window,b=x.hold,M=x.bits,j=x.lencode,P=x.distcode,k=(1<<x.lenbits)-1,$=(1<<x.distbits)-1;t:do{M<15&&(b+=I[r++]<<M,M+=8,b+=I[r++]<<M,M+=8),nt=j[b&k];e:for(;;){if(rt=nt>>>24,b>>>=rt,M-=rt,rt=nt>>>16&255,rt===0)z[o++]=nt&65535;else if(rt&16){vt=nt&65535,rt&=15,rt&&(M<rt&&(b+=I[r++]<<M,M+=8),vt+=b&(1<<rt)-1,b>>>=rt,M-=rt),M<15&&(b+=I[r++]<<M,M+=8,b+=I[r++]<<M,M+=8),nt=P[b&$];n:for(;;){if(rt=nt>>>24,b>>>=rt,M-=rt,rt=nt>>>16&255,rt&16){if(Dt=nt&65535,rt&=15,M<rt&&(b+=I[r++]<<M,M+=8,M<rt&&(b+=I[r++]<<M,M+=8)),Dt+=b&(1<<rt)-1,Dt>f){t.msg="invalid distance too far back",x.mode=Cp;break t}if(b>>>=rt,M-=rt,rt=o-u,Dt>rt){if(rt=Dt-rt,rt>v&&x.sane){t.msg="invalid distance too far back",x.mode=Cp;break t}if(G=0,U=T,A===0){if(G+=d-rt,rt<vt){vt-=rt;do z[o++]=T[G++];while(--rt);G=o-Dt,U=z}}else if(A<rt){if(G+=d+A-rt,rt-=A,rt<vt){vt-=rt;do z[o++]=T[G++];while(--rt);if(G=0,A<vt){rt=A,vt-=rt;do z[o++]=T[G++];while(--rt);G=o-Dt,U=z}}}else if(G+=A-rt,rt<vt){vt-=rt;do z[o++]=T[G++];while(--rt);G=o-Dt,U=z}for(;vt>2;)z[o++]=U[G++],z[o++]=U[G++],z[o++]=U[G++],vt-=3;vt&&(z[o++]=U[G++],vt>1&&(z[o++]=U[G++]))}else{G=o-Dt;do z[o++]=z[G++],z[o++]=z[G++],z[o++]=z[G++],vt-=3;while(vt>2);vt&&(z[o++]=z[G++],vt>1&&(z[o++]=z[G++]))}}else if((rt&64)===0){nt=P[(nt&65535)+(b&(1<<rt)-1)];continue n}else{t.msg="invalid distance code",x.mode=Cp;break t}break}}else if((rt&64)===0){nt=j[(nt&65535)+(b&(1<<rt)-1)];continue e}else if(rt&32){x.mode=JL;break t}else{t.msg="invalid literal/length code",x.mode=Cp;break t}break}}while(r<s&&o<h);vt=M>>3,r-=vt,M-=vt<<3,b&=(1<<M)-1,t.next_in=r,t.next_out=o,t.avail_in=r<s?5+(s-r):5-(r-s),t.avail_out=o<h?257+(h-o):257-(o-h),x.hold=b,x.bits=M};const dh=15,ub=852,cb=592,hb=0,Dg=1,fb=2,t7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),e7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),n7=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),r7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),i7=(n,t,e,r,s,o,u,h)=>{const f=h.bits;let d=0,v=0,A=0,T=0,b=0,M=0,j=0,P=0,k=0,$=0,nt,rt,vt,Dt,G,U=null,I;const z=new Uint16Array(dh+1),x=new Uint16Array(dh+1);let D=null,O,st,At;for(d=0;d<=dh;d++)z[d]=0;for(v=0;v<r;v++)z[t[e+v]]++;for(b=f,T=dh;T>=1&&z[T]===0;T--);if(b>T&&(b=T),T===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,h.bits=1,0;for(A=1;A<T&&z[A]===0;A++);for(b<A&&(b=A),P=1,d=1;d<=dh;d++)if(P<<=1,P-=z[d],P<0)return-1;if(P>0&&(n===hb||T!==1))return-1;for(x[1]=0,d=1;d<dh;d++)x[d+1]=x[d]+z[d];for(v=0;v<r;v++)t[e+v]!==0&&(u[x[t[e+v]]++]=v);if(n===hb?(U=D=u,I=20):n===Dg?(U=t7,D=e7,I=257):(U=n7,D=r7,I=0),$=0,v=0,d=A,G=o,M=b,j=0,vt=-1,k=1<<b,Dt=k-1,n===Dg&&k>ub||n===fb&&k>cb)return 1;for(;;){O=d-j,u[v]+1<I?(st=0,At=u[v]):u[v]>=I?(st=D[u[v]-I],At=U[u[v]-I]):(st=96,At=0),nt=1<<d-j,rt=1<<M,A=rt;do rt-=nt,s[G+($>>j)+rt]=O<<24|st<<16|At|0;while(rt!==0);for(nt=1<<d-1;$&nt;)nt>>=1;if(nt!==0?($&=nt-1,$+=nt):$=0,v++,--z[d]===0){if(d===T)break;d=t[e+u[v]]}if(d>b&&($&Dt)!==vt){for(j===0&&(j=b),G+=A,M=d-j,P=1<<M;M+j<T&&(P-=z[M+j],!(P<=0));)M++,P<<=1;if(k+=1<<M,n===Dg&&k>ub||n===fb&&k>cb)return 1;vt=$&Dt,s[vt]=b<<24|M<<16|G-o|0}}return $!==0&&(s[G+$]=d-j<<24|64<<16|0),h.bits=b,0};var Zf=i7;const a7=0,SA=1,TA=2,{Z_FINISH:db,Z_BLOCK:s7,Z_TREES:Rp,Z_OK:Nc,Z_STREAM_END:o7,Z_NEED_DICT:l7,Z_STREAM_ERROR:zs,Z_DATA_ERROR:NA,Z_MEM_ERROR:xA,Z_BUF_ERROR:u7,Z_DEFLATED:pb}=wA,Qm=16180,mb=16181,gb=16182,yb=16183,vb=16184,_b=16185,bb=16186,wb=16187,Ab=16188,Eb=16189,Em=16190,Ol=16191,kg=16192,Sb=16193,Og=16194,Tb=16195,Nb=16196,xb=16197,Cb=16198,Ip=16199,Lp=16200,Rb=16201,Ib=16202,Lb=16203,Db=16204,kb=16205,Pg=16206,Ob=16207,Pb=16208,Sr=16209,CA=16210,RA=16211,c7=852,h7=592,f7=15,d7=f7,Mb=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function p7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Lc=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<Qm||t.mode>RA?1:0},IA=n=>{if(Lc(n))return zs;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=Qm,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(c7),t.distcode=t.distdyn=new Int32Array(h7),t.sane=1,t.back=-1,Nc},LA=n=>{if(Lc(n))return zs;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,IA(n)},DA=(n,t)=>{let e;if(Lc(n))return zs;const r=n.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?zs:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=e,r.wbits=t,LA(n))},kA=(n,t)=>{if(!n)return zs;const e=new p7;n.state=e,e.strm=n,e.window=null,e.mode=Qm;const r=DA(n,t);return r!==Nc&&(n.state=null),r},m7=n=>kA(n,d7);let Ub=!0,Mg,Ug;const g7=n=>{if(Ub){Mg=new Int32Array(512),Ug=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(Zf(SA,n.lens,0,288,Mg,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;Zf(TA,n.lens,0,32,Ug,0,n.work,{bits:5}),Ub=!1}n.lencode=Mg,n.lenbits=9,n.distcode=Ug,n.distbits=5},OA=(n,t,e,r)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>r&&(s=r),o.window.set(t.subarray(e-r,e-r+s),o.wnext),r-=s,r?(o.window.set(t.subarray(e-r,e),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},y7=(n,t)=>{let e,r,s,o,u,h,f,d,v,A,T,b,M,j,P=0,k,$,nt,rt,vt,Dt,G,U;const I=new Uint8Array(4);let z,x;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Lc(n)||!n.output||!n.input&&n.avail_in!==0)return zs;e=n.state,e.mode===Ol&&(e.mode=kg),u=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,d=e.hold,v=e.bits,A=h,T=f,U=Nc;t:for(;;)switch(e.mode){case Qm:if(e.wrap===0){e.mode=kg;break}for(;v<16;){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}if(e.wrap&2&&d===35615){e.wbits===0&&(e.wbits=15),e.check=0,I[0]=d&255,I[1]=d>>>8&255,e.check=qo(e.check,I,2,0),d=0,v=0,e.mode=mb;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",e.mode=Sr;break}if((d&15)!==pb){n.msg="unknown compression method",e.mode=Sr;break}if(d>>>=4,v-=4,G=(d&15)+8,e.wbits===0&&(e.wbits=G),G>15||G>e.wbits){n.msg="invalid window size",e.mode=Sr;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=d&512?Eb:Ol,d=0,v=0;break;case mb:for(;v<16;){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}if(e.flags=d,(e.flags&255)!==pb){n.msg="unknown compression method",e.mode=Sr;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=Sr;break}e.head&&(e.head.text=d>>8&1),e.flags&512&&e.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,e.check=qo(e.check,I,2,0)),d=0,v=0,e.mode=gb;case gb:for(;v<32;){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}e.head&&(e.head.time=d),e.flags&512&&e.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,I[2]=d>>>16&255,I[3]=d>>>24&255,e.check=qo(e.check,I,4,0)),d=0,v=0,e.mode=yb;case yb:for(;v<16;){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}e.head&&(e.head.xflags=d&255,e.head.os=d>>8),e.flags&512&&e.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,e.check=qo(e.check,I,2,0)),d=0,v=0,e.mode=vb;case vb:if(e.flags&1024){for(;v<16;){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}e.length=d,e.head&&(e.head.extra_len=d),e.flags&512&&e.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,e.check=qo(e.check,I,2,0)),d=0,v=0}else e.head&&(e.head.extra=null);e.mode=_b;case _b:if(e.flags&1024&&(b=e.length,b>h&&(b=h),b&&(e.head&&(G=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(o,o+b),G)),e.flags&512&&e.wrap&4&&(e.check=qo(e.check,r,b,o)),h-=b,o+=b,e.length-=b),e.length))break t;e.length=0,e.mode=bb;case bb:if(e.flags&2048){if(h===0)break t;b=0;do G=r[o+b++],e.head&&G&&e.length<65536&&(e.head.name+=String.fromCharCode(G));while(G&&b<h);if(e.flags&512&&e.wrap&4&&(e.check=qo(e.check,r,b,o)),h-=b,o+=b,G)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=wb;case wb:if(e.flags&4096){if(h===0)break t;b=0;do G=r[o+b++],e.head&&G&&e.length<65536&&(e.head.comment+=String.fromCharCode(G));while(G&&b<h);if(e.flags&512&&e.wrap&4&&(e.check=qo(e.check,r,b,o)),h-=b,o+=b,G)break t}else e.head&&(e.head.comment=null);e.mode=Ab;case Ab:if(e.flags&512){for(;v<16;){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}if(e.wrap&4&&d!==(e.check&65535)){n.msg="header crc mismatch",e.mode=Sr;break}d=0,v=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=Ol;break;case Eb:for(;v<32;){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}n.adler=e.check=Mb(d),d=0,v=0,e.mode=Em;case Em:if(e.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=d,e.bits=v,l7;n.adler=e.check=1,e.mode=Ol;case Ol:if(t===s7||t===Rp)break t;case kg:if(e.last){d>>>=v&7,v-=v&7,e.mode=Pg;break}for(;v<3;){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}switch(e.last=d&1,d>>>=1,v-=1,d&3){case 0:e.mode=Sb;break;case 1:if(g7(e),e.mode=Ip,t===Rp){d>>>=2,v-=2;break t}break;case 2:e.mode=Nb;break;case 3:n.msg="invalid block type",e.mode=Sr}d>>>=2,v-=2;break;case Sb:for(d>>>=v&7,v-=v&7;v<32;){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",e.mode=Sr;break}if(e.length=d&65535,d=0,v=0,e.mode=Og,t===Rp)break t;case Og:e.mode=Tb;case Tb:if(b=e.length,b){if(b>h&&(b=h),b>f&&(b=f),b===0)break t;s.set(r.subarray(o,o+b),u),h-=b,o+=b,f-=b,u+=b,e.length-=b;break}e.mode=Ol;break;case Nb:for(;v<14;){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}if(e.nlen=(d&31)+257,d>>>=5,v-=5,e.ndist=(d&31)+1,d>>>=5,v-=5,e.ncode=(d&15)+4,d>>>=4,v-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=Sr;break}e.have=0,e.mode=xb;case xb:for(;e.have<e.ncode;){for(;v<3;){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}e.lens[D[e.have++]]=d&7,d>>>=3,v-=3}for(;e.have<19;)e.lens[D[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,z={bits:e.lenbits},U=Zf(a7,e.lens,0,19,e.lencode,0,e.work,z),e.lenbits=z.bits,U){n.msg="invalid code lengths set",e.mode=Sr;break}e.have=0,e.mode=Cb;case Cb:for(;e.have<e.nlen+e.ndist;){for(;P=e.lencode[d&(1<<e.lenbits)-1],k=P>>>24,$=P>>>16&255,nt=P&65535,!(k<=v);){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}if(nt<16)d>>>=k,v-=k,e.lens[e.have++]=nt;else{if(nt===16){for(x=k+2;v<x;){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}if(d>>>=k,v-=k,e.have===0){n.msg="invalid bit length repeat",e.mode=Sr;break}G=e.lens[e.have-1],b=3+(d&3),d>>>=2,v-=2}else if(nt===17){for(x=k+3;v<x;){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}d>>>=k,v-=k,G=0,b=3+(d&7),d>>>=3,v-=3}else{for(x=k+7;v<x;){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}d>>>=k,v-=k,G=0,b=11+(d&127),d>>>=7,v-=7}if(e.have+b>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=Sr;break}for(;b--;)e.lens[e.have++]=G}}if(e.mode===Sr)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=Sr;break}if(e.lenbits=9,z={bits:e.lenbits},U=Zf(SA,e.lens,0,e.nlen,e.lencode,0,e.work,z),e.lenbits=z.bits,U){n.msg="invalid literal/lengths set",e.mode=Sr;break}if(e.distbits=6,e.distcode=e.distdyn,z={bits:e.distbits},U=Zf(TA,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,z),e.distbits=z.bits,U){n.msg="invalid distances set",e.mode=Sr;break}if(e.mode=Ip,t===Rp)break t;case Ip:e.mode=Lp;case Lp:if(h>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=d,e.bits=v,ZL(n,T),u=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,h=n.avail_in,d=e.hold,v=e.bits,e.mode===Ol&&(e.back=-1);break}for(e.back=0;P=e.lencode[d&(1<<e.lenbits)-1],k=P>>>24,$=P>>>16&255,nt=P&65535,!(k<=v);){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}if($&&($&240)===0){for(rt=k,vt=$,Dt=nt;P=e.lencode[Dt+((d&(1<<rt+vt)-1)>>rt)],k=P>>>24,$=P>>>16&255,nt=P&65535,!(rt+k<=v);){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}d>>>=rt,v-=rt,e.back+=rt}if(d>>>=k,v-=k,e.back+=k,e.length=nt,$===0){e.mode=kb;break}if($&32){e.back=-1,e.mode=Ol;break}if($&64){n.msg="invalid literal/length code",e.mode=Sr;break}e.extra=$&15,e.mode=Rb;case Rb:if(e.extra){for(x=e.extra;v<x;){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}e.length+=d&(1<<e.extra)-1,d>>>=e.extra,v-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=Ib;case Ib:for(;P=e.distcode[d&(1<<e.distbits)-1],k=P>>>24,$=P>>>16&255,nt=P&65535,!(k<=v);){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}if(($&240)===0){for(rt=k,vt=$,Dt=nt;P=e.distcode[Dt+((d&(1<<rt+vt)-1)>>rt)],k=P>>>24,$=P>>>16&255,nt=P&65535,!(rt+k<=v);){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}d>>>=rt,v-=rt,e.back+=rt}if(d>>>=k,v-=k,e.back+=k,$&64){n.msg="invalid distance code",e.mode=Sr;break}e.offset=nt,e.extra=$&15,e.mode=Lb;case Lb:if(e.extra){for(x=e.extra;v<x;){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}e.offset+=d&(1<<e.extra)-1,d>>>=e.extra,v-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=Sr;break}e.mode=Db;case Db:if(f===0)break t;if(b=T-f,e.offset>b){if(b=e.offset-b,b>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=Sr;break}b>e.wnext?(b-=e.wnext,M=e.wsize-b):M=e.wnext-b,b>e.length&&(b=e.length),j=e.window}else j=s,M=u-e.offset,b=e.length;b>f&&(b=f),f-=b,e.length-=b;do s[u++]=j[M++];while(--b);e.length===0&&(e.mode=Lp);break;case kb:if(f===0)break t;s[u++]=e.length,f--,e.mode=Lp;break;case Pg:if(e.wrap){for(;v<32;){if(h===0)break t;h--,d|=r[o++]<<v,v+=8}if(T-=f,n.total_out+=T,e.total+=T,e.wrap&4&&T&&(n.adler=e.check=e.flags?qo(e.check,s,T,u-T):R0(e.check,s,T,u-T)),T=f,e.wrap&4&&(e.flags?d:Mb(d))!==e.check){n.msg="incorrect data check",e.mode=Sr;break}d=0,v=0}e.mode=Ob;case Ob:if(e.wrap&&e.flags){for(;v<32;){if(h===0)break t;h--,d+=r[o++]<<v,v+=8}if(e.wrap&4&&d!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=Sr;break}d=0,v=0}e.mode=Pb;case Pb:U=o7;break t;case Sr:U=NA;break t;case CA:return xA;case RA:default:return zs}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=h,e.hold=d,e.bits=v,(e.wsize||T!==n.avail_out&&e.mode<Sr&&(e.mode<Pg||t!==db))&&OA(n,n.output,n.next_out,T-n.avail_out),A-=n.avail_in,T-=n.avail_out,n.total_in+=A,n.total_out+=T,e.total+=T,e.wrap&4&&T&&(n.adler=e.check=e.flags?qo(e.check,s,T,n.next_out-T):R0(e.check,s,T,n.next_out-T)),n.data_type=e.bits+(e.last?64:0)+(e.mode===Ol?128:0)+(e.mode===Ip||e.mode===Og?256:0),(A===0&&T===0||t===db)&&U===Nc&&(U=u7),U},v7=n=>{if(Lc(n))return zs;let t=n.state;return t.window&&(t.window=null),n.state=null,Nc},_7=(n,t)=>{if(Lc(n))return zs;const e=n.state;return(e.wrap&2)===0?zs:(e.head=t,t.done=!1,Nc)},b7=(n,t)=>{const e=t.length;let r,s,o;return Lc(n)||(r=n.state,r.wrap!==0&&r.mode!==Em)?zs:r.mode===Em&&(s=1,s=R0(s,t,e,0),s!==r.check)?NA:(o=OA(n,t,e,e),o?(r.mode=CA,xA):(r.havedict=1,Nc))};var w7=LA,A7=DA,E7=IA,S7=m7,T7=kA,N7=y7,x7=v7,C7=_7,R7=b7,I7="pako inflate (from Nodeca project)",Pl={inflateReset:w7,inflateReset2:A7,inflateResetKeep:E7,inflateInit:S7,inflateInit2:T7,inflate:N7,inflateEnd:x7,inflateGetHeader:C7,inflateSetDictionary:R7,inflateInfo:I7};function L7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var D7=L7;const PA=Object.prototype.toString,{Z_NO_FLUSH:k7,Z_FINISH:O7,Z_OK:fd,Z_STREAM_END:Vg,Z_NEED_DICT:Bg,Z_STREAM_ERROR:P7,Z_DATA_ERROR:Vb,Z_MEM_ERROR:M7}=wA;function xd(n){this.options=AA.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new XL,this.strm.avail_out=0;let e=Pl.inflateInit2(this.strm,t.windowBits);if(e!==fd)throw new Error(I0[e]);if(this.header=new D7,Pl.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=L0.string2buf(t.dictionary):PA.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Pl.inflateSetDictionary(this.strm,t.dictionary),e!==fd)))throw new Error(I0[e])}xd.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let o,u,h;if(this.ended)return!1;for(t===~~t?u=t:u=t===!0?O7:k7,PA.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),o=Pl.inflate(e,u),o===Bg&&s&&(o=Pl.inflateSetDictionary(e,s),o===fd?o=Pl.inflate(e,u):o===Vb&&(o=Bg));e.avail_in>0&&o===Vg&&e.state.wrap>0&&n[e.next_in]!==0;)Pl.inflateReset(e),o=Pl.inflate(e,u);switch(o){case P7:case Vb:case Bg:case M7:return this.onEnd(o),this.ended=!0,!1}if(h=e.avail_out,e.next_out&&(e.avail_out===0||o===Vg))if(this.options.to==="string"){let f=L0.utf8border(e.output,e.next_out),d=e.next_out-f,v=L0.buf2string(e.output,f);e.next_out=d,e.avail_out=r-d,d&&e.output.set(e.output.subarray(f,f+d),0),this.onData(v)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===fd&&h===0)){if(o===Vg)return o=Pl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};xd.prototype.onData=function(n){this.chunks.push(n)};xd.prototype.onEnd=function(n){n===fd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=AA.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function U7(n,t){const e=new xd(t);if(e.push(n),e.err)throw e.msg||I0[e.err];return e.result}var V7=xd,B7=U7,j7={Inflate:V7,inflate:B7};const{Inflate:F7,inflate:q7}=j7;var Bb=F7,z7=q7;const MA=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;MA[n]=t}const jb=4294967295;function H7(n,t,e){let r=n;for(let s=0;s<e;s++)r=MA[(r^t[s])&255]^r>>>8;return r}function G7(n,t){return(H7(jb,n,t)^jb)>>>0}function Fb(n,t,e){const r=n.readUint32(),s=G7(new Uint8Array(n.buffer,n.byteOffset+n.offset-t-4,t),t);if(s!==r)throw new Error(`CRC mismatch for chunk ${e}. Expected ${r}, found ${s}`)}function UA(n,t,e){for(let r=0;r<e;r++)t[r]=n[r]}function VA(n,t,e,r){let s=0;for(;s<r;s++)t[s]=n[s];for(;s<e;s++)t[s]=n[s]+t[s-r]&255}function BA(n,t,e,r){let s=0;if(e.length===0)for(;s<r;s++)t[s]=n[s];else for(;s<r;s++)t[s]=n[s]+e[s]&255}function jA(n,t,e,r,s){let o=0;if(e.length===0){for(;o<s;o++)t[o]=n[o];for(;o<r;o++)t[o]=n[o]+(t[o-s]>>1)&255}else{for(;o<s;o++)t[o]=n[o]+(e[o]>>1)&255;for(;o<r;o++)t[o]=n[o]+(t[o-s]+e[o]>>1)&255}}function FA(n,t,e,r,s){let o=0;if(e.length===0){for(;o<s;o++)t[o]=n[o];for(;o<r;o++)t[o]=n[o]+t[o-s]&255}else{for(;o<s;o++)t[o]=n[o]+e[o]&255;for(;o<r;o++)t[o]=n[o]+Y7(t[o-s],e[o],e[o-s])&255}}function Y7(n,t,e){const r=n+t-e,s=Math.abs(r-n),o=Math.abs(r-t),u=Math.abs(r-e);return s<=o&&s<=u?n:o<=u?t:e}function W7(n,t,e,r,s,o){switch(n){case 0:UA(t,e,s);break;case 1:VA(t,e,s,o);break;case 2:BA(t,e,r,s);break;case 3:jA(t,e,r,s,o);break;case 4:FA(t,e,r,s,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const K7=new Uint16Array([255]),Q7=new Uint8Array(K7.buffer),$7=Q7[0]===255;function X7(n){const{data:t,width:e,height:r,channels:s,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*s,f=new Uint8Array(r*e*h);let d=0;for(let v=0;v<7;v++){const A=u[v],T=Math.ceil((e-A.x)/A.xStep),b=Math.ceil((r-A.y)/A.yStep);if(T<=0||b<=0)continue;const M=T*h,j=new Uint8Array(M);for(let P=0;P<b;P++){const k=t[d++],$=t.subarray(d,d+M);d+=M;const nt=new Uint8Array(M);W7(k,$,nt,j,M,h),j.set(nt);for(let rt=0;rt<T;rt++){const vt=A.x+rt*A.xStep,Dt=A.y+P*A.yStep;if(!(vt>=e||Dt>=r))for(let G=0;G<h;G++)f[(Dt*e+vt)*h+G]=nt[rt*h+G]}}}if(o===16){const v=new Uint16Array(f.buffer);if($7)for(let A=0;A<v.length;A++)v[A]=J7(v[A]);return v}else return f}function J7(n){return(n&255)<<8|n>>8&255}const Z7=new Uint16Array([255]),tD=new Uint8Array(Z7.buffer),eD=tD[0]===255,nD=new Uint8Array(0);function qb(n){const{data:t,width:e,height:r,channels:s,depth:o}=n,u=Math.ceil(o/8)*s,h=Math.ceil(o/8*s*e),f=new Uint8Array(r*h);let d=nD,v=0,A,T;for(let b=0;b<r;b++){switch(A=t.subarray(v+1,v+1+h),T=f.subarray(b*h,(b+1)*h),t[v]){case 0:UA(A,T,h);break;case 1:VA(A,T,h,u);break;case 2:BA(A,T,d,h);break;case 3:jA(A,T,d,h,u);break;case 4:FA(A,T,d,h,u);break;default:throw new Error(`Unsupported filter: ${t[v]}`)}d=T,v+=h+1}if(o===16){const b=new Uint16Array(f.buffer);if(eD)for(let M=0;M<b.length;M++)b[M]=rD(b[M]);return b}else return f}function rD(n){return(n&255)<<8|n>>8&255}const $p=Uint8Array.of(137,80,78,71,13,10,26,10);function zb(n){if(!iD(n.readBytes($p.length)))throw new Error("wrong PNG signature")}function iD(n){if(n.length<$p.length)return!1;for(let t=0;t<$p.length;t++)if(n[t]!==$p[t])return!1;return!0}const aD="tEXt",sD=0,qA=new TextDecoder("latin1");function oD(n){if(uD(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const lD=/^[\u0000-\u00FF]*$/;function uD(n){if(!lD.test(n))throw new Error("invalid latin1 text")}function cD(n,t,e){const r=zA(t);n[r]=hD(t,e-r.length-1)}function zA(n){for(n.mark();n.readByte()!==sD;);const t=n.offset;n.reset();const e=qA.decode(n.readBytes(t-n.offset-1));return n.skip(1),oD(e),e}function hD(n,t){return qA.decode(n.readBytes(t))}const bs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},jg={UNKNOWN:-1,DEFLATE:0},Hb={UNKNOWN:-1,ADAPTIVE:0},Fg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Dp={NONE:0,BACKGROUND:1,PREVIOUS:2},qg={SOURCE:0,OVER:1};class fD extends W2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);const{checkCrc:r=!1}=e;this._checkCrc=r,this._inflator=new Bb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=jg.UNKNOWN,this._filterMethod=Hb.UNKNOWN,this._interlaceMethod=Fg.UNKNOWN,this._colorType=bs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(zb(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(zb(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const r=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case aD:cD(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?Fb(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const r=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?Fb(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=dD(this.readUint8());const e=this.readUint8();this._colorType=e;let r;switch(e){case bs.GREYSCALE:r=1;break;case bs.TRUECOLOUR:r=3;break;case bs.INDEXED_COLOUR:r=1;break;case bs.GREYSCALE_ALPHA:r=2;break;case bs.TRUECOLOUR_ALPHA:r=4;break;case bs.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==jg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<e;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,r=this.offset+this.byteOffset;if(r+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case bs.GREYSCALE:case bs.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break}case bs.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const r=this.readByte();this._palette[e].push(r)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case bs.UNKNOWN:case bs.GREYSCALE_ALPHA:case bs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const e=zA(this),r=this.readUint8();if(r!==jg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:z7(s)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:e,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=qb({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)e.data=r.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(r,s,e),this.addFrameDataToCanvas(e,r)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,r){switch(t.disposeOp){case Dp.NONE:break;case Dp.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const u=(s*t.width+o)*this._png.channels;for(let h=0;h<this._png.channels;h++)r.data[u+h]=0}break;case Dp.PREVIOUS:r.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const r=1<<this._png.depth,s=(o,u)=>{const h=((o+e.yOffset)*this._png.width+e.xOffset+u)*this._png.channels,f=(o*e.width+u)*this._png.channels;return{index:h,frameIndex:f}};switch(e.blendOp){case qg.SOURCE:for(let o=0;o<e.height;o++)for(let u=0;u<e.width;u++){const{index:h,frameIndex:f}=s(o,u);for(let d=0;d<this._png.channels;d++)t.data[h+d]=e.data[f+d]}break;case qg.OVER:for(let o=0;o<e.height;o++)for(let u=0;u<e.width;u++){const{index:h,frameIndex:f}=s(o,u);for(let d=0;d<this._png.channels;d++){const v=e.data[f+this._png.channels-1]/r,A=d%(this._png.channels-1)===0?1:e.data[f+d],T=Math.floor(v*A+(1-v)*t.data[h+d]);t.data[h+d]+=T}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Hb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Fg.NO_INTERLACE)this._png.data=qb({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Fg.ADAM7)this._png.data=X7({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Dp.NONE,blendOp:qg.SOURCE,data:t}),this._inflator=new Bb,this._writingDataChunks=!1}}function dD(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Gb;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Gb||(Gb={}));function pD(n,t){return new fD(n,t).decode()}var We=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function zg(){We.console&&typeof We.console.log=="function"&&We.console.log.apply(We.console,arguments)}var cr={log:zg,warn:function(n){We.console&&(typeof We.console.warn=="function"?We.console.warn.apply(We.console,arguments):zg.call(null,arguments))},error:function(n){We.console&&(typeof We.console.error=="function"?We.console.error.apply(We.console,arguments):zg(n))}};function Hg(n,t,e){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){fc(r.response,t,e)},r.onerror=function(){cr.error("could not download file")},r.send()}function Yb(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function kp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var fc=We.saveAs||((typeof window>"u"?"undefined":Xn(window))!=="object"||window!==We?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var r=We.URL||We.webkitURL,s=document.createElement("a");t=t||n.name||"download",s.download=t,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?Yb(s.href)?Hg(n,t,e):kp(s,s.target="_blank"):kp(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){kp(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(Yb(n))Hg(n,t,e);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){kp(r)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:Xn(o)!=="object"&&(cr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,e),t)}:function(n,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Hg(n,t,e);var s=n.type==="application/octet-stream",o=/constructor/i.test(We.HTMLElement)||We.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&o)&&(typeof FileReader>"u"?"undefined":Xn(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var v=h.result;v=u?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=v:location=v,r=null},h.readAsDataURL(n)}else{var f=We.URL||We.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function HA(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],r=0;r<e.length;r++){var s=e[r].re,o=e[r].process,u=s.exec(n);u&&(t=o(u),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+h+f+d}}var Xp=We.atob.bind(We),Wb=We.btoa.bind(We);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Gg(n,t){var e=n[0],r=n[1],s=n[2],o=n[3];e=ga(e,r,s,o,t[0],7,-680876936),o=ga(o,e,r,s,t[1],12,-389564586),s=ga(s,o,e,r,t[2],17,606105819),r=ga(r,s,o,e,t[3],22,-1044525330),e=ga(e,r,s,o,t[4],7,-176418897),o=ga(o,e,r,s,t[5],12,1200080426),s=ga(s,o,e,r,t[6],17,-1473231341),r=ga(r,s,o,e,t[7],22,-45705983),e=ga(e,r,s,o,t[8],7,1770035416),o=ga(o,e,r,s,t[9],12,-1958414417),s=ga(s,o,e,r,t[10],17,-42063),r=ga(r,s,o,e,t[11],22,-1990404162),e=ga(e,r,s,o,t[12],7,1804603682),o=ga(o,e,r,s,t[13],12,-40341101),s=ga(s,o,e,r,t[14],17,-1502002290),e=ya(e,r=ga(r,s,o,e,t[15],22,1236535329),s,o,t[1],5,-165796510),o=ya(o,e,r,s,t[6],9,-1069501632),s=ya(s,o,e,r,t[11],14,643717713),r=ya(r,s,o,e,t[0],20,-373897302),e=ya(e,r,s,o,t[5],5,-701558691),o=ya(o,e,r,s,t[10],9,38016083),s=ya(s,o,e,r,t[15],14,-660478335),r=ya(r,s,o,e,t[4],20,-405537848),e=ya(e,r,s,o,t[9],5,568446438),o=ya(o,e,r,s,t[14],9,-1019803690),s=ya(s,o,e,r,t[3],14,-187363961),r=ya(r,s,o,e,t[8],20,1163531501),e=ya(e,r,s,o,t[13],5,-1444681467),o=ya(o,e,r,s,t[2],9,-51403784),s=ya(s,o,e,r,t[7],14,1735328473),e=va(e,r=ya(r,s,o,e,t[12],20,-1926607734),s,o,t[5],4,-378558),o=va(o,e,r,s,t[8],11,-2022574463),s=va(s,o,e,r,t[11],16,1839030562),r=va(r,s,o,e,t[14],23,-35309556),e=va(e,r,s,o,t[1],4,-1530992060),o=va(o,e,r,s,t[4],11,1272893353),s=va(s,o,e,r,t[7],16,-155497632),r=va(r,s,o,e,t[10],23,-1094730640),e=va(e,r,s,o,t[13],4,681279174),o=va(o,e,r,s,t[0],11,-358537222),s=va(s,o,e,r,t[3],16,-722521979),r=va(r,s,o,e,t[6],23,76029189),e=va(e,r,s,o,t[9],4,-640364487),o=va(o,e,r,s,t[12],11,-421815835),s=va(s,o,e,r,t[15],16,530742520),e=_a(e,r=va(r,s,o,e,t[2],23,-995338651),s,o,t[0],6,-198630844),o=_a(o,e,r,s,t[7],10,1126891415),s=_a(s,o,e,r,t[14],15,-1416354905),r=_a(r,s,o,e,t[5],21,-57434055),e=_a(e,r,s,o,t[12],6,1700485571),o=_a(o,e,r,s,t[3],10,-1894986606),s=_a(s,o,e,r,t[10],15,-1051523),r=_a(r,s,o,e,t[1],21,-2054922799),e=_a(e,r,s,o,t[8],6,1873313359),o=_a(o,e,r,s,t[15],10,-30611744),s=_a(s,o,e,r,t[6],15,-1560198380),r=_a(r,s,o,e,t[13],21,1309151649),e=_a(e,r,s,o,t[4],6,-145523070),o=_a(o,e,r,s,t[11],10,-1120210379),s=_a(s,o,e,r,t[2],15,718787259),r=_a(r,s,o,e,t[9],21,-343485551),n[0]=Lu(e,n[0]),n[1]=Lu(r,n[1]),n[2]=Lu(s,n[2]),n[3]=Lu(o,n[3])}function $m(n,t,e,r,s,o){return t=Lu(Lu(t,n),Lu(r,o)),Lu(t<<s|t>>>32-s,e)}function ga(n,t,e,r,s,o,u){return $m(t&e|~t&r,n,t,s,o,u)}function ya(n,t,e,r,s,o,u){return $m(t&r|e&~r,n,t,s,o,u)}function va(n,t,e,r,s,o,u){return $m(t^e^r,n,t,s,o,u)}function _a(n,t,e,r,s,o,u){return $m(e^(t|~r),n,t,s,o,u)}function GA(n){var t,e=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)Gg(r,mD(n.substring(t-64,t)));n=n.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)s[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(Gg(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*e,Gg(r,s),r}function mD(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}var Kb="0123456789abcdef".split("");function gD(n){for(var t="",e=0;e<4;e++)t+=Kb[n>>8*e+4&15]+Kb[n>>8*e&15];return t}function yD(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function D0(n){return GA(n).map(yD).join("")}var vD=(function(n){for(var t=0;t<n.length;t++)n[t]=gD(n[t]);return n.join("")})(GA("hello"))!="5d41402abc4b2a76b9719d911017c592";function Lu(n,t){if(vD){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function k0(n,t){var e,r,s,o;if(n!==e){for(var u=(s=n,o=1+(256/n.length|0),new Array(o+1).join(s)),h=[],f=0;f<256;f++)h[f]=f;var d=0;for(f=0;f<256;f++){var v=h[f];d=(d+v+u.charCodeAt(f))%256,h[f]=h[d],h[d]=v}e=n,r=h}else h=r;var A=t.length,T=0,b=0,M="";for(f=0;f<A;f++)b=(b+(v=h[T=(T+1)%256]))%256,h[T]=h[b],h[b]=v,u=h[(h[T]+h[b])%256],M+=String.fromCharCode(t.charCodeAt(f)^u);return M}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Qb={print:4,modify:8,copy:16,"annot-forms":32};function bh(n,t,e,r){this.v=1,this.r=2;var s=192;n.forEach(function(h){if(Qb.perm!==void 0)throw new Error("Invalid permission: "+h);s+=Qb[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),u=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^s)),this.encryptionKey=D0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=k0(this.encryptionKey,this.padding)}function wh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,r=0;r<e;r++){var s=n.charCodeAt(r);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[r]}return t}function $b(n){if(Xn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,s){if(s=s||!1,typeof e!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[r,!!s],o},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in t[e]){var u=t[e][o];try{u[0].apply(n,r)}catch(h){We.console&&cr.error("jsPDF PubSub Error",h.message,h)}u[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Sm(n){if(!(this instanceof Sm))return new Sm(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function YA(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function dc(n,t,e,r,s){if(!(this instanceof dc))return new dc(n,t,e,r,s);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,YA.call(this,r,s)}function Eh(n,t,e,r,s){if(!(this instanceof Eh))return new Eh(n,t,e,r,s);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,YA.call(this,r,s)}function Ee(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],u=[],h=1,f=16,d="S",v=null;Xn(n=n||{})==="object"&&(e=n.orientation,r=n.unit||r,s=n.format||s,o=n.compress||n.compressPdf||o,(v=n.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),r=r||"mm",e=(""+(e||"P")).toLowerCase();var A=n.putOnlyUsedFonts||!1,T={},b={internal:{},__private__:{}};b.__private__.PubSub=$b;var M="1.3",j=b.__private__.getPdfVersion=function(){return M};b.__private__.setPdfVersion=function(w){M=w};var P={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return P};var k=b.__private__.getPageFormat=function(w){return P[w]};s=s||"a4";var $="compat",nt="advanced",rt=$;function vt(){this.saveGraphicsState(),at(new Ae(ke,0,0,-ke,0,La()*ke).toString()+" cm"),this.setFontSize(this.getFontSize()/ke),d="n",rt=nt}function Dt(){this.restoreGraphicsState(),d="S",rt=$}var G=b.__private__.combineFontStyleAndFontWeight=function(w,V){if(w=="bold"&&V=="normal"||w=="bold"&&V==400||w=="normal"&&V=="italic"||w=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(w=V==400||V==="normal"?w==="italic"?"italic":"normal":V!=700&&V!=="bold"||w!=="normal"?(V==700?"bold":V)+""+w:"bold"),w};b.advancedAPI=function(w){var V=rt===$;return V&&vt.call(this),typeof w!="function"||(w(this),V&&Dt.call(this)),this},b.compatAPI=function(w){var V=rt===nt;return V&&Dt.call(this),typeof w!="function"||(w(this),V&&vt.call(this)),this},b.isAdvancedAPI=function(){return rt===nt};var U,I=function(w){if(rt!==nt)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=b.roundToPrecision=b.__private__.roundToPrecision=function(w,V){var tt=t||V;if(isNaN(w)||isNaN(tt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(tt).replace(/0+$/,"")};U=b.hpf=b.__private__.hpf=typeof f=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return z(w,f)}:f==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return z(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return z(w,16)};var x=b.f2=b.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return z(w,2)},D=b.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return z(w,3)},O=b.scale=b.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return rt===$?w*ke:rt===nt?w:void 0},st=function(w){return O((function(V){return rt===$?La()-V:rt===nt?V:void 0})(w))};b.__private__.setPrecision=b.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(t=parseInt(w,10))};var At,it="00000000000000000000000000000000",dt=b.__private__.getFileId=function(){return it},ht=b.__private__.setFileId=function(w){return it=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():it.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(Yn=new bh(v.userPermissions,v.userPassword,v.ownerPassword,it)),it};b.setFileId=function(w){return ht(w),this},b.getFileId=function(){return dt()};var Nt=b.__private__.convertDateToPDFDate=function(w){var V=w.getTimezoneOffset(),tt=V<0?"+":"-",ut=Math.floor(Math.abs(V/60)),yt=Math.abs(V%60),Ut=[tt,X(ut),"'",X(yt),"'"].join("");return["D:",w.getFullYear(),X(w.getMonth()+1),X(w.getDate()),X(w.getHours()),X(w.getMinutes()),X(w.getSeconds()),Ut].join("")},zt=b.__private__.convertPDFDateToDate=function(w){var V=parseInt(w.substr(2,4),10),tt=parseInt(w.substr(6,2),10)-1,ut=parseInt(w.substr(8,2),10),yt=parseInt(w.substr(10,2),10),Ut=parseInt(w.substr(12,2),10),$t=parseInt(w.substr(14,2),10);return new Date(V,tt,ut,yt,Ut,$t,0)},J=b.__private__.setCreationDate=function(w){var V;if(w===void 0&&(w=new Date),w instanceof Date)V=Nt(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=w}return At=V},L=b.__private__.getCreationDate=function(w){var V=At;return w==="jsDate"&&(V=zt(At)),V};b.setCreationDate=function(w){return J(w),this},b.getCreationDate=function(w){return L(w)};var Y,X=b.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},ot=b.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},ct=0,gt=[],It=[],St=0,jt=[],Xt=[],ne=!1,re=It;b.__private__.setCustomOutputDestination=function(w){ne=!0,re=w};var Ot=function(w){ne||(re=w)};b.__private__.resetCustomOutputDestination=function(){ne=!1,re=It};var at=b.__private__.out=function(w){return w=w.toString(),St+=w.length+1,re.push(w),re},Xe=b.__private__.write=function(w){return at(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},qe=b.__private__.getArrayBuffer=function(w){for(var V=w.length,tt=new ArrayBuffer(V),ut=new Uint8Array(tt);V--;)ut[V]=w.charCodeAt(V);return tt},we=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return we};var Wt=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(w){return Wt=rt===nt?w/ke:w,this};var ie,ee=b.__private__.getFontSize=b.getFontSize=function(){return rt===$?Wt:Wt*ke},Qe=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(w){return Qe=w,this},b.__private__.getR2L=b.getR2L=function(){return Qe};var _e,Ge=b.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))ie=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');ie=w}else ie=parseInt(w,10)};b.__private__.getZoomMode=function(){return ie};var Pe,Ve=b.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');_e=w};b.__private__.getPageMode=function(){return _e};var Sn=b.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');Pe=w};b.__private__.getLayoutMode=function(){return Pe},b.__private__.setDisplayMode=b.setDisplayMode=function(w,V,tt){return Ge(w),Sn(V),Ve(tt),this};var Me={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(w){if(Object.keys(Me).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Me[w]},b.__private__.getDocumentProperties=function(){return Me},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(w){for(var V in Me)Me.hasOwnProperty(V)&&w[V]&&(Me[V]=w[V]);return this},b.__private__.setDocumentProperty=function(w,V){if(Object.keys(Me).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Me[w]=V};var be,ke,ye,Un,nn,ae={},Se={},Be=[],xe={},an={},ze={},Ln={},sr=null,He=0,Te=[],sn=new $b(b),pi=n.hotfixes||[],ii={},Ua={},Wr=[],Ae=function w(V,tt,ut,yt,Ut,$t){if(!(this instanceof w))return new w(V,tt,ut,yt,Ut,$t);isNaN(V)&&(V=1),isNaN(tt)&&(tt=0),isNaN(ut)&&(ut=0),isNaN(yt)&&(yt=1),isNaN(Ut)&&(Ut=0),isNaN($t)&&($t=0),this._matrix=[V,tt,ut,yt,Ut,$t]};Object.defineProperty(Ae.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Ae.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Ae.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Ae.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Ae.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Ae.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Ae.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Ae.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Ae.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Ae.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Ae.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Ae.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Ae.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ae.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ae.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ae.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ae.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(w)},Ae.prototype.multiply=function(w){var V=w.sx*this.sx+w.shy*this.shx,tt=w.sx*this.shy+w.shy*this.sy,ut=w.shx*this.sx+w.sy*this.shx,yt=w.shx*this.shy+w.sy*this.sy,Ut=w.tx*this.sx+w.ty*this.shx+this.tx,$t=w.tx*this.shy+w.ty*this.sy+this.ty;return new Ae(V,tt,ut,yt,Ut,$t)},Ae.prototype.decompose=function(){var w=this.sx,V=this.shy,tt=this.shx,ut=this.sy,yt=this.tx,Ut=this.ty,$t=Math.sqrt(w*w+V*V),ue=(w/=$t)*tt+(V/=$t)*ut;tt-=w*ue,ut-=V*ue;var de=Math.sqrt(tt*tt+ut*ut);return ue/=de,w*(ut/=de)<V*(tt/=de)&&(w=-w,V=-V,ue=-ue,$t=-$t),{scale:new Ae($t,0,0,de,0,0),translate:new Ae(1,0,0,1,yt,Ut),rotate:new Ae(w,V,-V,w,0,0),skew:new Ae(1,0,ue,1,0,0)}},Ae.prototype.toString=function(w){return this.join(" ")},Ae.prototype.inversed=function(){var w=this.sx,V=this.shy,tt=this.shx,ut=this.sy,yt=this.tx,Ut=this.ty,$t=1/(w*ut-V*tt),ue=ut*$t,de=-V*$t,Ce=-tt*$t,ve=w*$t;return new Ae(ue,de,Ce,ve,-ue*yt-Ce*Ut,-de*yt-ve*Ut)},Ae.prototype.applyToPoint=function(w){var V=w.x*this.sx+w.y*this.shx+this.tx,tt=w.x*this.shy+w.y*this.sy+this.ty;return new Pi(V,tt)},Ae.prototype.applyToRectangle=function(w){var V=this.applyToPoint(w),tt=this.applyToPoint(new Pi(w.x+w.w,w.y+w.h));return new ja(V.x,V.y,tt.x-V.x,tt.y-V.y)},Ae.prototype.clone=function(){var w=this.sx,V=this.shy,tt=this.shx,ut=this.sy,yt=this.tx,Ut=this.ty;return new Ae(w,V,tt,ut,yt,Ut)},b.Matrix=Ae;var ss=b.matrixMult=function(w,V){return V.multiply(w)},Yi=new Ae(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Yi;var Ci=function(w,V){if(!an[w]){var tt=(V instanceof dc?"Sh":"P")+(Object.keys(xe).length+1).toString(10);V.id=tt,an[w]=tt,xe[tt]=V,sn.publish("addPattern",V)}};b.ShadingPattern=dc,b.TilingPattern=Eh,b.addShadingPattern=function(w,V){return I("addShadingPattern()"),Ci(w,V),this},b.beginTilingPattern=function(w){I("beginTilingPattern()"),Fa(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},b.endTilingPattern=function(w,V){I("endTilingPattern()"),V.stream=Xt[Y].join(`
`),Ci(w,V),sn.publish("endTilingPattern",V),Wr.pop().restore()};var Ri,qn=b.__private__.newObject=function(){var w=Jn();return Mr(w,!0),w},Jn=b.__private__.newObjectDeferred=function(){return ct++,gt[ct]=function(){return St},ct},Mr=function(w,V){return V=typeof V=="boolean"&&V,gt[w]=St,V&&at(w+" 0 obj"),w},mi=b.__private__.newAdditionalObject=function(){var w={objId:Jn(),content:""};return jt.push(w),w},ai=Jn(),Dn=Jn(),Gn=b.__private__.decodeColorString=function(w){var V=w.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length!==5||V[4]!=="k"&&V[4]!=="K"||(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var tt=parseFloat(V[0]);V=[tt,tt,tt,"r"]}for(var ut="#",yt=0;yt<3;yt++)ut+=("0"+Math.floor(255*parseFloat(V[yt])).toString(16)).slice(-2);return ut},Ur=b.__private__.encodeColorString=function(w){var V;typeof w=="string"&&(w={ch1:w});var tt=w.ch1,ut=w.ch2,yt=w.ch3,Ut=w.ch4,$t=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof tt=="string"&&tt.charAt(0)!=="#"){var ue=new HA(tt);if(ue.ok)tt=ue.toHex();else if(!/^\d*\.?\d*$/.test(tt))throw new Error('Invalid color "'+tt+'" passed to jsPDF.encodeColorString.')}if(typeof tt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(tt)&&(tt="#"+tt[1]+tt[1]+tt[2]+tt[2]+tt[3]+tt[3]),typeof tt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(tt)){var de=parseInt(tt.substr(1),16);tt=de>>16&255,ut=de>>8&255,yt=255&de}if(ut===void 0||Ut===void 0&&tt===ut&&ut===yt)V=typeof tt=="string"?tt+" "+$t[0]:w.precision===2?x(tt/255)+" "+$t[0]:D(tt/255)+" "+$t[0];else if(Ut===void 0||Xn(Ut)==="object"){if(Ut&&!isNaN(Ut.a)&&Ut.a===0)return["1.","1.","1.",$t[1]].join(" ");V=typeof tt=="string"?[tt,ut,yt,$t[1]].join(" "):w.precision===2?[x(tt/255),x(ut/255),x(yt/255),$t[1]].join(" "):[D(tt/255),D(ut/255),D(yt/255),$t[1]].join(" ")}else V=typeof tt=="string"?[tt,ut,yt,Ut,$t[2]].join(" "):w.precision===2?[x(tt),x(ut),x(yt),x(Ut),$t[2]].join(" "):[D(tt),D(ut),D(yt),D(Ut),$t[2]].join(" ");return V},Ii=b.__private__.getFilters=function(){return u},la=b.__private__.putStream=function(w){var V=(w=w||{}).data||"",tt=w.filters||Ii(),ut=w.alreadyAppliedFilters||[],yt=w.addLength1||!1,Ut=V.length,$t=w.objectId,ue=function(S){return S};if(v!==null&&$t===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(ue=Yn.encryptor($t,0));var de={};tt===!0&&(tt=["FlateEncode"]);var Ce=w.additionalKeyValues||[],ve=(de=Ee.API.processDataByFilters!==void 0?Ee.API.processDataByFilters(V,tt):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(ut)?ut.join(" "):ut.toString());if(de.data.length!==0&&(Ce.push({key:"Length",value:de.data.length}),yt===!0&&Ce.push({key:"Length1",value:Ut})),ve.length!=0)if(ve.split("/").length-1==1)Ce.push({key:"Filter",value:ve});else{Ce.push({key:"Filter",value:"["+ve+"]"});for(var gn=0;gn<Ce.length;gn+=1)if(Ce[gn].key==="DecodeParms"){for(var Zn=[],zn=0;zn<de.reverseChain.split("/").length-1;zn+=1)Zn.push("null");Zn.push(Ce[gn].value),Ce[gn].value="["+Zn.join(" ")+"]"}}at("<<");for(var m=0;m<Ce.length;m++)at("/"+Ce[m].key+" "+Ce[m].value);at(">>"),de.data.length!==0&&(at("stream"),at(ue(de.data)),at("endstream"))},Es=b.__private__.putPage=function(w){var V=w.number,tt=w.data,ut=w.objId,yt=w.contentsObjId;Mr(ut,!0),at("<</Type /Page"),at("/Parent "+w.rootDictionaryObjId+" 0 R"),at("/Resources "+w.resourceDictionaryObjId+" 0 R"),at("/MediaBox ["+parseFloat(U(w.mediaBox.bottomLeftX))+" "+parseFloat(U(w.mediaBox.bottomLeftY))+" "+U(w.mediaBox.topRightX)+" "+U(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&at("/CropBox ["+U(w.cropBox.bottomLeftX)+" "+U(w.cropBox.bottomLeftY)+" "+U(w.cropBox.topRightX)+" "+U(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&at("/BleedBox ["+U(w.bleedBox.bottomLeftX)+" "+U(w.bleedBox.bottomLeftY)+" "+U(w.bleedBox.topRightX)+" "+U(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&at("/TrimBox ["+U(w.trimBox.bottomLeftX)+" "+U(w.trimBox.bottomLeftY)+" "+U(w.trimBox.topRightX)+" "+U(w.trimBox.topRightY)+"]"),w.artBox!==null&&at("/ArtBox ["+U(w.artBox.bottomLeftX)+" "+U(w.artBox.bottomLeftY)+" "+U(w.artBox.topRightX)+" "+U(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&at("/UserUnit "+w.userUnit),sn.publish("putPage",{objId:ut,pageContext:Te[V],pageNumber:V,page:tt}),at("/Contents "+yt+" 0 R"),at(">>"),at("endobj");var Ut=tt.join(`
`);return rt===nt&&(Ut+=`
Q`),Mr(yt,!0),la({data:Ut,filters:Ii(),objectId:yt}),at("endobj"),ut},Ea=b.__private__.putPages=function(){var w,V,tt=[];for(w=1;w<=He;w++)Te[w].objId=Jn(),Te[w].contentsObjId=Jn();for(w=1;w<=He;w++)tt.push(Es({number:w,data:Xt[w],objId:Te[w].objId,contentsObjId:Te[w].contentsObjId,mediaBox:Te[w].mediaBox,cropBox:Te[w].cropBox,bleedBox:Te[w].bleedBox,trimBox:Te[w].trimBox,artBox:Te[w].artBox,userUnit:Te[w].userUnit,rootDictionaryObjId:ai,resourceDictionaryObjId:Dn}));Mr(ai,!0),at("<</Type /Pages");var ut="/Kids [";for(V=0;V<He;V++)ut+=tt[V]+" 0 R ";at(ut+"]"),at("/Count "+He),at(">>"),at("endobj"),sn.publish("postPutPages")},Li=function(w){sn.publish("putFont",{font:w,out:at,newObject:qn,putStream:la}),w.isAlreadyPutted!==!0&&(w.objectNumber=qn(),at("<<"),at("/Type /Font"),at("/BaseFont /"+wh(w.postScriptName)),at("/Subtype /Type1"),typeof w.encoding=="string"&&at("/Encoding /"+w.encoding),at("/FirstChar 32"),at("/LastChar 255"),at(">>"),at("endobj"))},os=function(w){w.objectNumber=qn();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[U(w.x),U(w.y),U(w.x+w.width),U(w.y+w.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var tt=w.pages[1].join(`
`);la({data:tt,additionalKeyValues:V,objectId:w.objectNumber}),at("endobj")},Wi=function(w,V){V||(V=21);var tt=qn(),ut=(function($t,ue){var de,Ce=[],ve=1/(ue-1);for(de=0;de<1;de+=ve)Ce.push(de);if(Ce.push(1),$t[0].offset!=0){var gn={offset:0,color:$t[0].color};$t.unshift(gn)}if($t[$t.length-1].offset!=1){var Zn={offset:1,color:$t[$t.length-1].color};$t.push(Zn)}for(var zn="",m=0,S=0;S<Ce.length;S++){for(de=Ce[S];de>$t[m+1].offset;)m++;var R=$t[m].offset,K=(de-R)/($t[m+1].offset-R),bt=$t[m].color,Ct=$t[m+1].color;zn+=ot(Math.round((1-K)*bt[0]+K*Ct[0]).toString(16))+ot(Math.round((1-K)*bt[1]+K*Ct[1]).toString(16))+ot(Math.round((1-K)*bt[2]+K*Ct[2]).toString(16))}return zn.trim()})(w.colors,V),yt=[];yt.push({key:"FunctionType",value:"0"}),yt.push({key:"Domain",value:"[0.0 1.0]"}),yt.push({key:"Size",value:"["+V+"]"}),yt.push({key:"BitsPerSample",value:"8"}),yt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),yt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),la({data:ut,additionalKeyValues:yt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:tt}),at("endobj"),w.objectNumber=qn(),at("<< /ShadingType "+w.type),at("/ColorSpace /DeviceRGB");var Ut="/Coords ["+U(parseFloat(w.coords[0]))+" "+U(parseFloat(w.coords[1]))+" ";w.type===2?Ut+=U(parseFloat(w.coords[2]))+" "+U(parseFloat(w.coords[3])):Ut+=U(parseFloat(w.coords[2]))+" "+U(parseFloat(w.coords[3]))+" "+U(parseFloat(w.coords[4]))+" "+U(parseFloat(w.coords[5])),at(Ut+="]"),w.matrix&&at("/Matrix ["+w.matrix.toString()+"]"),at("/Function "+tt+" 0 R"),at("/Extend [true true]"),at(">>"),at("endobj")},gi=function(w,V){var tt=Jn(),ut=qn();V.push({resourcesOid:tt,objectOid:ut}),w.objectNumber=ut;var yt=[];yt.push({key:"Type",value:"/Pattern"}),yt.push({key:"PatternType",value:"1"}),yt.push({key:"PaintType",value:"1"}),yt.push({key:"TilingType",value:"1"}),yt.push({key:"BBox",value:"["+w.boundingBox.map(U).join(" ")+"]"}),yt.push({key:"XStep",value:U(w.xStep)}),yt.push({key:"YStep",value:U(w.yStep)}),yt.push({key:"Resources",value:tt+" 0 R"}),w.matrix&&yt.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),la({data:w.stream,additionalKeyValues:yt,objectId:w.objectNumber}),at("endobj")},Ki=function(w){for(var V in w.objectNumber=qn(),at("<<"),w)switch(V){case"opacity":at("/ca "+x(w[V]));break;case"stroke-opacity":at("/CA "+x(w[V]))}at(">>"),at("endobj")},ua=function(w){Mr(w.resourcesOid,!0),at("<<"),at("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var V in at("/Font <<"),ae)ae.hasOwnProperty(V)&&(A===!1||A===!0&&T.hasOwnProperty(V))&&at("/"+V+" "+ae[V].objectNumber+" 0 R");at(">>")})(),(function(){if(Object.keys(xe).length>0){for(var V in at("/Shading <<"),xe)xe.hasOwnProperty(V)&&xe[V]instanceof dc&&xe[V].objectNumber>=0&&at("/"+V+" "+xe[V].objectNumber+" 0 R");sn.publish("putShadingPatternDict"),at(">>")}})(),(function(V){if(Object.keys(xe).length>0){for(var tt in at("/Pattern <<"),xe)xe.hasOwnProperty(tt)&&xe[tt]instanceof b.TilingPattern&&xe[tt].objectNumber>=0&&xe[tt].objectNumber<V&&at("/"+tt+" "+xe[tt].objectNumber+" 0 R");sn.publish("putTilingPatternDict"),at(">>")}})(w.objectOid),(function(){if(Object.keys(ze).length>0){var V;for(V in at("/ExtGState <<"),ze)ze.hasOwnProperty(V)&&ze[V].objectNumber>=0&&at("/"+V+" "+ze[V].objectNumber+" 0 R");sn.publish("putGStateDict"),at(">>")}})(),(function(){for(var V in at("/XObject <<"),ii)ii.hasOwnProperty(V)&&ii[V].objectNumber>=0&&at("/"+V+" "+ii[V].objectNumber+" 0 R");sn.publish("putXobjectDict"),at(">>")})(),at(">>"),at("endobj")},fr=function(w){Se[w.fontName]=Se[w.fontName]||{},Se[w.fontName][w.fontStyle]=w.id},_o=function(w,V,tt,ut,yt){var Ut={id:"F"+(Object.keys(ae).length+1).toString(10),postScriptName:w,fontName:V,fontStyle:tt,encoding:ut,isStandardFont:yt||!1,metadata:{}};return sn.publish("addFont",{font:Ut,instance:this}),ae[Ut.id]=Ut,fr(Ut),Ut.id},Di=b.__private__.pdfEscape=b.pdfEscape=function(w,V){return(function(tt,ut){var yt,Ut,$t,ue,de,Ce,ve,gn,Zn;if($t=(ut=ut||{}).sourceEncoding||"Unicode",de=ut.outputEncoding,(ut.autoencode||de)&&ae[be].metadata&&ae[be].metadata[$t]&&ae[be].metadata[$t].encoding&&(ue=ae[be].metadata[$t].encoding,!de&&ae[be].encoding&&(de=ae[be].encoding),!de&&ue.codePages&&(de=ue.codePages[0]),typeof de=="string"&&(de=ue[de]),de)){for(ve=!1,Ce=[],yt=0,Ut=tt.length;yt<Ut;yt++)(gn=de[tt.charCodeAt(yt)])?Ce.push(String.fromCharCode(gn)):Ce.push(tt[yt]),Ce[yt].charCodeAt(0)>>8&&(ve=!0);tt=Ce.join("")}for(yt=tt.length;ve===void 0&&yt!==0;)tt.charCodeAt(yt-1)>>8&&(ve=!0),yt--;if(!ve)return tt;for(Ce=ut.noBOM?[]:[254,255],yt=0,Ut=tt.length;yt<Ut;yt++){if((Zn=(gn=tt.charCodeAt(yt))>>8)>>8)throw new Error("Character at position "+yt+" of string '"+tt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ce.push(Zn),Ce.push(gn-(Zn<<8))}return String.fromCharCode.apply(void 0,Ce)})(w,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ca=b.__private__.beginPage=function(w){Xt[++He]=[],Te[He]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},bo(He),Ot(Xt[Y])},Sa=function(w,V){var tt,ut,yt;switch(e=V||e,typeof w=="string"&&(tt=k(w.toLowerCase()),Array.isArray(tt)&&(ut=tt[0],yt=tt[1])),Array.isArray(w)&&(ut=w[0]*ke,yt=w[1]*ke),isNaN(ut)&&(ut=s[0],yt=s[1]),(ut>14400||yt>14400)&&(cr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ut=Math.min(14400,ut),yt=Math.min(14400,yt)),s=[ut,yt],e.substr(0,1)){case"l":yt>ut&&(s=[yt,ut]);break;case"p":ut>yt&&(s=[yt,ut])}ca(s),Va(Oi),at($i),Xi!==0&&at(Xi+" J"),xr!==0&&at(xr+" j"),sn.publish("addPage",{pageNumber:He})},Hs=function(w){w>0&&w<=He&&(Xt.splice(w,1),Te.splice(w,1),He--,Y>He&&(Y=He),this.setPage(Y))},bo=function(w){w>0&&w<=He&&(Y=w)},wo=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Xt.length-1},ol=function(w,V,tt){var ut,yt=void 0;return tt=tt||{},w=w!==void 0?w:ae[be].fontName,V=V!==void 0?V:ae[be].fontStyle,ut=w.toLowerCase(),Se[ut]!==void 0&&Se[ut][V]!==void 0?yt=Se[ut][V]:Se[w]!==void 0&&Se[w][V]!==void 0?yt=Se[w][V]:tt.disableWarning===!1&&cr.warn("Unable to look up font label for font '"+w+"', '"+V+"'. Refer to getFontList() for available fonts."),yt||tt.noFallback||(yt=Se.times[V])==null&&(yt=Se.times.normal),yt},ls=b.__private__.putInfo=function(){var w=qn(),V=function(ut){return ut};for(var tt in v!==null&&(V=Yn.encryptor(w,0)),at("<<"),at("/Producer ("+Di(V("jsPDF "+Ee.version))+")"),Me)Me.hasOwnProperty(tt)&&Me[tt]&&at("/"+tt.substr(0,1).toUpperCase()+tt.substr(1)+" ("+Di(V(Me[tt]))+")");at("/CreationDate ("+Di(V(At))+")"),at(">>"),at("endobj")},Qi=b.__private__.putCatalog=function(w){var V=(w=w||{}).rootDictionaryObjId||ai;switch(qn(),at("<<"),at("/Type /Catalog"),at("/Pages "+V+" 0 R"),ie||(ie="fullwidth"),ie){case"fullwidth":at("/OpenAction [3 0 R /FitH null]");break;case"fullheight":at("/OpenAction [3 0 R /FitV null]");break;case"fullpage":at("/OpenAction [3 0 R /Fit]");break;case"original":at("/OpenAction [3 0 R /XYZ null null 1]");break;default:var tt=""+ie;tt.substr(tt.length-1)==="%"&&(ie=parseInt(ie)/100),typeof ie=="number"&&at("/OpenAction [3 0 R /XYZ null null "+x(ie)+"]")}switch(Pe||(Pe="continuous"),Pe){case"continuous":at("/PageLayout /OneColumn");break;case"single":at("/PageLayout /SinglePage");break;case"two":case"twoleft":at("/PageLayout /TwoColumnLeft");break;case"tworight":at("/PageLayout /TwoColumnRight")}_e&&at("/PageMode /"+_e),sn.publish("putCatalog"),at(">>"),at("endobj")},on=b.__private__.putTrailer=function(){at("trailer"),at("<<"),at("/Size "+(ct+1)),at("/Root "+ct+" 0 R"),at("/Info "+(ct-1)+" 0 R"),v!==null&&at("/Encrypt "+Yn.oid+" 0 R"),at("/ID [ <"+it+"> <"+it+"> ]"),at(">>")},Tr=b.__private__.putHeader=function(){at("%PDF-"+M),at("%")},us=b.__private__.putXRef=function(){var w="0000000000";at("xref"),at("0 "+(ct+1)),at("0000000000 65535 f ");for(var V=1;V<=ct;V++)typeof gt[V]=="function"?at((w+gt[V]()).slice(-10)+" 00000 n "):gt[V]!==void 0?at((w+gt[V]).slice(-10)+" 00000 n "):at("0000000000 00000 n ")},Ta=b.__private__.buildDocument=function(){var w;ct=0,St=0,It=[],gt=[],jt=[],ai=Jn(),Dn=Jn(),Ot(It),sn.publish("buildDocument"),Tr(),Ea(),(function(){sn.publish("putAdditionalObjects");for(var tt=0;tt<jt.length;tt++){var ut=jt[tt];Mr(ut.objId,!0),at(ut.content),at("endobj")}sn.publish("postPutAdditionalObjects")})(),w=[],(function(){for(var tt in ae)ae.hasOwnProperty(tt)&&(A===!1||A===!0&&T.hasOwnProperty(tt))&&Li(ae[tt])})(),(function(){var tt;for(tt in ze)ze.hasOwnProperty(tt)&&Ki(ze[tt])})(),(function(){for(var tt in ii)ii.hasOwnProperty(tt)&&os(ii[tt])})(),(function(tt){var ut;for(ut in xe)xe.hasOwnProperty(ut)&&(xe[ut]instanceof dc?Wi(xe[ut]):xe[ut]instanceof Eh&&gi(xe[ut],tt))})(w),sn.publish("putResources"),w.forEach(ua),ua({resourcesOid:Dn,objectOid:Number.MAX_SAFE_INTEGER}),sn.publish("postPutResources"),v!==null&&(Yn.oid=qn(),at("<<"),at("/Filter /Standard"),at("/V "+Yn.v),at("/R "+Yn.r),at("/U <"+Yn.toHexString(Yn.U)+">"),at("/O <"+Yn.toHexString(Yn.O)+">"),at("/P "+Yn.P),at(">>"),at("endobj")),ls(),Qi();var V=St;return us(),on(),at("startxref"),at(""+V),at("%%EOF"),Ot(Xt[Y]),It.join(`
`)},fn=b.__private__.getBlob=function(w){return new Blob([qe(w)],{type:"application/pdf"})},yi=b.output=b.__private__.output=(Ri=function(w,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",w){case void 0:return Ta();case"save":b.save(V.filename);break;case"arraybuffer":return qe(Ta());case"blob":return fn(Ta());case"bloburi":case"bloburl":if(We.URL!==void 0&&typeof We.URL.createObjectURL=="function")return We.URL&&We.URL.createObjectURL(fn(Ta()))||void 0;cr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var tt="",ut=Ta();try{tt=Wb(ut)}catch{tt=Wb(unescape(encodeURIComponent(ut)))}return"data:application/pdf;filename="+V.filename+";base64,"+tt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(We)==="[object Window]"){var yt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ut=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(yt=V.pdfObjectUrl,Ut="");var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+yt+'"'+Ut+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",ue=We.open();return ue!==null&&ue.document.write($t),ue}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(We)==="[object Window]"){var de='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',Ce=We.open();if(Ce!==null){Ce.document.write(de);var ve=this;Ce.document.documentElement.querySelector("#pdfViewer").onload=function(){Ce.document.title=V.filename,Ce.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ve.output("bloburl"))}}return Ce}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(We)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var gn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',Zn=We.open();if(Zn!==null&&(Zn.document.write(gn),Zn.document.title=V.filename),Zn||typeof safari>"u")return Zn;break;case"datauri":case"dataurl":return We.document.location.href=this.output("datauristring",V);default:return null}},Ri.foo=function(){try{return Ri.apply(this,arguments)}catch(tt){var w=tt.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var V="Error in function "+w.split(`
`)[0].split("<")[0]+": "+tt.message;if(!We.console)throw new Error(V);We.console.error(V,tt),We.alert&&alert(V)}},Ri.foo.bar=Ri,Ri.foo),ki=function(w){return Array.isArray(pi)===!0&&pi.indexOf(w)>-1};switch(r){case"pt":ke=1;break;case"mm":ke=72/25.4;break;case"cm":ke=72/2.54;break;case"in":ke=72;break;case"px":ke=ki("px_scaling")==1?.75:96/72;break;case"pc":case"em":ke=12;break;case"ex":ke=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ke=r}var Yn=null;J(),ht();var si=b.__private__.getPageInfo=b.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Te[w].objId,pageNumber:w,pageContext:Te[w]}},Ao=b.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in Te)if(Te[V].objId===w)break;return si(V)},Ql=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Te[Y].objId,pageNumber:Y,pageContext:Te[Y]}};b.addPage=function(){return Sa.apply(this,arguments),this},b.setPage=function(){return bo.apply(this,arguments),Ot.call(this,Xt[Y]),this},b.insertPage=function(w){return this.addPage(),this.movePage(Y,w),this},b.movePage=function(w,V){var tt,ut;if(w>V){tt=Xt[w],ut=Te[w];for(var yt=w;yt>V;yt--)Xt[yt]=Xt[yt-1],Te[yt]=Te[yt-1];Xt[V]=tt,Te[V]=ut,this.setPage(V)}else if(w<V){tt=Xt[w],ut=Te[w];for(var Ut=w;Ut<V;Ut++)Xt[Ut]=Xt[Ut+1],Te[Ut]=Te[Ut+1];Xt[V]=tt,Te[V]=ut,this.setPage(V)}return this},b.deletePage=function(){return Hs.apply(this,arguments),this},b.__private__.text=b.text=function(w,V,tt,ut,yt){var Ut,$t,ue,de,Ce,ve,gn,Zn,zn,m=(ut=ut||{}).scope||this;if(typeof w=="number"&&typeof V=="number"&&(typeof tt=="string"||Array.isArray(tt))){var S=tt;tt=V,V=w,w=S}if(arguments[3]instanceof Ae==0?(ue=arguments[4],de=arguments[5],Xn(gn=arguments[3])==="object"&&gn!==null||(typeof ue=="string"&&(de=ue,ue=null),typeof gn=="string"&&(de=gn,gn=null),typeof gn=="number"&&(ue=gn,gn=null),ut={flags:gn,angle:ue,align:de})):(I("The transform parameter of text() with a Matrix value"),zn=yt),isNaN(V)||isNaN(tt)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return m;var R,K="",bt=typeof ut.lineHeightFactor=="number"?ut.lineHeightFactor:hs,Ct=m.internal.scaleFactor;function Zt(Rn){return Rn=Rn.split("	").join(Array(ut.TabLen||9).join(" ")),Di(Rn,gn)}function je(Rn){for(var An,er=Rn.concat(),Rr=[],Os=er.length;Os--;)typeof(An=er.shift())=="string"?Rr.push(An):Array.isArray(Rn)&&(An.length===1||An[1]===void 0&&An[2]===void 0)?Rr.push(An[0]):Rr.push([An[0],An[1],An[2]]);return Rr}function Wn(Rn,An){var er;if(typeof Rn=="string")er=An(Rn)[0];else if(Array.isArray(Rn)){for(var Rr,Os,ms=Rn.concat(),ml=[],Qu=ms.length;Qu--;)typeof(Rr=ms.shift())=="string"?ml.push(An(Rr)[0]):Array.isArray(Rr)&&typeof Rr[0]=="string"&&(Os=An(Rr[0],Rr[1],Rr[2]),ml.push([Os[0],Os[1],Os[2]]));er=ml}return er}var un=!1,On=!0;if(typeof w=="string")un=!0;else if(Array.isArray(w)){var oi=w.concat();$t=[];for(var Mi,tr=oi.length;tr--;)(typeof(Mi=oi.shift())!="string"||Array.isArray(Mi)&&typeof Mi[0]!="string")&&(On=!1);un=On}if(un===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var _i=Wt/m.internal.scaleFactor,Da=_i*(bt-1);switch(ut.baseline){case"bottom":tt-=Da;break;case"top":tt+=_i-Da;break;case"hanging":tt+=_i-2*Da;break;case"middle":tt+=_i/2-Da}if((ve=ut.maxWidth||0)>0&&(typeof w=="string"?w=m.splitTextToSize(w,ve):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(Rn,An){return Rn.concat(m.splitTextToSize(An,ve))},[]))),Ut={text:w,x:V,y:tt,options:ut,mutex:{pdfEscape:Di,activeFontKey:be,fonts:ae,activeFontSize:Wt}},sn.publish("preProcessText",Ut),w=Ut.text,ue=(ut=Ut.options).angle,zn instanceof Ae==0&&ue&&typeof ue=="number"){ue*=Math.PI/180,ut.rotationDirection===0&&(ue=-ue),rt===nt&&(ue=-ue);var xs=Math.cos(ue),Cs=Math.sin(ue);zn=new Ae(xs,Cs,-Cs,xs,0,0)}else ue&&ue instanceof Ae&&(zn=ue);rt!==nt||zn||(zn=Yi),(Ce=ut.charSpace||Ba)!==void 0&&(K+=U(O(Ce))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Zn=ut.horizontalScale)!==void 0&&(K+=U(100*Zn)+` Tz
`),ut.lang;var _r=-1,Qs=ut.renderingMode!==void 0?ut.renderingMode:ut.stroke,$l=m.internal.getCurrentPageInfo().pageContext;switch(Qs){case 0:case!1:case"fill":_r=0;break;case 1:case!0:case"stroke":_r=1;break;case 2:case"fillThenStroke":_r=2;break;case 3:case"invisible":_r=3;break;case 4:case"fillAndAddForClipping":_r=4;break;case 5:case"strokeAndAddPathForClipping":_r=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_r=6;break;case 7:case"addToPathForClipping":_r=7}var Wu=$l.usedRenderingMode!==void 0?$l.usedRenderingMode:-1;_r!==-1?K+=_r+` Tr
`:Wu!==-1&&(K+=`0 Tr
`),_r!==-1&&($l.usedRenderingMode=_r),de=ut.align||"left";var ka,ds=Wt*bt,$s=m.internal.pageSize.getWidth(),Ku=ae[be];Ce=ut.charSpace||Ba,ve=ut.maxWidth||0,gn=Object.assign({autoencode:!0,noBOM:!0},ut.flags);var ps=[],Co=function(Rn){return m.getStringUnitWidth(Rn,{font:Ku,charSpace:Ce,fontSize:Wt,doKerning:!1})*Wt/Ct};if(Object.prototype.toString.call(w)==="[object Array]"){var fa;$t=je(w),de!=="left"&&(ka=$t.map(Co));var ta,Rs=0;if(de==="right"){V-=ka[0],w=[],tr=$t.length;for(var Is=0;Is<tr;Is++)Is===0?(ta=Kr(V),fa=Vr(tt)):(ta=O(Rs-ka[Is]),fa=-ds),w.push([$t[Is],ta,fa]),Rs=ka[Is]}else if(de==="center"){V-=ka[0]/2,w=[],tr=$t.length;for(var Xs=0;Xs<tr;Xs++)Xs===0?(ta=Kr(V),fa=Vr(tt)):(ta=O((Rs-ka[Xs])/2),fa=-ds),w.push([$t[Xs],ta,fa]),Rs=ka[Xs]}else if(de==="left"){w=[],tr=$t.length;for(var Xl=0;Xl<tr;Xl++)w.push($t[Xl])}else if(de==="justify"&&Ku.encoding==="Identity-H"){w=[],tr=$t.length,ve=ve!==0?ve:$s;for(var Jl=0,Cr=0;Cr<tr;Cr++)if(fa=Cr===0?Vr(tt):-ds,ta=Cr===0?Kr(V):Jl,Cr<tr-1){var kc=O((ve-ka[Cr])/($t[Cr].split(" ").length-1)),Ls=$t[Cr].split(" ");w.push([Ls[0]+" ",ta,fa]),Jl=0;for(var Ds=1;Ds<Ls.length;Ds++){var bi=(Co(Ls[Ds-1]+" "+Ls[Ds])-Co(Ls[Ds]))*Ct+kc;Ds==Ls.length-1?w.push([Ls[Ds],bi,0]):w.push([Ls[Ds]+" ",bi,0]),Jl-=bi}}else w.push([$t[Cr],ta,fa]);w.push(["",Jl,0])}else{if(de!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],tr=$t.length,ve=ve!==0?ve:$s,Cr=0;Cr<tr;Cr++){fa=Cr===0?Vr(tt):-ds,ta=Cr===0?Kr(V):0;var Js=$t[Cr].split(" ").length-1,Zl=Js>0?(ve-ka[Cr])/Js:0;Cr<tr-1?ps.push(U(O(Zl))):ps.push(0),w.push([$t[Cr],ta,fa])}}}(typeof ut.R2L=="boolean"?ut.R2L:Qe)===!0&&(w=Wn(w,function(Rn,An,er){return[Rn.split("").reverse().join(""),An,er]})),Ut={text:w,x:V,y:tt,options:ut,mutex:{pdfEscape:Di,activeFontKey:be,fonts:ae,activeFontSize:Wt}},sn.publish("postProcessText",Ut),w=Ut.text,R=Ut.mutex.isHex||!1;var tu=ae[be].encoding;tu!=="WinAnsiEncoding"&&tu!=="StandardEncoding"||(w=Wn(w,function(Rn,An,er){return[Zt(Rn),An,er]})),$t=je(w),w=[];for(var Zs,to,ks,pl=Array.isArray($t[0])?1:0,Oa="",eo=function(Rn,An,er){var Rr="";return er instanceof Ae?(er=typeof ut.angle=="number"?ss(er,new Ae(1,0,0,1,Rn,An)):ss(new Ae(1,0,0,1,Rn,An),er),rt===nt&&(er=ss(new Ae(1,0,0,-1,0,0),er)),Rr=er.join(" ")+` Tm
`):Rr=U(Rn)+" "+U(An)+` Td
`,Rr},Ui=0;Ui<$t.length;Ui++){switch(Oa="",pl){case 1:ks=(R?"<":"(")+$t[Ui][0]+(R?">":")"),Zs=parseFloat($t[Ui][1]),to=parseFloat($t[Ui][2]);break;case 0:ks=(R?"<":"(")+$t[Ui]+(R?">":")"),Zs=Kr(V),to=Vr(tt)}ps!==void 0&&ps[Ui]!==void 0&&(Oa=ps[Ui]+` Tw
`),Ui===0?w.push(Oa+eo(Zs,to,zn)+ks):pl===0?w.push(Oa+ks):pl===1&&w.push(Oa+eo(Zs,to,zn)+ks)}w=pl===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var za=`BT
/`;return za+=be+" "+Wt+` Tf
`,za+=U(Wt*bt)+` TL
`,za+=Ca+`
`,za+=K,za+=w,at(za+="ET"),T[be]=!0,m};var ll=b.__private__.clip=b.clip=function(w){return at(w==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return ll("evenodd")},b.__private__.discardPath=b.discardPath=function(){return at("n"),this};var vi=b.__private__.isValidStyle=function(w){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(V=!0),V};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(w){return vi(w)&&(d=w),this};var ul=b.__private__.getStyle=b.getStyle=function(w){var V=d;switch(w){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=w}return V},cs=b.close=function(){return at("h"),this};b.stroke=function(){return at("S"),this},b.fill=function(w){return Nr("f",w),this},b.fillEvenOdd=function(w){return Nr("f*",w),this},b.fillStroke=function(w){return Nr("B",w),this},b.fillStrokeEvenOdd=function(w){return Nr("B*",w),this};var Nr=function(w,V){Xn(V)==="object"?hl(V,w):at(w)},Eo=function(w){w===null||rt===nt&&w===void 0||(w=ul(w),at(w))};function cl(w,V,tt,ut,yt){var Ut=new Eh(V||this.boundingBox,tt||this.xStep,ut||this.yStep,this.gState,yt||this.matrix);Ut.stream=this.stream;var $t=w+"$$"+this.cloneIndex+++"$$";return Ci($t,Ut),Ut}var hl=function(w,V){var tt=an[w.key],ut=xe[tt];if(ut instanceof dc)at("q"),at(So(V)),ut.gState&&b.setGState(ut.gState),at(w.matrix.toString()+" cm"),at("/"+tt+" sh"),at("Q");else if(ut instanceof Eh){var yt=new Ae(1,0,0,-1,0,La());w.matrix&&(yt=yt.multiply(w.matrix||Yi),tt=cl.call(ut,w.key,w.boundingBox,w.xStep,w.yStep,yt).id),at("q"),at("/Pattern cs"),at("/"+tt+" scn"),ut.gState&&b.setGState(ut.gState),at(V),at("Q")}},So=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},To=b.moveTo=function(w,V){return at(U(O(w))+" "+U(st(V))+" m"),this},ha=b.lineTo=function(w,V){return at(U(O(w))+" "+U(st(V))+" l"),this},Na=b.curveTo=function(w,V,tt,ut,yt,Ut){return at([U(O(w)),U(st(V)),U(O(tt)),U(st(ut)),U(O(yt)),U(st(Ut)),"c"].join(" ")),this};b.__private__.line=b.line=function(w,V,tt,ut,yt){if(isNaN(w)||isNaN(V)||isNaN(tt)||isNaN(ut)||!vi(yt))throw new Error("Invalid arguments passed to jsPDF.line");return rt===$?this.lines([[tt-w,ut-V]],w,V,[1,1],yt||"S"):this.lines([[tt-w,ut-V]],w,V,[1,1]).stroke()},b.__private__.lines=b.lines=function(w,V,tt,ut,yt,Ut){var $t,ue,de,Ce,ve,gn,Zn,zn,m,S,R,K;if(typeof w=="number"&&(K=tt,tt=V,V=w,w=K),ut=ut||[1,1],Ut=Ut||!1,isNaN(V)||isNaN(tt)||!Array.isArray(w)||!Array.isArray(ut)||!vi(yt)||typeof Ut!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(To(V,tt),$t=ut[0],ue=ut[1],Ce=w.length,S=V,R=tt,de=0;de<Ce;de++)(ve=w[de]).length===2?(S=ve[0]*$t+S,R=ve[1]*ue+R,ha(S,R)):(gn=ve[0]*$t+S,Zn=ve[1]*ue+R,zn=ve[2]*$t+S,m=ve[3]*ue+R,S=ve[4]*$t+S,R=ve[5]*ue+R,Na(gn,Zn,zn,m,S,R));return Ut&&cs(),Eo(yt),this},b.path=function(w){for(var V=0;V<w.length;V++){var tt=w[V],ut=tt.c;switch(tt.op){case"m":To(ut[0],ut[1]);break;case"l":ha(ut[0],ut[1]);break;case"c":Na.apply(this,ut);break;case"h":cs()}}return this},b.__private__.rect=b.rect=function(w,V,tt,ut,yt){if(isNaN(w)||isNaN(V)||isNaN(tt)||isNaN(ut)||!vi(yt))throw new Error("Invalid arguments passed to jsPDF.rect");return rt===$&&(ut=-ut),at([U(O(w)),U(st(V)),U(O(tt)),U(O(ut)),"re"].join(" ")),Eo(yt),this},b.__private__.triangle=b.triangle=function(w,V,tt,ut,yt,Ut,$t){if(isNaN(w)||isNaN(V)||isNaN(tt)||isNaN(ut)||isNaN(yt)||isNaN(Ut)||!vi($t))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[tt-w,ut-V],[yt-tt,Ut-ut],[w-yt,V-Ut]],w,V,[1,1],$t,!0),this},b.__private__.roundedRect=b.roundedRect=function(w,V,tt,ut,yt,Ut,$t){if(isNaN(w)||isNaN(V)||isNaN(tt)||isNaN(ut)||isNaN(yt)||isNaN(Ut)||!vi($t))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ue=4/3*(Math.SQRT2-1);return yt=Math.min(yt,.5*tt),Ut=Math.min(Ut,.5*ut),this.lines([[tt-2*yt,0],[yt*ue,0,yt,Ut-Ut*ue,yt,Ut],[0,ut-2*Ut],[0,Ut*ue,-yt*ue,Ut,-yt,Ut],[2*yt-tt,0],[-yt*ue,0,-yt,-Ut*ue,-yt,-Ut],[0,2*Ut-ut],[0,-Ut*ue,yt*ue,-Ut,yt,-Ut]],w+yt,V,[1,1],$t,!0),this},b.__private__.ellipse=b.ellipse=function(w,V,tt,ut,yt){if(isNaN(w)||isNaN(V)||isNaN(tt)||isNaN(ut)||!vi(yt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ut=4/3*(Math.SQRT2-1)*tt,$t=4/3*(Math.SQRT2-1)*ut;return To(w+tt,V),Na(w+tt,V-$t,w+Ut,V-ut,w,V-ut),Na(w-Ut,V-ut,w-tt,V-$t,w-tt,V),Na(w-tt,V+$t,w-Ut,V+ut,w,V+ut),Na(w+Ut,V+ut,w+tt,V+$t,w+tt,V),Eo(yt),this},b.__private__.circle=b.circle=function(w,V,tt,ut){if(isNaN(w)||isNaN(V)||isNaN(tt)||!vi(ut))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,V,tt,tt,ut)},b.setFont=function(w,V,tt){return tt&&(V=G(V,tt)),be=ol(w,V,{disableWarning:!1}),this};var xa=b.__private__.getFont=b.getFont=function(){return ae[ol.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var w,V,tt={};for(w in Se)if(Se.hasOwnProperty(w))for(V in tt[w]=[],Se[w])Se[w].hasOwnProperty(V)&&tt[w].push(V);return tt},b.addFont=function(w,V,tt,ut,yt){var Ut=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ut.indexOf(arguments[3])!==-1?yt=arguments[3]:arguments[3]&&Ut.indexOf(arguments[3])==-1&&(tt=G(tt,ut)),_o.call(this,w,V,tt,yt=yt||"Identity-H")};var hs,Oi=n.lineWidth||.200025,De=b.__private__.getLineWidth=b.getLineWidth=function(){return Oi},Va=b.__private__.setLineWidth=b.setLineWidth=function(w){return Oi=w,at(U(O(w))+" w"),this};b.__private__.setLineDash=Ee.API.setLineDash=Ee.API.setLineDashPattern=function(w,V){if(w=w||[],V=V||0,isNaN(V)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(tt){return U(O(tt))}).join(" "),V=U(O(V)),at("["+w+"] "+V+" d"),this};var Gs=b.__private__.getLineHeight=b.getLineHeight=function(){return Wt*hs};b.__private__.getLineHeight=b.getLineHeight=function(){return Wt*hs};var No=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(hs=w),this},Ss=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return hs};No(n.lineHeight);var Kr=b.__private__.getHorizontalCoordinate=function(w){return O(w)},Vr=b.__private__.getVerticalCoordinate=function(w){return rt===nt?w:Te[Y].mediaBox.topRightY-Te[Y].mediaBox.bottomLeftY-O(w)},Ys=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(w){return U(Kr(w))},kn=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(w){return U(Vr(w))},$i=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Gn($i)},b.__private__.setStrokeColor=b.setDrawColor=function(w,V,tt,ut){return $i=Ur({ch1:w,ch2:V,ch3:tt,ch4:ut,pdfColorType:"draw",precision:2}),at($i),this};var Ws=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Gn(Ws)},b.__private__.setFillColor=b.setFillColor=function(w,V,tt,ut){return Ws=Ur({ch1:w,ch2:V,ch3:tt,ch4:ut,pdfColorType:"fill",precision:2}),at(Ws),this};var Ca=n.textColor||"0 g",Ts=b.__private__.getTextColor=b.getTextColor=function(){return Gn(Ca)};b.__private__.setTextColor=b.setTextColor=function(w,V,tt,ut){return Ca=Ur({ch1:w,ch2:V,ch3:tt,ch4:ut,pdfColorType:"text",precision:3}),this};var Ba=n.charSpace,fs=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Ba||0)};b.__private__.setCharSpace=b.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ba=w,this};var Xi=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(w){var V=b.CapJoinStyles[w];if(V===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xi=V,at(V+" J"),this};var xr=0;b.__private__.setLineJoin=b.setLineJoin=function(w){var V=b.CapJoinStyles[w];if(V===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xr=V,at(V+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return at(U(O(w))+" M"),this},b.GState=Sm,b.setGState=function(w){(w=typeof w=="string"?ze[Ln[w]]:Ji(null,w)).equals(sr)||(at("/"+w.id+" gs"),sr=w)};var Ji=function(w,V){if(!w||!Ln[w]){var tt=!1;for(var ut in ze)if(ze.hasOwnProperty(ut)&&ze[ut].equals(V)){tt=!0;break}if(tt)V=ze[ut];else{var yt="GS"+(Object.keys(ze).length+1).toString(10);ze[yt]=V,V.id=yt}return w&&(Ln[w]=V.id),sn.publish("addGState",V),V}};b.addGState=function(w,V){return Ji(w,V),this},b.saveGraphicsState=function(){return at("q"),Be.push({key:be,size:Wt,color:Ca}),this},b.restoreGraphicsState=function(){at("Q");var w=Be.pop();return be=w.key,Wt=w.size,Ca=w.color,sr=null,this},b.setCurrentTransformationMatrix=function(w){return at(w.toString()+" cm"),this},b.comment=function(w){return at("#"+w),this};var Pi=function(w,V){var tt=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return tt},set:function(Ut){isNaN(Ut)||(tt=parseFloat(Ut))}});var ut=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ut},set:function(Ut){isNaN(Ut)||(ut=parseFloat(Ut))}});var yt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return yt},set:function(Ut){yt=Ut.toString()}}),this},ja=function(w,V,tt,ut){Pi.call(this,w,V),this.type="rect";var yt=tt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return yt},set:function($t){isNaN($t)||(yt=parseFloat($t))}});var Ut=ut||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ut},set:function($t){isNaN($t)||(Ut=parseFloat($t))}}),this},Ns=function(){this.page=He,this.currentPage=Y,this.pages=Xt.slice(0),this.pagesContext=Te.slice(0),this.x=ye,this.y=Un,this.matrix=nn,this.width=Ra(Y),this.height=Ia(Y),this.outputDestination=re,this.id="",this.objectNumber=-1};Ns.prototype.restore=function(){He=this.page,Y=this.currentPage,Te=this.pagesContext,Xt=this.pages,ye=this.x,Un=this.y,nn=this.matrix,Ks(Y,this.width),Zi(Y,this.height),re=this.outputDestination};var Fa=function(w,V,tt,ut,yt){Wr.push(new Ns),He=Y=0,Xt=[],ye=w,Un=V,nn=yt,ca([tt,ut])};for(var qa in b.beginFormObject=function(w,V,tt,ut,yt){return Fa(w,V,tt,ut,yt),this},b.endFormObject=function(w){return(function(V){if(Ua[V])Wr.pop().restore();else{var tt=new Ns,ut="Xo"+(Object.keys(ii).length+1).toString(10);tt.id=ut,Ua[V]=ut,ii[ut]=tt,sn.publish("addFormObject",tt),Wr.pop().restore()}})(w),this},b.doFormObject=function(w,V){var tt=ii[Ua[w]];return at("q"),at(V.toString()+" cm"),at("/"+tt.id+" Do"),at("Q"),this},b.getFormObject=function(w){var V=ii[Ua[w]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},b.save=function(w,V){return w=w||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(fc(fn(Ta()),w),typeof fc.unload=="function"&&We.setTimeout&&setTimeout(fc.unload,911),this):new Promise(function(tt,ut){try{var yt=fc(fn(Ta()),w);typeof fc.unload=="function"&&We.setTimeout&&setTimeout(fc.unload,911),tt(yt)}catch(Ut){ut(Ut.message)}})},Ee.API)Ee.API.hasOwnProperty(qa)&&(qa==="events"&&Ee.API.events.length?(function(w,V){var tt,ut,yt;for(yt=V.length-1;yt!==-1;yt--)tt=V[yt][0],ut=V[yt][1],w.subscribe.apply(w,[tt].concat(typeof ut=="function"?[ut]:ut))})(sn,Ee.API.events):b[qa]=Ee.API[qa]);function Ra(w){return Te[w].mediaBox.topRightX-Te[w].mediaBox.bottomLeftX}function Ks(w,V){Te[w].mediaBox.topRightX=V+Te[w].mediaBox.bottomLeftX}function Ia(w){return Te[w].mediaBox.topRightY-Te[w].mediaBox.bottomLeftY}function Zi(w,V){Te[w].mediaBox.topRightY=V+Te[w].mediaBox.bottomLeftY}var fl=b.getPageWidth=function(w){return Ra(w=w||Y)/ke},dl=b.setPageWidth=function(w,V){Ks(w,V*ke)},La=b.getPageHeight=function(w){return Ia(w=w||Y)/ke},xo=b.setPageHeight=function(w,V){Zi(w,V*ke)};return b.internal={pdfEscape:Di,getStyle:ul,getFont:xa,getFontSize:ee,getCharSpace:fs,getTextColor:Ts,getLineHeight:Gs,getLineHeightFactor:Ss,getLineWidth:De,write:Xe,getHorizontalCoordinate:Kr,getVerticalCoordinate:Vr,getCoordinateString:Ys,getVerticalCoordinateString:kn,collections:{},newObject:qn,newAdditionalObject:mi,newObjectDeferred:Jn,newObjectDeferredBegin:Mr,getFilters:Ii,putStream:la,events:sn,scaleFactor:ke,pageSize:{getWidth:function(){return fl(Y)},setWidth:function(w){dl(Y,w)},getHeight:function(){return La(Y)},setHeight:function(w){xo(Y,w)}},encryptionOptions:v,encryption:Yn,getEncryptor:function(w){return v!==null?Yn.encryptor(w,0):function(V){return V}},output:yi,getNumberOfPages:wo,pages:Xt,out:at,f2:x,f3:D,getPageInfo:si,getPageInfoByObjId:Ao,getCurrentPageInfo:Ql,getPDFVersion:j,Point:Pi,Rectangle:ja,Matrix:Ae,hasHotfix:ki},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return fl(Y)},set:function(w){dl(Y,w)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return La(Y)},set:function(w){xo(Y,w)},enumerable:!0,configurable:!0}),(function(w){for(var V=0,tt=we.length;V<tt;V++){var ut=_o.call(this,w[V][0],w[V][1],w[V][2],we[V][3],!0);A===!1&&(T[ut]=!0);var yt=w[V][0].split("-");fr({id:ut,fontName:yt[0],fontStyle:yt[1]||""})}sn.publish("addFonts",{fonts:ae,dictionary:Se})}).call(b,we),be="F1",Sa(s,e),sn.publish("initialized"),b}bh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},bh.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},bh.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},bh.prototype.processOwnerPassword=function(n,t){return k0(D0(t).substr(0,5),n)},bh.prototype.encryptor=function(n,t){var e=D0(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return k0(e,r)}},Sm.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Xn(n)!==Xn(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;r++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},Ee.API={events:[]},Ee.version="3.0.3";var Gr=Ee.API,K2=1,Dc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ph=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},tn=function(n){return n.toFixed(2)},Nu=function(n){return n.toFixed(5)};Gr.__acroform__={};var as=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},Xb=function(n){return n*K2},zo=function(n){var t=new KA,e=me.internal.getHeight(n)||0,r=me.internal.getWidth(n)||0;return t.BBox=[0,0,Number(tn(r)),Number(tn(e))],t},_D=Gr.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},bD=Gr.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},wD=Gr.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},Jr=Gr.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return wD(n,t-1)},Zr=Gr.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _D(n,t-1)},ti=Gr.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return bD(n,t-1)},AD=Gr.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=n[0],o=n[1],u=n[2],h=n[3],f={};return f.lowerLeft_X=e(s)||0,f.lowerLeft_Y=r(o+h)||0,f.upperRight_X=e(s+u)||0,f.upperRight_Y=r(o)||0,[Number(tn(f.lowerLeft_X)),Number(tn(f.lowerLeft_Y)),Number(tn(f.upperRight_X)),Number(tn(f.upperRight_Y))]},ED=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,r=O0(n,e),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+s+" "+tn(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=zo(n);return o.scope=n.scope,o.stream=t.join(`
`),o}},O0=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=n.multiline?s.map(function(x){return x.split(`
`)}):s.map(function(x){return[x]});var o=e,u=me.internal.getHeight(n)||0;u=u<0?-u:u;var h=me.internal.getWidth(n)||0;h=h<0?-h:h;var f=function(x,D,O){if(x+1<s.length){var st=D+" "+s[x+1][0];return Op(st,n,O).width<=h-4}return!1};o++;t:for(;o>0;){t="",o--;var d,v,A=Op("3",n,o).height,T=n.multiline?u-o:(u-A)/2,b=T+=2,M=0,j=0,P=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+Op(t,n,o=12).width+", FieldWidth:"+h+`
`;break}for(var k="",$=0,nt=0;nt<s.length;nt++)if(s.hasOwnProperty(nt)){var rt=!1;if(s[nt].length!==1&&P!==s[nt].length-1){if((A+2)*($+2)+2>u)continue t;k+=s[nt][P],rt=!0,j=nt,nt--}else{k=(k+=s[nt][P]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var vt=parseInt(nt),Dt=f(vt,k,o),G=nt>=s.length-1;if(Dt&&!G){k+=" ",P=0;continue}if(Dt||G){if(G)j=vt;else if(n.multiline&&(A+2)*($+2)+2>u)continue t}else{if(!n.multiline||(A+2)*($+2)+2>u)continue t;j=vt}}for(var U="",I=M;I<=j;I++){var z=s[I];if(n.multiline){if(I===j){U+=z[P]+" ",P=(P+1)%z.length;continue}if(I===M){U+=z[z.length-1]+" ";continue}}U+=z[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,v=Op(U,n,o).width,n.textAlign){case"right":d=h-v-2;break;case"center":d=(h-v)/2;break;default:d=2}t+=tn(d)+" "+tn(b)+` Td
`,t+="("+Dc(U)+`) Tj
`,t+=-tn(d)+` 0 Td
`,b=-(o+2),v=0,M=rt?j:j+1,$++,k=""}break}return r.text=t,r.fontSize=o,r},Op=function(n,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:s}},SD={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},TD=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},ND=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(yo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(SD)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");K2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new QA,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&TD(o,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(r,s){var o=!r;for(var u in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var h=r[u],f=[],d=h.Rect;if(h.Rect&&(h.Rect=AD(h.Rect,s)),s.internal.newObjectDeferredBegin(h.objId,!0),h.DA=me.createDefaultAppearanceStream(h),Xn(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(f=h.getKeyValueListForStream()),h.Rect=d,h.hasAppearanceStream&&!h.appearanceStreamContent){var v=ED(h);f.push({key:"AP",value:"<</N "+v+">>"}),s.internal.acroformPlugin.xForms.push(v)}if(h.appearanceStreamContent){var A="";for(var T in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(T)){var b=h.appearanceStreamContent[T];if(A+="/"+T+" ",A+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var u in b)if(b.hasOwnProperty(u)){var M=b[u];typeof M=="function"&&(M=M.call(s,h)),A+="/"+u+" "+M+" ",s.internal.acroformPlugin.xForms.indexOf(M)>=0||s.internal.acroformPlugin.xForms.push(M)}}else typeof(M=b)=="function"&&(M=M.call(s,h)),A+="/"+u+" "+M,s.internal.acroformPlugin.xForms.indexOf(M)>=0||s.internal.acroformPlugin.xForms.push(M);A+=">>"}f.push({key:"AP",value:`<<
`+A+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:h.objId}),s.internal.out("endobj")}o&&(function(j,P){for(var k in j)if(j.hasOwnProperty(k)){var $=k,nt=j[k];P.internal.newObjectDeferredBegin(nt.objId,!0),Xn(nt)==="object"&&typeof nt.putStream=="function"&&nt.putStream(),delete j[$]}})(s.internal.acroformPlugin.xForms,s)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},WA=Gr.__acroform__.arrayToPdfArray=function(n,t,e){var r=function(u){return u};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),Xn(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),s+="("+Dc(r(n[o].toString()))+")"):s+=n[o].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Yg=function(n,t,e){var r=function(s){return s};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+Dc(r(n))+")"},Ko=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ko.prototype.toString=function(){return this.objId+" 0 R"},Ko.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Ko.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:WA(s,this.objId,this.scope)}):s instanceof Ko?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var KA=function(){Ko.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};as(KA,Ko);var QA=function(){Ko.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Dc(e(n))+")"}},set:function(e){n=e}})};as(QA,Ko);var yo=function n(){Ko.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');t=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Jr(t,3)},set:function(k){k?this.F=Zr(t,3):this.F=ti(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');e=k}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(k){r=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(k){r[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(k){r[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(k){r[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(k){r[3]=k}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Tm)return;o="FieldObject"+n.FieldNum++}var k=function($){return $};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+Dc(k(o))+")"},set:function(k){o=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(k){o=k}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(k){u=k}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(k){h=k}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(k){f=k}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/K2:d},set:function(k){d=k}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(k){v=k}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof Tm||this instanceof vc))return Yg(A,this.objId,this.scope)},set:function(k){k=k.toString(),A=k}});var T=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(T)return this instanceof Hi==0?Yg(T,this.objId,this.scope):T},set:function(k){k=k.toString(),T=this instanceof Hi==0?k.substr(0,1)==="("?ph(k.substr(1,k.length-2)):ph(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hi==1?ph(T.substr(1,T.length-1)):T},set:function(k){k=k.toString(),T=this instanceof Hi==1?"/"+k:k}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Hi==0?Yg(b,this.objId,this.scope):b},set:function(k){k=k.toString(),b=this instanceof Hi==0?k.substr(0,1)==="("?ph(k.substr(1,k.length-2)):ph(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hi==1?ph(b.substr(1,b.length-1)):b},set:function(k){k=k.toString(),b=this instanceof Hi==1?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var M,j=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return j},set:function(k){k=!!k,j=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(M)return M},set:function(k){M=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,1)},set:function(k){k?this.Ff=Zr(this.Ff,1):this.Ff=ti(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,2)},set:function(k){k?this.Ff=Zr(this.Ff,2):this.Ff=ti(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,3)},set:function(k){k?this.Ff=Zr(this.Ff,3):this.Ff=ti(this.Ff,3)}});var P=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(P!==null)return P},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');P=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(P){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:P=2;break;case"center":case 1:P=1;break;default:P=0}}})};as(yo,Ko);var Ch=function(){yo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return WA(t,this.objId,this.scope)},set:function(e){var r,s;s=[],typeof(r=e)=="string"&&(s=(function(o,u,h){h||(h=1);for(var f,d=[];f=u.exec(o);)d.push(f[h]);return d})(r,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,18)},set:function(e){e?this.Ff=Zr(this.Ff,18):this.Ff=ti(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Zr(this.Ff,19):this.Ff=ti(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,20)},set:function(e){e?(this.Ff=Zr(this.Ff,20),t.sort()):this.Ff=ti(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,22)},set:function(e){e?this.Ff=Zr(this.Ff,22):this.Ff=ti(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,23)},set:function(e){e?this.Ff=Zr(this.Ff,23):this.Ff=ti(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,27)},set:function(e){e?this.Ff=Zr(this.Ff,27):this.Ff=ti(this.Ff,27)}}),this.hasAppearanceStream=!1};as(Ch,yo);var Rh=function(){Ch.call(this),this.fontName="helvetica",this.combo=!1};as(Rh,Ch);var Ih=function(){Rh.call(this),this.combo=!0};as(Ih,Rh);var Jp=function(){Ih.call(this),this.edit=!0};as(Jp,Ih);var Hi=function(){yo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,15)},set:function(e){e?this.Ff=Zr(this.Ff,15):this.Ff=ti(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,16)},set:function(e){e?this.Ff=Zr(this.Ff,16):this.Ff=ti(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,17)},set:function(e){e?this.Ff=Zr(this.Ff,17):this.Ff=ti(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,26)},set:function(e){e?this.Ff=Zr(this.Ff,26):this.Ff=ti(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,s=[];for(r in s.push("<<"),t)s.push("/"+r+" ("+Dc(e(t[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(e){Xn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};as(Hi,yo);var Zp=function(){Hi.call(this),this.pushButton=!0};as(Zp,Hi);var Lh=function(){Hi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};as(Lh,Hi);var Tm=function(){var n,t;yo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(h){return h};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),r)u.push("/"+o+" ("+Dc(s(r[o]))+")");return u.push(">>"),u.join(`
`)},set:function(s){Xn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(s){e="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=me.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};as(Tm,yo),Lh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},Lh.prototype.createOption=function(n){var t=new Tm;return t.Parent=this,t.optionName=n,this.Kids.push(t),xD.call(this.scope,t),t};var tm=function(){Hi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=me.CheckBox.createAppearanceStream()};as(tm,Hi);var vc=function(){yo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,13)},set:function(t){t?this.Ff=Zr(this.Ff,13):this.Ff=ti(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,21)},set:function(t){t?this.Ff=Zr(this.Ff,21):this.Ff=ti(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,23)},set:function(t){t?this.Ff=Zr(this.Ff,23):this.Ff=ti(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,24)},set:function(t){t?this.Ff=Zr(this.Ff,24):this.Ff=ti(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,25)},set:function(t){t?this.Ff=Zr(this.Ff,25):this.Ff=ti(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,26)},set:function(t){t?this.Ff=Zr(this.Ff,26):this.Ff=ti(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};as(vc,yo);var em=function(){vc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Jr(this.Ff,14)},set:function(n){n?this.Ff=Zr(this.Ff,14):this.Ff=ti(this.Ff,14)}}),this.password=!0};as(em,vc);var me={CheckBox:{createAppearanceStream:function(){return{N:{On:me.CheckBox.YesNormal},D:{On:me.CheckBox.YesPushDown,Off:me.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=zo(n);t.scope=n.scope;var e=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=O0(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+tn(me.internal.getWidth(n))+" "+tn(me.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+tn(o.fontSize)+" Tf "+s),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=zo(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],o=me.internal.getHeight(n),u=me.internal.getWidth(n),h=O0(n,n.caption);return s.push("1 g"),s.push("0 0 "+tn(u)+" "+tn(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+tn(u-1)+" "+tn(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+e+" "+tn(h.fontSize)+" Tf "+r),s.push(h.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(n){var t=zo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+tn(me.internal.getWidth(n))+" "+tn(me.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:me.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=me.RadioButton.Circle.YesNormal,t.D[n]=me.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=zo(n);t.scope=n.scope;var e=[],r=me.internal.getWidth(n)<=me.internal.getHeight(n)?me.internal.getWidth(n)/4:me.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=me.internal.Bezier_C,o=Number((r*s).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Nu(me.internal.getWidth(n)/2)+" "+Nu(me.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=zo(n);t.scope=n.scope;var e=[],r=me.internal.getWidth(n)<=me.internal.getHeight(n)?me.internal.getWidth(n)/4:me.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*me.internal.Bezier_C).toFixed(5)),u=Number((r*me.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Nu(me.internal.getWidth(n)/2)+" "+Nu(me.internal.getHeight(n)/2)+" cm"),e.push(s+" 0 m"),e.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),e.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),e.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),e.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Nu(me.internal.getWidth(n)/2)+" "+Nu(me.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),e.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),e.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),e.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=zo(n);t.scope=n.scope;var e=[],r=me.internal.getWidth(n)<=me.internal.getHeight(n)?me.internal.getWidth(n)/4:me.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*me.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Nu(me.internal.getWidth(n)/2)+" "+Nu(me.internal.getHeight(n)/2)+" cm"),e.push(s+" 0 m"),e.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),e.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),e.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),e.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:me.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=me.RadioButton.Cross.YesNormal,t.D[n]=me.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=zo(n);t.scope=n.scope;var e=[],r=me.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+tn(me.internal.getWidth(n)-2)+" "+tn(me.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(tn(r.x1.x)+" "+tn(r.x1.y)+" m"),e.push(tn(r.x2.x)+" "+tn(r.x2.y)+" l"),e.push(tn(r.x4.x)+" "+tn(r.x4.y)+" m"),e.push(tn(r.x3.x)+" "+tn(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=zo(n);t.scope=n.scope;var e=me.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+tn(me.internal.getWidth(n))+" "+tn(me.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+tn(me.internal.getWidth(n)-2)+" "+tn(me.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(tn(e.x1.x)+" "+tn(e.x1.y)+" m"),r.push(tn(e.x2.x)+" "+tn(e.x2.y)+" l"),r.push(tn(e.x4.x)+" "+tn(e.x4.y)+" m"),r.push(tn(e.x3.x)+" "+tn(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=zo(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+tn(me.internal.getWidth(n))+" "+tn(me.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};me.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=me.internal.getWidth(n),e=me.internal.getHeight(n),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},me.internal.getWidth=function(n){var t=0;return Xn(n)==="object"&&(t=Xb(n.Rect[2])),t},me.internal.getHeight=function(n){var t=0;return Xn(n)==="object"&&(t=Xb(n.Rect[3])),t};var xD=Gr.addField=function(n){if(ND(this,n),!(n instanceof yo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Gr.AcroFormChoiceField=Ch,Gr.AcroFormListBox=Rh,Gr.AcroFormComboBox=Ih,Gr.AcroFormEditBox=Jp,Gr.AcroFormButton=Hi,Gr.AcroFormPushButton=Zp,Gr.AcroFormRadioButton=Lh,Gr.AcroFormCheckBox=tm,Gr.AcroFormTextField=vc,Gr.AcroFormPasswordField=em,Gr.AcroFormAppearance=me,Gr.AcroForm={ChoiceField:Ch,ListBox:Rh,ComboBox:Ih,EditBox:Jp,Button:Hi,PushButton:Zp,RadioButton:Lh,CheckBox:tm,TextField:vc,PasswordField:em,Appearance:me},Ee.AcroForm={ChoiceField:Ch,ListBox:Rh,ComboBox:Ih,EditBox:Jp,Button:Hi,PushButton:Zp,RadioButton:Lh,CheckBox:tm,TextField:vc,PasswordField:em,Appearance:me};Ee.AcroForm;function $A(n){return n.reduce(function(t,e,r){return t[e]=r,t},{})}(function(n){var t="addImage_";n.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(x,D){var O,st,At,it,dt,ht=e;if((D=D||e)==="RGBA"||x.data!==void 0&&x.data instanceof Uint8ClampedArray&&"height"in x&&"width"in x)return"RGBA";if(Dt(x))for(dt in r)for(At=r[dt],O=0;O<At.length;O+=1){for(it=!0,st=0;st<At[O].length;st+=1)if(At[O][st]!==void 0&&At[O][st]!==x[st]){it=!1;break}if(it===!0){ht=dt;break}}else for(dt in r)for(At=r[dt],O=0;O<At.length;O+=1){for(it=!0,st=0;st<At[O].length;st+=1)if(At[O][st]!==void 0&&At[O][st]!==x.charCodeAt(st)){it=!1;break}if(it===!0){ht=dt;break}}return ht===e&&D!==e&&(ht=D),ht},o=function x(D){for(var O=this.internal.write,st=this.internal.putStream,At=(0,this.internal.getFilters)();At.indexOf("FlateEncode")!==-1;)At.splice(At.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var it=[];if(it.push({key:"Type",value:"/XObject"}),it.push({key:"Subtype",value:"/Image"}),it.push({key:"Width",value:D.width}),it.push({key:"Height",value:D.height}),D.colorSpace===k.INDEXED?it.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(it.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===k.DEVICE_CMYK&&it.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),it.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&it.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)&&D.transparency.length>0){for(var dt="",ht=0,Nt=D.transparency.length;ht<Nt;ht++)dt+=D.transparency[ht]+" "+D.transparency[ht]+" ";it.push({key:"Mask",value:"["+dt+"]"})}D.sMask!==void 0&&it.push({key:"SMask",value:D.objectId+1+" 0 R"});var zt=D.filter!==void 0?["/"+D.filter]:void 0;if(st({data:D.data,additionalKeyValues:it,alreadyAppliedFilters:zt,objectId:D.objectId}),O("endobj"),"sMask"in D&&D.sMask!==void 0){var J,L=(J=D.sMaskBitsPerComponent)!==null&&J!==void 0?J:D.bitsPerComponent,Y={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:D.sMask};"filter"in D&&(Y.decodeParameters="/Predictor ".concat(D.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(D.width),Y.filter=D.filter),x.call(this,Y)}if(D.colorSpace===k.INDEXED){var X=this.internal.newObject();st({data:U(new Uint8Array(D.palette)),objectId:X}),O("endobj")}},u=function(){var x=this.internal.collections[t+"images"];for(var D in x)o.call(this,x[D])},h=function(){var x,D=this.internal.collections[t+"images"],O=this.internal.write;for(var st in D)O("/I"+(x=D[st]).index,x.objectId,"0","R")},f=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",h))},d=function(){var x=this.internal.collections[t+"images"];return f.call(this),x},v=function(){return Object.keys(this.internal.collections[t+"images"]).length},A=function(x){return typeof n["process"+x.toUpperCase()]=="function"},T=function(x){return Xn(x)==="object"&&x.nodeType===1},b=function(x,D){if(x.nodeName==="IMG"&&x.hasAttribute("src")){var O=""+x.getAttribute("src");if(O.indexOf("data:image/")===0)return Xp(unescape(O).split("base64,").pop());var st=n.loadFile(O,!0);if(st!==void 0)return st}if(x.nodeName==="CANVAS"){if(x.width===0||x.height===0)throw new Error("Given canvas must have data. Canvas width: "+x.width+", height: "+x.height);var At;switch(D){case"PNG":At="image/png";break;case"WEBP":At="image/webp";break;default:At="image/jpeg"}return Xp(x.toDataURL(At,1).split("base64,").pop())}},M=function(x){var D=this.internal.collections[t+"images"];if(D){for(var O in D)if(x===D[O].alias)return D[O]}},j=function(x,D,O){return x||D||(x=-96,D=-96),x<0&&(x=-1*O.width*72/x/this.internal.scaleFactor),D<0&&(D=-1*O.height*72/D/this.internal.scaleFactor),x===0&&(x=D*O.width/O.height),D===0&&(D=x*O.height/O.width),[x,D]},P=function(x,D,O,st,At,it){var dt=j.call(this,O,st,At),ht=this.internal.getCoordinateString,Nt=this.internal.getVerticalCoordinateString,zt=d.call(this);if(O=dt[0],st=dt[1],zt[At.index]=At,it){it*=Math.PI/180;var J=Math.cos(it),L=Math.sin(it),Y=function(ot){return ot.toFixed(4)},X=[Y(J),Y(L),Y(-1*L),Y(J),0,0,"cm"]}this.internal.write("q"),it?(this.internal.write([1,"0","0",1,ht(x),Nt(D+st),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([ht(O),"0","0",ht(st),"0","0","cm"].join(" "))):this.internal.write([ht(O),"0","0",ht(st),ht(x),Nt(D+st),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+At.index+" Do"),this.internal.write("Q")},k=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var $=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},nt=n.__addimage__.sHashCode=function(x){var D,O,st=0;if(typeof x=="string")for(O=x.length,D=0;D<O;D++)st=(st<<5)-st+x.charCodeAt(D),st|=0;else if(Dt(x))for(O=x.byteLength/2,D=0;D<O;D++)st=(st<<5)-st+x[D],st|=0;return st},rt=n.__addimage__.validateStringAsBase64=function(x){(x=x||"").toString().trim();var D=!0;return x.length===0&&(D=!1),x.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(x.substr(0,x.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(x.substr(-2))===!1&&(D=!1),D},vt=n.__addimage__.extractImageFromDataUrl=function(x){if(x==null||!(x=x.trim()).startsWith("data:"))return null;var D=x.indexOf(",");return D<0?null:x.substring(0,D).trim().endsWith("base64")?x.substring(D+1):null};n.__addimage__.isArrayBuffer=function(x){return x instanceof ArrayBuffer};var Dt=n.__addimage__.isArrayBufferView=function(x){return x instanceof Int8Array||x instanceof Uint8Array||x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array},G=n.__addimage__.binaryStringToUint8Array=function(x){for(var D=x.length,O=new Uint8Array(D),st=0;st<D;st++)O[st]=x.charCodeAt(st);return O},U=n.__addimage__.arrayBufferToBinaryString=function(x){for(var D="",O=Dt(x)?x:new Uint8Array(x),st=0;st<O.length;st+=8192)D+=String.fromCharCode.apply(null,O.subarray(st,st+8192));return D};n.addImage=function(){var x,D,O,st,At,it,dt,ht,Nt;if(typeof arguments[1]=="number"?(D=e,O=arguments[1],st=arguments[2],At=arguments[3],it=arguments[4],dt=arguments[5],ht=arguments[6],Nt=arguments[7]):(D=arguments[1],O=arguments[2],st=arguments[3],At=arguments[4],it=arguments[5],dt=arguments[6],ht=arguments[7],Nt=arguments[8]),Xn(x=arguments[0])==="object"&&!T(x)&&"imageData"in x){var zt=x;x=zt.imageData,D=zt.format||D||e,O=zt.x||O||0,st=zt.y||st||0,At=zt.w||zt.width||At,it=zt.h||zt.height||it,dt=zt.alias||dt,ht=zt.compression||ht,Nt=zt.rotation||zt.angle||Nt}var J=this.internal.getFilters();if(ht===void 0&&J.indexOf("FlateEncode")!==-1&&(ht="SLOW"),isNaN(O)||isNaN(st))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var L=I.call(this,x,D,dt,ht);return P.call(this,O,st,At,it,L,Nt),this};var I=function(x,D,O,st){var At,it,dt;if(typeof x=="string"&&s(x)===e){x=unescape(x);var ht=z(x,!1);(ht!==""||(ht=n.loadFile(x,!0))!==void 0)&&(x=ht)}if(T(x)&&(x=b(x,D)),D=s(x,D),!A(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((dt=O)==null||dt.length===0)&&(O=(function(Nt){return typeof Nt=="string"||Dt(Nt)?nt(Nt):Dt(Nt.data)?nt(Nt.data):null})(x)),(At=M.call(this,O))||(x instanceof Uint8Array||D==="RGBA"||(it=x,x=G(x)),At=this["process"+D.toUpperCase()](x,v.call(this),O,(function(Nt){return Nt&&typeof Nt=="string"&&(Nt=Nt.toUpperCase()),Nt in n.image_compression?Nt:$.NONE})(st),it)),!At)throw new Error("An unknown error occurred whilst processing the image.");return At},z=n.__addimage__.convertBase64ToBinaryString=function(x,D){D=typeof D!="boolean"||D;var O,st="";if(typeof x=="string"){var At;O=(At=vt(x))!==null&&At!==void 0?At:x;try{st=Xp(O)}catch(it){if(D)throw rt(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+it.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return st};n.getImageProperties=function(x){var D,O,st="";if(T(x)&&(x=b(x)),typeof x=="string"&&s(x)===e&&((st=z(x,!1))===""&&(st=n.loadFile(x)||""),x=st),O=s(x),!A(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(x instanceof Uint8Array||(x=G(x)),!(D=this["process"+O.toUpperCase()](x)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=O,D}})(Ee.API),(function(n){var t=function(e){if(e!==void 0&&e!="")return!0};Ee.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var r,s,o,u=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(e.objId),d=e.pageContext.annotations,v=!1,A=0;A<d.length&&!v;A++)switch((r=d[A]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var T=0;T<d.length;T++){r=d[T];var b=this.internal.pdfEscape,M=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var j=this.internal.newAdditionalObject(),P=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(j.objId),$=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(r.bounds.x)+" "+h(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y)+"] ")+"/Contents ("+b(k(r.contents))+")",o+=" /Popup "+P.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+b(k($))+") >>",j.content=o;var nt=j.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(r.bounds.x+30)+" "+h(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+h(r.bounds.y)+"] ")+" /Parent "+nt,r.open&&(o+=" /Open true"),o+=" >>",P.content=o,this.internal.write(j.objId,"0 R",P.objId,"0 R");break;case"freetext":s="/Rect ["+u(r.bounds.x)+" "+h(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+h(r.bounds.y+r.bounds.h)+"] ";var rt=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+b(M(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+rt+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var vt=this.annotations._nameMap[r.options.name];r.options.pageNumber=vt.page,r.options.top=vt.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+b(M(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var Dt=h(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Dt+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},n.link=function(e,r,s,o,u){var h=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:f(e),y:d(r),w:f(e+s),h:d(r+o)},options:u,type:"link"})},n.textWithLink=function(e,r,s,o){var u,h,f=this.getTextWidth(e),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var v=this.splitTextToSize(e,h).length;u=Math.ceil(d*v)}else h=f,u=d;return this.text(e,r,s,o),s+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,s-d,h,u,o),f},n.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}})(Ee.API),(function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(j){return t[j.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(j){return typeof j=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(j)},h=n.__arabicParser__.isArabicEndLetter=function(j){return u(j)&&o(j)&&t[j.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(j){return u(j)&&s.indexOf(j.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(j){return u(j)&&o(j)&&t[j.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(j){return u(j)&&o(j)&&t[j.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(j){return u(j)&&o(j)&&t[j.charCodeAt(0)].length>=3};var v=n.__arabicParser__.arabicLetterHasMedialForm=function(j){return u(j)&&o(j)&&t[j.charCodeAt(0)].length==4},A=n.__arabicParser__.resolveLigatures=function(j){var P=0,k=e,$="",nt=0;for(P=0;P<j.length;P+=1)k[j.charCodeAt(P)]!==void 0?(nt++,typeof(k=k[j.charCodeAt(P)])=="number"&&($+=String.fromCharCode(k),k=e,nt=0),P===j.length-1&&(k=e,$+=j.charAt(P-(nt-1)),P-=nt-1,nt=0)):(k=e,$+=j.charAt(P-nt),P-=nt,nt=0);return $};n.__arabicParser__.isArabicDiacritic=function(j){return j!==void 0&&r[j.charCodeAt(0)]!==void 0};var T=n.__arabicParser__.getCorrectForm=function(j,P,k){return u(j)?o(j)===!1?-1:!d(j)||!u(P)&&!u(k)||!u(k)&&h(P)||h(j)&&!u(P)||h(j)&&f(P)||h(j)&&h(P)?0:v(j)&&u(P)&&!h(P)&&u(k)&&d(k)?3:h(j)||!u(k)?1:2:-1},b=function(j){var P=0,k=0,$=0,nt="",rt="",vt="",Dt=(j=j||"").split("\\s+"),G=[];for(P=0;P<Dt.length;P+=1){for(G.push(""),k=0;k<Dt[P].length;k+=1)nt=Dt[P][k],rt=Dt[P][k-1],vt=Dt[P][k+1],u(nt)?($=T(nt,rt,vt),G[P]+=$!==-1?String.fromCharCode(t[nt.charCodeAt(0)][$]):nt):G[P]+=nt;G[P]=A(G[P])}return G.join(" ")},M=n.__arabicParser__.processArabic=n.processArabic=function(){var j,P=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(P)){var $=0;for(k=[],$=0;$<P.length;$+=1)Array.isArray(P[$])?k.push([b(P[$][0]),P[$][1],P[$][2]]):k.push([b(P[$])]);j=k}else j=b(P);return typeof arguments[0]=="string"?j:(arguments[0].text=j,arguments[0])};n.events.push(["preProcessText",M])})(Ee.API),Ee.API.autoPrint=function(n){var t;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(h){e=h}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(h){r=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(h){s=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(h){u=h}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var s;if((e=e||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Ee.API),(function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(j){f=j}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(j){d=j}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(j){v=j}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(j){A=j}});var T=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return T},set:function(j){T=j}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(j){b=j}});var M=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return M},set:function(j){M=j}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var v=(d=d||{}).fontSize||this.getFontSize(),A=d.font||this.getFont(),T=d.scaleFactor||this.internal.scaleFactor,b=0,M=0,j=0,P=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var k=d.maxWidth;k>0?typeof f=="string"?f=this.splitTextToSize(f,k):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(nt,rt){return nt.concat(P.splitTextToSize(rt,k))},[])):f=Array.isArray(f)?f:[f];for(var $=0;$<f.length;$++)b<(j=this.getStringUnitWidth(f[$],{font:A})*v)&&(b=j);return b!==0&&(M=f.length),{w:b/=T,h:Math.max((M*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/T,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,A=this.internal.__cell__.margins||t,T=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=A.top,b&&T&&(this.printHeaderRow(f.lineNumber,!0),f.y+=T[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,e===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-v,f.y+v,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+v,{align:"center",baseline:"top",maxWidth:f.width-v-v}):this.text(f.text,f.x+v,f.y+v,{align:"left",baseline:"top",maxWidth:f.width-v-v})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,v,A,T){if(r.call(this),!v)throw new Error("No data for PDF table.");var b,M,j,P,k=[],$=[],nt=[],rt={},vt={},Dt=[],G=[],U=(T=T||{}).autoSize||!1,I=T.printHeaders!==!1,z=T.css&&T.css["font-size"]!==void 0?16*T.css["font-size"]:T.fontSize||12,x=T.margins||Object.assign({width:this.getPageWidth()},t),D=typeof T.padding=="number"?T.padding:3,O=T.headerBackgroundColor||"#c8c8c8",st=T.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=x,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=st,this.setFontSize(z),A==null)$=k=Object.keys(v[0]),nt=k.map(function(){return"left"});else if(Array.isArray(A)&&Xn(A[0])==="object")for(k=A.map(function(zt){return zt.name}),$=A.map(function(zt){return zt.prompt||zt.name||""}),nt=A.map(function(zt){return zt.align||"left"}),b=0;b<A.length;b+=1)vt[A[b].name]=.7499990551181103*A[b].width;else Array.isArray(A)&&typeof A[0]=="string"&&($=k=A,nt=k.map(function(){return"left"}));if(U||Array.isArray(A)&&typeof A[0]=="string")for(b=0;b<k.length;b+=1){for(rt[P=k[b]]=v.map(function(zt){return zt[P]}),this.setFont(void 0,"bold"),Dt.push(this.getTextDimensions($[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),M=rt[P],this.setFont(void 0,"normal"),j=0;j<M.length;j+=1)Dt.push(this.getTextDimensions(M[j],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);vt[P]=Math.max.apply(null,Dt)+D+D,Dt=[]}if(I){var At={};for(b=0;b<k.length;b+=1)At[k[b]]={},At[k[b]].text=$[b],At[k[b]].align=nt[b];var it=h.call(this,At,vt);G=k.map(function(zt){return new o(f,d,vt[zt],it,At[zt].text,void 0,At[zt].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var dt=A.reduce(function(zt,J){return zt[J.name]=J.align,zt},{});for(b=0;b<v.length;b+=1){"rowStart"in T&&T.rowStart instanceof Function&&T.rowStart({row:b,data:v[b]},this);var ht=h.call(this,v[b],vt);for(j=0;j<k.length;j+=1){var Nt=v[b][k[j]];"cellStart"in T&&T.cellStart instanceof Function&&T.cellStart({row:b,col:j,data:Nt},this),u.call(this,new o(f,d,vt[k[j]],ht,Nt,b+2,dt[k[j]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var h=function(f,d){var v=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,T=this.internal.scaleFactor;return Object.keys(f).map(function(b){var M=f[b];return this.splitTextToSize(M.hasOwnProperty("text")?M.text:M,d[b]-v-v)},this).map(function(b){return this.getLineHeightFactor()*b.length*A/T+v+v},this).reduce(function(b,M){return Math.max(b,M)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var T=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){v=this.internal.__cell__.tableHeaderRow[b].clone(),d&&(v.y=this.internal.__cell__.margins.top||0,T.push(v)),v.lineNumber=f;var M=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,v),this.setTextColor(M)}T.length>0&&this.setTableHeaderRow(T),this.setFont(void 0,"normal"),e=!1}})(Ee.API);var XA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},JA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],P0=$A(JA),ZA=[100,200,300,400,500,600,700,800,900],CD=$A(ZA);function Wg(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=(function(o){return XA[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),s=(function(o){return typeof P0[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:t,style:e,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:t,style:[s,e,r].join(" ")}}}function Jb(n,t,e,r){var s;for(s=e;s>=0&&s<t.length;s+=r)if(n[t[s]])return n[t[s]];for(s=e;s>=0&&s<t.length;s-=r)if(n[t[s]])return n[t[s]]}var RD={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Zb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function tw(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function ew(n){return n.trimLeft()}function ID(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function LD(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var Pp,nw,rw,mh,Mp,iw,aw,sw,Kg=["times"];function ow(n,t,e,r,s){var o=4,u=uw;switch(s){case Ee.API.image_compression.FAST:o=1,u=lw;break;case Ee.API.image_compression.MEDIUM:o=6,u=cw;break;case Ee.API.image_compression.SLOW:o=9,u=hw}n=(function(f,d,v,A){for(var T,b=f.length/d,M=new Uint8Array(f.length+b),j=[DD,lw,uw,cw,hw],P=0;P<b;P+=1){var k=P*d,$=f.subarray(k,k+d);if(A)M.set(A($,v,T),k+P);else{for(var nt=j.length,rt=[],vt=0;vt<nt;vt+=1)rt[vt]=j[vt]($,v,T);var Dt=OD(rt.concat());M.set(rt[Dt],k+P)}T=$}return M})(n,t,Math.ceil(e*r/8),u);var h=C0(n,{level:o});return Ee.API.__addimage__.arrayBufferToBinaryString(h)}function DD(n){var t=Array.apply([],n);return t.unshift(0),t}function lw(n,t){var e=n.length,r=[];r[0]=1;for(var s=0;s<e;s+=1){var o=n[s-t]||0;r[s+1]=n[s]-o+256&255}return r}function uw(n,t,e){var r=n.length,s=[];s[0]=2;for(var o=0;o<r;o+=1){var u=e&&e[o]||0;s[o+1]=n[o]-u+256&255}return s}function cw(n,t,e){var r=n.length,s=[];s[0]=3;for(var o=0;o<r;o+=1){var u=n[o-t]||0,h=e&&e[o]||0;s[o+1]=n[o]+256-(u+h>>>1)&255}return s}function hw(n,t,e){var r=n.length,s=[];s[0]=4;for(var o=0;o<r;o+=1){var u=kD(n[o-t]||0,e&&e[o]||0,e&&e[o-t]||0);s[o+1]=n[o]-u+256&255}return s}function kD(n,t,e){if(n===t&&t===e)return n;var r=Math.abs(t-e),s=Math.abs(n-e),o=Math.abs(n+t-e-e);return r<=s&&r<=o?n:s<=o?t:e}function OD(n){var t=n.map(function(e){return e.reduce(function(r,s){return r+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function Qg(n,t,e){var r=t*e,s=Math.floor(r/8),o=16-(r-8*s+e),u=(1<<e)-1;return tE(n,s)>>o&u}function fw(n,t,e,r){var s=e*r,o=Math.floor(s/8),u=16-(s-8*o+r),h=(1<<r)-1,f=(t&h)<<u;(function(d,v,A){if(v+1<d.byteLength)d.setUint16(v,A,!1);else{var T=A>>8&255;d.setUint8(v,T)}})(n,o,tE(n,o)&~(h<<u)&65535|f)}function tE(n,t){return t+1<n.byteLength?n.getUint16(t,!1):n.getUint8(t)<<8}function PD(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,r=n[t++]|n[t++]<<8,s=n[t++],o=s>>7,u=1<<1+(7&s);n[t++],n[t++];var h=null,f=null;o&&(h=t,f=u,t+=3*u);var d=!0,v=[],A=0,T=null,b=0,M=null;for(this.width=e,this.height=r;d&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,M=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((x=n[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var j=n[t++];A=n[t++]|n[t++]<<8,T=n[t++],1&j||(T=null),b=j>>2&7,t++;break;case 254:for(;;){if(!((x=n[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var P=n[t++]|n[t++]<<8,k=n[t++]|n[t++]<<8,$=n[t++]|n[t++]<<8,nt=n[t++]|n[t++]<<8,rt=n[t++],vt=rt>>6&1,Dt=1<<1+(7&rt),G=h,U=f,I=!1;rt>>7&&(I=!0,G=t,U=Dt,t+=3*Dt);var z=t;for(t++;;){var x;if(!((x=n[t++])>=0))throw Error("Invalid block size");if(x===0)break;t+=x}v.push({x:P,y:k,width:$,height:nt,has_local_palette:I,palette_offset:G,palette_size:U,data_offset:z,data_length:t-z,transparent_index:T,interlaced:!!vt,delay:A,disposal:b});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return M},this.frameInfo=function(D){if(D<0||D>=v.length)throw new Error("Frame index out of range.");return v[D]},this.decodeAndBlitFrameBGRA=function(D,O){var st=this.frameInfo(D),At=st.width*st.height,it=new Uint8Array(At);dw(n,st.data_offset,it,At);var dt=st.palette_offset,ht=st.transparent_index;ht===null&&(ht=256);var Nt=st.width,zt=e-Nt,J=Nt,L=4*(st.y*e+st.x),Y=4*((st.y+st.height)*e+st.x),X=L,ot=4*zt;st.interlaced===!0&&(ot+=4*e*7);for(var ct=8,gt=0,It=it.length;gt<It;++gt){var St=it[gt];if(J===0&&(J=Nt,(X+=ot)>=Y&&(ot=4*zt+4*e*(ct-1),X=L+(Nt+zt)*(ct<<1),ct>>=1)),St===ht)X+=4;else{var jt=n[dt+3*St],Xt=n[dt+3*St+1],ne=n[dt+3*St+2];O[X++]=ne,O[X++]=Xt,O[X++]=jt,O[X++]=255}--J}},this.decodeAndBlitFrameRGBA=function(D,O){var st=this.frameInfo(D),At=st.width*st.height,it=new Uint8Array(At);dw(n,st.data_offset,it,At);var dt=st.palette_offset,ht=st.transparent_index;ht===null&&(ht=256);var Nt=st.width,zt=e-Nt,J=Nt,L=4*(st.y*e+st.x),Y=4*((st.y+st.height)*e+st.x),X=L,ot=4*zt;st.interlaced===!0&&(ot+=4*e*7);for(var ct=8,gt=0,It=it.length;gt<It;++gt){var St=it[gt];if(J===0&&(J=Nt,(X+=ot)>=Y&&(ot=4*zt+4*e*(ct-1),X=L+(Nt+zt)*(ct<<1),ct>>=1)),St===ht)X+=4;else{var jt=n[dt+3*St],Xt=n[dt+3*St+1],ne=n[dt+3*St+2];O[X++]=jt,O[X++]=Xt,O[X++]=ne,O[X++]=255}--J}}}function dw(n,t,e,r){for(var s=n[t++],o=1<<s,u=o+1,h=u+1,f=s+1,d=(1<<f)-1,v=0,A=0,T=0,b=n[t++],M=new Int32Array(4096),j=null;;){for(;v<16&&b!==0;)A|=n[t++]<<v,v+=8,b===1?b=n[t++]:--b;if(v<f)break;var P=A&d;if(A>>=f,v-=f,P!==o){if(P===u)break;for(var k=P<h?P:j,$=0,nt=k;nt>o;)nt=M[nt]>>8,++$;var rt=nt;if(T+$+(k!==P?1:0)>r)return void cr.log("Warning, gif stream longer than expected.");e[T++]=rt;var vt=T+=$;for(k!==P&&(e[T++]=rt),nt=k;$--;)nt=M[nt],e[--vt]=255&nt,nt>>=8;j!==null&&h<4096&&(M[h++]=j<<8|rt,h>=d+1&&f<12&&(++f,d=d<<1|1)),j=P}else h=u+1,d=(1<<(f=s+1))-1,j=null}return T!==r&&cr.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $g(n){var t,e,r,s,o,u=Math.floor,h=new Array(64),f=new Array(64),d=new Array(64),v=new Array(64),A=new Array(65535),T=new Array(65535),b=new Array(64),M=new Array(64),j=[],P=0,k=7,$=new Array(64),nt=new Array(64),rt=new Array(64),vt=new Array(256),Dt=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],x=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],st=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],At=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function it(L,Y){for(var X=0,ot=0,ct=new Array,gt=1;gt<=16;gt++){for(var It=1;It<=L[gt];It++)ct[Y[ot]]=[],ct[Y[ot]][0]=X,ct[Y[ot]][1]=gt,ot++,X++;X*=2}return ct}function dt(L){for(var Y=L[0],X=L[1]-1;X>=0;)Y&1<<X&&(P|=1<<k),X--,--k<0&&(P==255?(ht(255),ht(0)):ht(P),k=7,P=0)}function ht(L){j.push(L)}function Nt(L){ht(L>>8&255),ht(255&L)}function zt(L,Y,X,ot,ct){for(var gt,It=ct[0],St=ct[240],jt=(function(Wt,ie){var ee,Qe,_e,Ge,Pe,Ve,Sn,Me,be,ke,ye=0;for(be=0;be<8;++be){ee=Wt[ye],Qe=Wt[ye+1],_e=Wt[ye+2],Ge=Wt[ye+3],Pe=Wt[ye+4],Ve=Wt[ye+5],Sn=Wt[ye+6];var Un=ee+(Me=Wt[ye+7]),nn=ee-Me,ae=Qe+Sn,Se=Qe-Sn,Be=_e+Ve,xe=_e-Ve,an=Ge+Pe,ze=Ge-Pe,Ln=Un+an,sr=Un-an,He=ae+Be,Te=ae-Be;Wt[ye]=Ln+He,Wt[ye+4]=Ln-He;var sn=.707106781*(Te+sr);Wt[ye+2]=sr+sn,Wt[ye+6]=sr-sn;var pi=.382683433*((Ln=ze+xe)-(Te=Se+nn)),ii=.5411961*Ln+pi,Ua=1.306562965*Te+pi,Wr=.707106781*(He=xe+Se),Ae=nn+Wr,ss=nn-Wr;Wt[ye+5]=ss+ii,Wt[ye+3]=ss-ii,Wt[ye+1]=Ae+Ua,Wt[ye+7]=Ae-Ua,ye+=8}for(ye=0,be=0;be<8;++be){ee=Wt[ye],Qe=Wt[ye+8],_e=Wt[ye+16],Ge=Wt[ye+24],Pe=Wt[ye+32],Ve=Wt[ye+40],Sn=Wt[ye+48];var Yi=ee+(Me=Wt[ye+56]),Ci=ee-Me,Ri=Qe+Sn,qn=Qe-Sn,Jn=_e+Ve,Mr=_e-Ve,mi=Ge+Pe,ai=Ge-Pe,Dn=Yi+mi,Gn=Yi-mi,Ur=Ri+Jn,Ii=Ri-Jn;Wt[ye]=Dn+Ur,Wt[ye+32]=Dn-Ur;var la=.707106781*(Ii+Gn);Wt[ye+16]=Gn+la,Wt[ye+48]=Gn-la;var Es=.382683433*((Dn=ai+Mr)-(Ii=qn+Ci)),Ea=.5411961*Dn+Es,Li=1.306562965*Ii+Es,os=.707106781*(Ur=Mr+qn),Wi=Ci+os,gi=Ci-os;Wt[ye+40]=gi+Ea,Wt[ye+24]=gi-Ea,Wt[ye+8]=Wi+Li,Wt[ye+56]=Wi-Li,ye++}for(be=0;be<64;++be)ke=Wt[be]*ie[be],b[be]=ke>0?ke+.5|0:ke-.5|0;return b})(L,Y),Xt=0;Xt<64;++Xt)M[G[Xt]]=jt[Xt];var ne=M[0]-X;X=M[0],ne==0?dt(ot[0]):(dt(ot[T[gt=32767+ne]]),dt(A[gt]));for(var re=63;re>0&&M[re]==0;)re--;if(re==0)return dt(It),X;for(var Ot,at=1;at<=re;){for(var Xe=at;M[at]==0&&at<=re;)++at;var qe=at-Xe;if(qe>=16){Ot=qe>>4;for(var we=1;we<=Ot;++we)dt(St);qe&=15}gt=32767+M[at],dt(ct[(qe<<4)+T[gt]]),dt(A[gt]),at++}return re!=63&&dt(It),X}function J(L){L=Math.min(Math.max(L,1),100),o!=L&&((function(Y){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ot=0;ot<64;ot++){var ct=u((X[ot]*Y+50)/100);ct=Math.min(Math.max(ct,1),255),h[G[ot]]=ct}for(var gt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],It=0;It<64;It++){var St=u((gt[It]*Y+50)/100);St=Math.min(Math.max(St,1),255),f[G[It]]=St}for(var jt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xt=0,ne=0;ne<8;ne++)for(var re=0;re<8;re++)d[Xt]=1/(h[G[Xt]]*jt[ne]*jt[re]*8),v[Xt]=1/(f[G[Xt]]*jt[ne]*jt[re]*8),Xt++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),o=L)}this.encode=function(L,Y){Y&&J(Y),j=new Array,P=0,k=7,Nt(65496),Nt(65504),Nt(16),ht(74),ht(70),ht(73),ht(70),ht(0),ht(1),ht(1),ht(0),Nt(1),Nt(1),ht(0),ht(0),(function(){Nt(65499),Nt(132),ht(0);for(var Qe=0;Qe<64;Qe++)ht(h[Qe]);ht(1);for(var _e=0;_e<64;_e++)ht(f[_e])})(),(function(Qe,_e){Nt(65472),Nt(17),ht(8),Nt(_e),Nt(Qe),ht(3),ht(1),ht(17),ht(0),ht(2),ht(17),ht(1),ht(3),ht(17),ht(1)})(L.width,L.height),(function(){Nt(65476),Nt(418),ht(0);for(var Qe=0;Qe<16;Qe++)ht(U[Qe+1]);for(var _e=0;_e<=11;_e++)ht(I[_e]);ht(16);for(var Ge=0;Ge<16;Ge++)ht(z[Ge+1]);for(var Pe=0;Pe<=161;Pe++)ht(x[Pe]);ht(1);for(var Ve=0;Ve<16;Ve++)ht(D[Ve+1]);for(var Sn=0;Sn<=11;Sn++)ht(O[Sn]);ht(17);for(var Me=0;Me<16;Me++)ht(st[Me+1]);for(var be=0;be<=161;be++)ht(At[be])})(),Nt(65498),Nt(12),ht(3),ht(1),ht(0),ht(2),ht(17),ht(3),ht(17),ht(0),ht(63),ht(0);var X=0,ot=0,ct=0;P=0,k=7,this.encode.displayName="_encode_";for(var gt,It,St,jt,Xt,ne,re,Ot,at,Xe=L.data,qe=L.width,we=L.height,Wt=4*qe,ie=0;ie<we;){for(gt=0;gt<Wt;){for(Xt=Wt*ie+gt,re=-1,Ot=0,at=0;at<64;at++)ne=Xt+(Ot=at>>3)*Wt+(re=4*(7&at)),ie+Ot>=we&&(ne-=Wt*(ie+1+Ot-we)),gt+re>=Wt&&(ne-=gt+re-Wt+4),It=Xe[ne++],St=Xe[ne++],jt=Xe[ne++],$[at]=(Dt[It]+Dt[St+256|0]+Dt[jt+512|0]>>16)-128,nt[at]=(Dt[It+768|0]+Dt[St+1024|0]+Dt[jt+1280|0]>>16)-128,rt[at]=(Dt[It+1280|0]+Dt[St+1536|0]+Dt[jt+1792|0]>>16)-128;X=zt($,d,X,t,r),ot=zt(nt,v,ot,e,s),ct=zt(rt,v,ct,e,s),gt+=32}ie+=8}if(k>=0){var ee=[];ee[1]=k+1,ee[0]=(1<<k+1)-1,dt(ee)}return Nt(65497),new Uint8Array(j)},n=n||50,(function(){for(var L=String.fromCharCode,Y=0;Y<256;Y++)vt[Y]=L(Y)})(),t=it(U,I),e=it(D,O),r=it(z,x),s=it(st,At),(function(){for(var L=1,Y=2,X=1;X<=15;X++){for(var ot=L;ot<Y;ot++)T[32767+ot]=X,A[32767+ot]=[],A[32767+ot][1]=X,A[32767+ot][0]=ot;for(var ct=-(Y-1);ct<=-L;ct++)T[32767+ct]=X,A[32767+ct]=[],A[32767+ct][1]=X,A[32767+ct][0]=Y-1+ct;L<<=1,Y<<=1}})(),(function(){for(var L=0;L<256;L++)Dt[L]=19595*L,Dt[L+256|0]=38470*L,Dt[L+512|0]=7471*L+32768,Dt[L+768|0]=-11059*L,Dt[L+1024|0]=-21709*L,Dt[L+1280|0]=32768*L+8421375,Dt[L+1536|0]=-27439*L,Dt[L+1792|0]=-5329*L})(),J(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function co(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function pw(n){function t(I){if(!I)throw Error("assert :P")}function e(I,z,x){for(var D=0;4>D;D++)if(I[z+D]!=x.charCodeAt(D))return!0;return!1}function r(I,z,x,D,O){for(var st=0;st<O;st++)I[z+st]=x[D+st]}function s(I,z,x,D){for(var O=0;O<D;O++)I[z+O]=x}function o(I){return new Int32Array(I)}function u(I,z){for(var x=[],D=0;D<I;D++)x.push(new z);return x}function h(I,z){var x=[];return(function D(O,st,At){for(var it=At[st],dt=0;dt<it&&(O.push(At.length>st+1?[]:new z),!(At.length<st+1));dt++)D(O[dt],st+1,At)})(x,0,I),x}var f=function(){var I=this;function z(p,y){for(var E=1<<y-1>>>0;p&E;)E>>>=1;return E?(p&E-1)+E:p}function x(p,y,E,N,B){t(!(N%E));do p[y+(N-=E)]=B;while(0<N)}function D(p,y,E,N,B){if(t(2328>=B),512>=B)var F=o(512);else if((F=o(B))==null)return 0;return(function(q,W,Q,et,ft,Tt){var Z,mt,wt=W,Mt=1<<Q,Et=o(16),Pt=o(16);for(t(ft!=0),t(et!=null),t(q!=null),t(0<Q),mt=0;mt<ft;++mt){if(15<et[mt])return 0;++Et[et[mt]]}if(Et[0]==ft)return 0;for(Pt[1]=0,Z=1;15>Z;++Z){if(Et[Z]>1<<Z)return 0;Pt[Z+1]=Pt[Z]+Et[Z]}for(mt=0;mt<ft;++mt)Z=et[mt],0<et[mt]&&(Tt[Pt[Z]++]=mt);if(Pt[15]==1)return(et=new O).g=0,et.value=Tt[0],x(q,wt,1,Mt,et),Mt;var Ft,Jt=-1,Kt=Mt-1,pe=0,oe=1,Ye=1,he=1<<Q;for(mt=0,Z=1,ft=2;Z<=Q;++Z,ft<<=1){if(oe+=Ye<<=1,0>(Ye-=Et[Z]))return 0;for(;0<Et[Z];--Et[Z])(et=new O).g=Z,et.value=Tt[mt++],x(q,wt+pe,ft,he,et),pe=z(pe,Z)}for(Z=Q+1,ft=2;15>=Z;++Z,ft<<=1){if(oe+=Ye<<=1,0>(Ye-=Et[Z]))return 0;for(;0<Et[Z];--Et[Z]){if(et=new O,(pe&Kt)!=Jt){for(wt+=he,Ft=1<<(Jt=Z)-Q;15>Jt&&!(0>=(Ft-=Et[Jt]));)++Jt,Ft<<=1;Mt+=he=1<<(Ft=Jt-Q),q[W+(Jt=pe&Kt)].g=Ft+Q,q[W+Jt].value=wt-W-Jt}et.g=Z-Q,et.value=Tt[mt++],x(q,wt+(pe>>Q),ft,he,et),pe=z(pe,Z)}}return oe!=2*Pt[15]-1?0:Mt})(p,y,E,N,B,F)}function O(){this.value=this.g=0}function st(){this.value=this.g=0}function At(){this.G=u(5,O),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Co,st)}function it(p,y,E,N){t(p!=null),t(y!=null),t(2147483648>N),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=y,p.pa=E,p.Jd=y,p.Yc=E+N,p.Zc=4<=N?E+N-4+1:E,It(p)}function dt(p,y){for(var E=0;0<y--;)E|=jt(p,128)<<y;return E}function ht(p,y){var E=dt(p,y);return St(p)?-E:E}function Nt(p,y,E,N){var B,F=0;for(t(p!=null),t(y!=null),t(4294967288>N),p.Sb=N,p.Ra=0,p.u=0,p.h=0,4<N&&(N=4),B=0;B<N;++B)F+=y[E+B]<<8*B;p.Ra=F,p.bb=N,p.oa=y,p.pa=E}function zt(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Rs-8>>>0,++p.bb,p.u-=8;ot(p)&&(p.h=1,p.u=0)}function J(p,y){if(t(0<=y),!p.h&&y<=ta){var E=X(p)&fa[y];return p.u+=y,zt(p),E}return p.h=1,p.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(p){return p.Ra>>>(p.u&Rs-1)>>>0}function ot(p){return t(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Rs}function ct(p,y){p.u=y,p.h=ot(p)}function gt(p){p.u>=Is&&(t(p.u>=Is),zt(p))}function It(p){t(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(t(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function St(p){return dt(p,1)}function jt(p,y){var E=p.Ca;0>p.b&&It(p);var N=p.b,B=E*y>>>8,F=(p.I>>>N>B)+0;for(F?(E-=B,p.I-=B+1<<N>>>0):E=B+1,N=E,B=0;256<=N;)B+=8,N>>=8;return N=7^B+Xs[N],p.b-=N,p.Ca=(E<<N)-1,F}function Xt(p,y,E){p[y+0]=E>>24&255,p[y+1]=E>>16&255,p[y+2]=E>>8&255,p[y+3]=255&E}function ne(p,y){return p[y+0]|p[y+1]<<8}function re(p,y){return ne(p,y)|p[y+2]<<16}function Ot(p,y){return ne(p,y)|ne(p,y+2)<<16}function at(p,y){var E=1<<y;return t(p!=null),t(0<y),p.X=o(E),p.X==null?0:(p.Mb=32-y,p.Xa=y,1)}function Xe(p,y){t(p!=null),t(y!=null),t(p.Xa==y.Xa),r(y.X,0,p.X,0,1<<y.Xa)}function qe(){this.X=[],this.Xa=this.Mb=0}function we(p,y,E,N){t(E!=null),t(N!=null);var B=E[0],F=N[0];return B==0&&(B=(p*F+y/2)/y),F==0&&(F=(y*B+p/2)/p),0>=B||0>=F?0:(E[0]=B,N[0]=F,1)}function Wt(p,y){return p+(1<<y)-1>>>y}function ie(p,y){return((4278255360&p)+(4278255360&y)>>>0&4278255360)+((16711935&p)+(16711935&y)>>>0&16711935)>>>0}function ee(p,y){I[y]=function(E,N,B,F,q,W,Q){var et;for(et=0;et<q;++et){var ft=I[p](W[Q+et-1],B,F+et);W[Q+et]=ie(E[N+et],ft)}}}function Qe(){this.ud=this.hd=this.jd=0}function _e(p,y){return((4278124286&(p^y))>>>1)+(p&y)>>>0}function Ge(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Pe(p,y){return Ge(p+(p-y+.5>>1))}function Ve(p,y,E){return Math.abs(y-E)-Math.abs(p-E)}function Sn(p,y,E,N,B,F,q){for(N=F[q-1],E=0;E<B;++E)F[q+E]=N=ie(p[y+E],N)}function Me(p,y,E,N,B){var F;for(F=0;F<E;++F){var q=p[y+F],W=q>>8&255,Q=16711935&(Q=(Q=16711935&q)+((W<<16)+W));N[B+F]=(4278255360&q)+Q>>>0}}function be(p,y){y.jd=255&p,y.hd=p>>8&255,y.ud=p>>16&255}function ke(p,y,E,N,B,F){var q;for(q=0;q<N;++q){var W=y[E+q],Q=W>>>8,et=W,ft=255&(ft=(ft=W>>>16)+((p.jd<<24>>24)*(Q<<24>>24)>>>5));et=255&(et=(et+=(p.hd<<24>>24)*(Q<<24>>24)>>>5)+((p.ud<<24>>24)*(ft<<24>>24)>>>5)),B[F+q]=(4278255360&W)+(ft<<16)+et}}function ye(p,y,E,N,B){I[y]=function(F,q,W,Q,et,ft,Tt,Z,mt){for(Q=Tt;Q<Z;++Q)for(Tt=0;Tt<mt;++Tt)et[ft++]=B(W[N(F[q++])])},I[p]=function(F,q,W,Q,et,ft,Tt){var Z=8>>F.b,mt=F.Ea,wt=F.K[0],Mt=F.w;if(8>Z)for(F=(1<<F.b)-1,Mt=(1<<Z)-1;q<W;++q){var Et,Pt=0;for(Et=0;Et<mt;++Et)Et&F||(Pt=N(Q[et++])),ft[Tt++]=B(wt[Pt&Mt]),Pt>>=Z}else I["VP8LMapColor"+E](Q,et,wt,Mt,ft,Tt,q,W,mt)}}function Un(p,y,E,N,B){for(E=y+E;y<E;){var F=p[y++];N[B++]=F>>16&255,N[B++]=F>>8&255,N[B++]=255&F}}function nn(p,y,E,N,B){for(E=y+E;y<E;){var F=p[y++];N[B++]=F>>16&255,N[B++]=F>>8&255,N[B++]=255&F,N[B++]=F>>24&255}}function ae(p,y,E,N,B){for(E=y+E;y<E;){var F=(q=p[y++])>>16&240|q>>12&15,q=240&q|q>>28&15;N[B++]=F,N[B++]=q}}function Se(p,y,E,N,B){for(E=y+E;y<E;){var F=(q=p[y++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;N[B++]=F,N[B++]=q}}function Be(p,y,E,N,B){for(E=y+E;y<E;){var F=p[y++];N[B++]=255&F,N[B++]=F>>8&255,N[B++]=F>>16&255}}function xe(p,y,E,N,B,F){if(F==0)for(E=y+E;y<E;)Xt(N,((F=p[y++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),B+=32;else r(N,B,p,y,E)}function an(p,y){I[y][0]=I[p+"0"],I[y][1]=I[p+"1"],I[y][2]=I[p+"2"],I[y][3]=I[p+"3"],I[y][4]=I[p+"4"],I[y][5]=I[p+"5"],I[y][6]=I[p+"6"],I[y][7]=I[p+"7"],I[y][8]=I[p+"8"],I[y][9]=I[p+"9"],I[y][10]=I[p+"10"],I[y][11]=I[p+"11"],I[y][12]=I[p+"12"],I[y][13]=I[p+"13"],I[y][14]=I[p+"0"],I[y][15]=I[p+"0"]}function ze(p){return p==ec||p==Vc||p==nu||p==Bc}function Ln(){this.eb=[],this.size=this.A=this.fb=0}function sr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function He(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ln,this.f.kb=new sr,this.sd=null}function Te(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function sn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function pi(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function ii(p,y){var E=p.T,N=y.ba.f.RGBA,B=N.eb,F=N.fb+p.ka*N.A,q=Ei[y.ba.S],W=p.y,Q=p.O,et=p.f,ft=p.N,Tt=p.ea,Z=p.W,mt=y.cc,wt=y.dc,Mt=y.Mc,Et=y.Nc,Pt=p.ka,Ft=p.ka+p.T,Jt=p.U,Kt=Jt+1>>1;for(Pt==0?q(W,Q,null,null,et,ft,Tt,Z,et,ft,Tt,Z,B,F,null,null,Jt):(q(y.ec,y.fc,W,Q,mt,wt,Mt,Et,et,ft,Tt,Z,B,F-N.A,B,F,Jt),++E);Pt+2<Ft;Pt+=2)mt=et,wt=ft,Mt=Tt,Et=Z,ft+=p.Rc,Z+=p.Rc,F+=2*N.A,q(W,(Q+=2*p.fa)-p.fa,W,Q,mt,wt,Mt,Et,et,ft,Tt,Z,B,F-N.A,B,F,Jt);return Q+=p.fa,p.j+Ft<p.o?(r(y.ec,y.fc,W,Q,Jt),r(y.cc,y.dc,et,ft,Kt),r(y.Mc,y.Nc,Tt,Z,Kt),E--):1&Ft||q(W,Q,null,null,et,ft,Tt,Z,et,ft,Tt,Z,B,F+N.A,null,null,Jt),E}function Ua(p,y,E){var N=p.F,B=[p.J];if(N!=null){var F=p.U,q=y.ba.S,W=q==tc||q==nu;y=y.ba.f.RGBA;var Q=[0],et=p.ka;Q[0]=p.T,p.Kb&&(et==0?--Q[0]:(--et,B[0]-=p.width),p.j+p.ka+p.T==p.o&&(Q[0]=p.o-p.j-et));var ft=y.eb;et=y.fb+et*y.A,p=$u(N,B[0],p.width,F,Q,ft,et+(W?0:3),y.A),t(E==Q),p&&ze(q)&&gl(ft,et,W,F,Q,y.A)}return 0}function Wr(p){var y=p.ma,E=y.ba.S,N=11>E,B=E==Bi||E==Ga||E==tc||E==eu||E==12||ze(E);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!$s(y.Oa,p,B?11:12))return 0;if(B&&ze(E)&&Zt(),p.da)alert("todo:use_scaling");else{if(N){if(y.Ib=pi,p.Kb){if(E=p.U+1>>1,y.memory=o(p.U+2*E),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+p.U,y.Mc=y.cc,y.Nc=y.dc+E,y.Ib=ii,Zt()}}else alert("todo:EmitYUV");B&&(y.Jb=Ua,N&&bt())}if(N&&!Po){for(p=0;256>p;++p)Si[p]=89858*(p-128)+au>>Xa,Xm[p]=-22014*(p-128)+au,Od[p]=-45773*(p-128),Hc[p]=113618*(p-128)+au>>Xa;for(p=bl;p<Oo;++p)y=76283*(p-16)+au>>Xa,Jm[p-bl]=_r(y,255),Zm[p-bl]=_r(y+8>>4,15);Po=1}return 1}function Ae(p){var y=p.ma,E=p.U,N=p.T;return t(!(1&p.ka)),0>=E||0>=N?0:(E=y.Ib(p,y),y.Jb!=null&&y.Jb(p,y,E),y.Dc+=E,1)}function ss(p){p.ma.memory=null}function Yi(p,y,E,N){return J(p,8)!=47?0:(y[0]=J(p,14)+1,E[0]=J(p,14)+1,N[0]=J(p,1),J(p,3)!=0?0:!p.h)}function Ci(p,y){if(4>p)return p+1;var E=p-2>>1;return(2+(1&p)<<E)+J(y,E)+1}function Ri(p,y){return 120<y?y-120:1<=(E=((E=Wa[y-1])>>4)*p+(8-(15&E)))?E:1;var E}function qn(p,y,E){var N=X(E),B=p[y+=255&N].g-8;return 0<B&&(ct(E,E.u+8),N=X(E),y+=p[y].value,y+=N&(1<<B)-1),ct(E,E.u+p[y].g),p[y].value}function Jn(p,y,E){return E.g+=p.g,E.value+=p.value<<y>>>0,t(8>=E.g),p.g}function Mr(p,y,E){var N=p.xc;return t((y=N==0?0:p.vc[p.md*(E>>N)+(y>>N)])<p.Wb),p.Ya[y]}function mi(p,y,E,N){var B=p.ab,F=p.c*y,q=p.C;y=q+y;var W=E,Q=N;for(N=p.Ta,E=p.Ua;0<B--;){var et=p.gc[B],ft=q,Tt=y,Z=W,mt=Q,wt=(Q=N,W=E,et.Ea);switch(t(ft<Tt),t(Tt<=et.nc),et.hc){case 2:Cr(Z,mt,(Tt-ft)*wt,Q,W);break;case 0:var Mt=ft,Et=Tt,Pt=Q,Ft=W,Jt=(he=et).Ea;Mt==0&&(Xl(Z,mt,null,null,1,Pt,Ft),Sn(Z,mt+1,0,0,Jt-1,Pt,Ft+1),mt+=Jt,Ft+=Jt,++Mt);for(var Kt=1<<he.b,pe=Kt-1,oe=Wt(Jt,he.b),Ye=he.K,he=he.w+(Mt>>he.b)*oe;Mt<Et;){var hn=Ye,lr=he,Je=1;for(Jl(Z,mt,Pt,Ft-Jt,1,Pt,Ft);Je<Jt;){var le=(Je&~pe)+Kt;le>Jt&&(le=Jt),(0,Js[hn[lr++]>>8&15])(Z,mt+ +Je,Pt,Ft+Je-Jt,le-Je,Pt,Ft+Je),Je=le}mt+=Jt,Ft+=Jt,++Mt&pe||(he+=oe)}Tt!=et.nc&&r(Q,W-wt,Q,W+(Tt-ft-1)*wt,wt);break;case 1:for(wt=Z,Et=mt,Jt=(Z=et.Ea)-(Ft=Z&~(Pt=(mt=1<<et.b)-1)),Mt=Wt(Z,et.b),Kt=et.K,et=et.w+(ft>>et.b)*Mt;ft<Tt;){for(pe=Kt,oe=et,Ye=new Qe,he=Et+Ft,hn=Et+Z;Et<he;)be(pe[oe++],Ye),Zl(Ye,wt,Et,mt,Q,W),Et+=mt,W+=mt;Et<hn&&(be(pe[oe++],Ye),Zl(Ye,wt,Et,Jt,Q,W),Et+=Jt,W+=Jt),++ft&Pt||(et+=Mt)}break;case 3:if(Z==Q&&mt==W&&0<et.b){for(Et=Q,Z=wt=W+(Tt-ft)*wt-(Ft=(Tt-ft)*Wt(et.Ea,et.b)),mt=Q,Pt=W,Mt=[],Ft=(Jt=Ft)-1;0<=Ft;--Ft)Mt[Ft]=mt[Pt+Ft];for(Ft=Jt-1;0<=Ft;--Ft)Et[Z+Ft]=Mt[Ft];kc(et,ft,Tt,Q,wt,Q,W)}else kc(et,ft,Tt,Z,mt,Q,W)}W=N,Q=E}Q!=E&&r(N,E,W,Q,F)}function ai(p,y){var E=p.V,N=p.Ba+p.c*p.C,B=y-p.C;if(t(y<=p.l.o),t(16>=B),0<B){var F=p.l,q=p.Ta,W=p.Ua,Q=F.width;if(mi(p,B,E,N),B=W=[W],t((E=p.C)<(N=y)),t(F.v<F.va),N>F.o&&(N=F.o),E<F.j){var et=F.j-E;E=F.j,B[0]+=et*Q}if(E>=N?E=0:(B[0]+=4*F.v,F.ka=E-F.j,F.U=F.va-F.v,F.T=N-E,E=1),E){if(W=W[0],11>(E=p.ca).S){var ft=E.f.RGBA,Tt=(N=E.S,B=F.U,F=F.T,et=ft.eb,ft.A),Z=F;for(ft=ft.fb+p.Ma*ft.A;0<Z--;){var mt=q,wt=W,Mt=B,Et=et,Pt=ft;switch(N){case Mc:tu(mt,wt,Mt,Et,Pt);break;case Bi:Zs(mt,wt,Mt,Et,Pt);break;case ec:Zs(mt,wt,Mt,Et,Pt),gl(Et,Pt,0,Mt,1,0);break;case Uc:pl(mt,wt,Mt,Et,Pt);break;case Ga:xe(mt,wt,Mt,Et,Pt,1);break;case Vc:xe(mt,wt,Mt,Et,Pt,1),gl(Et,Pt,0,Mt,1,0);break;case tc:xe(mt,wt,Mt,Et,Pt,0);break;case nu:xe(mt,wt,Mt,Et,Pt,0),gl(Et,Pt,1,Mt,1,0);break;case eu:to(mt,wt,Mt,Et,Pt);break;case Bc:to(mt,wt,Mt,Et,Pt),Ha(Et,Pt,Mt,1,0);break;case Ro:ks(mt,wt,Mt,Et,Pt);break;default:t(0)}W+=Q,ft+=Tt}p.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");t(p.Ma<=E.height)}}p.C=y,t(p.C<=p.i)}function Dn(p){var y;if(0<p.ua)return 0;for(y=0;y<p.Wb;++y){var E=p.Ya[y].G,N=p.Ya[y].H;if(0<E[1][N[1]+0].g||0<E[2][N[2]+0].g||0<E[3][N[3]+0].g)return 0}return 1}function Gn(p,y,E,N,B,F){if(p.Z!=0){var q=p.qd,W=p.rd;for(t(ro[p.Z]!=null);y<E;++y)ro[p.Z](q,W,N,B,N,B,F),q=N,W=B,B+=F;p.qd=q,p.rd=W}}function Ur(p,y){var E=p.l.ma,N=E.Z==0||E.Z==1?p.l.j:p.C;if(N=p.C<N?N:p.C,t(y<=p.l.o),y>N){var B=p.l.width,F=E.ca,q=E.tb+B*N,W=p.V,Q=p.Ba+p.c*N,et=p.gc;t(p.ab==1),t(et[0].hc==3),Ds(et[0],N,y,W,Q,F,q),Gn(E,N,y,F,q,B)}p.C=p.Ma=y}function Ii(p,y,E,N,B,F,q){var W=p.$/N,Q=p.$%N,et=p.m,ft=p.s,Tt=E+p.$,Z=Tt;B=E+N*B;var mt=E+N*F,wt=280+ft.ua,Mt=p.Pb?W:16777216,Et=0<ft.ua?ft.Wa:null,Pt=ft.wc,Ft=Tt<mt?Mr(ft,Q,W):null;t(p.C<F),t(mt<=B);var Jt=!1;t:for(;;){for(;Jt||Tt<mt;){var Kt=0;if(W>=Mt){var pe=Tt-E;t((Mt=p).Pb),Mt.wd=Mt.m,Mt.xd=pe,0<Mt.s.ua&&Xe(Mt.s.Wa,Mt.s.vb),Mt=W+Io}if(Q&Pt||(Ft=Mr(ft,Q,W)),t(Ft!=null),Ft.Qb&&(y[Tt]=Ft.qb,Jt=!0),!Jt)if(gt(et),Ft.jc){Kt=et,pe=y;var oe=Tt,Ye=Ft.pd[X(Kt)&Co-1];t(Ft.jc),256>Ye.g?(ct(Kt,Kt.u+Ye.g),pe[oe]=Ye.value,Kt=0):(ct(Kt,Kt.u+Ye.g-256),t(256<=Ye.value),Kt=Ye.value),Kt==0&&(Jt=!0)}else Kt=qn(Ft.G[0],Ft.H[0],et);if(et.h)break;if(Jt||256>Kt){if(!Jt)if(Ft.nd)y[Tt]=(Ft.qb|Kt<<8)>>>0;else{if(gt(et),Jt=qn(Ft.G[1],Ft.H[1],et),gt(et),pe=qn(Ft.G[2],Ft.H[2],et),oe=qn(Ft.G[3],Ft.H[3],et),et.h)break;y[Tt]=(oe<<24|Jt<<16|Kt<<8|pe)>>>0}if(Jt=!1,++Tt,++Q>=N&&(Q=0,++W,q!=null&&W<=F&&!(W%16)&&q(p,W),Et!=null))for(;Z<Tt;)Kt=y[Z++],Et.X[(506832829*Kt&4294967295)>>>Et.Mb]=Kt}else if(280>Kt){if(Kt=Ci(Kt-256,et),pe=qn(Ft.G[4],Ft.H[4],et),gt(et),pe=Ri(N,pe=Ci(pe,et)),et.h)break;if(Tt-E<pe||B-Tt<Kt)break t;for(oe=0;oe<Kt;++oe)y[Tt+oe]=y[Tt+oe-pe];for(Tt+=Kt,Q+=Kt;Q>=N;)Q-=N,++W,q!=null&&W<=F&&!(W%16)&&q(p,W);if(t(Tt<=B),Q&Pt&&(Ft=Mr(ft,Q,W)),Et!=null)for(;Z<Tt;)Kt=y[Z++],Et.X[(506832829*Kt&4294967295)>>>Et.Mb]=Kt}else{if(!(Kt<wt))break t;for(Jt=Kt-280,t(Et!=null);Z<Tt;)Kt=y[Z++],Et.X[(506832829*Kt&4294967295)>>>Et.Mb]=Kt;Kt=Tt,t(!(Jt>>>(pe=Et).Xa)),y[Kt]=pe.X[Jt],Jt=!0}Jt||t(et.h==ot(et))}if(p.Pb&&et.h&&Tt<B)t(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Xe(p.s.vb,p.s.Wa);else{if(et.h)break t;q?.(p,W>F?F:W),p.a=0,p.$=Tt-E}return 1}return p.a=3,0}function la(p){t(p!=null),p.vc=null,p.yc=null,p.Ya=null;var y=p.Wa;y!=null&&(y.X=null),p.vb=null,t(p!=null)}function Es(){var p=new de;return p==null?null:(p.a=0,p.xb=nf,an("Predictor","VP8LPredictors"),an("Predictor","VP8LPredictors_C"),an("PredictorAdd","VP8LPredictorsAdd"),an("PredictorAdd","VP8LPredictorsAdd_C"),Cr=Me,Zl=ke,tu=Un,Zs=nn,to=ae,ks=Se,pl=Be,I.VP8LMapColor32b=Ls,I.VP8LMapColor8b=bi,p)}function Ea(p,y,E,N,B){var F=1,q=[p],W=[y],Q=N.m,et=N.s,ft=null,Tt=0;t:for(;;){if(E)for(;F&&J(Q,1);){var Z=q,mt=W,wt=N,Mt=1,Et=wt.m,Pt=wt.gc[wt.ab],Ft=J(Et,2);if(wt.Oc&1<<Ft)F=0;else{switch(wt.Oc|=1<<Ft,Pt.hc=Ft,Pt.Ea=Z[0],Pt.nc=mt[0],Pt.K=[null],++wt.ab,t(4>=wt.ab),Ft){case 0:case 1:Pt.b=J(Et,3)+2,Mt=Ea(Wt(Pt.Ea,Pt.b),Wt(Pt.nc,Pt.b),0,wt,Pt.K),Pt.K=Pt.K[0];break;case 3:var Jt,Kt=J(Et,8)+1,pe=16<Kt?0:4<Kt?1:2<Kt?2:3;if(Z[0]=Wt(Pt.Ea,pe),Pt.b=pe,Jt=Mt=Ea(Kt,1,0,wt,Pt.K)){var oe,Ye=Kt,he=Pt,hn=1<<(8>>he.b),lr=o(hn);if(lr==null)Jt=0;else{var Je=he.K[0],le=he.w;for(lr[0]=he.K[0][0],oe=1;oe<1*Ye;++oe)lr[oe]=ie(Je[le+oe],lr[oe-1]);for(;oe<4*hn;++oe)lr[oe]=0;he.K[0]=null,he.K[0]=lr,Jt=1}}Mt=Jt;break;case 2:break;default:t(0)}F=Mt}}if(q=q[0],W=W[0],F&&J(Q,1)&&!(F=1<=(Tt=J(Q,4))&&11>=Tt)){N.a=3;break t}var te;if(te=F)e:{var dr,Oe,rn,Vn=N,Qr=q,Ti=W,nr=Tt,Br=E,ji=Vn.m,jr=Vn.s,cn=[null],Tn=1,pr=0,In=Ka[nr];n:for(;;){if(Br&&J(ji,1)){var $r=J(ji,3)+2,mr=Wt(Qr,$r),Nn=Wt(Ti,$r),Lr=mr*Nn;if(!Ea(mr,Nn,0,Vn,cn))break n;for(cn=cn[0],jr.xc=$r,dr=0;dr<Lr;++dr){var Bn=cn[dr]>>8&65535;cn[dr]=Bn,Bn>=Tn&&(Tn=Bn+1)}}if(ji.h)break n;for(Oe=0;5>Oe;++Oe){var Fr=vl[Oe];!Oe&&0<nr&&(Fr+=1<<nr),pr<Fr&&(pr=Fr)}var qr=u(Tn*In,O),Kn=Tn,En=u(Kn,At);if(En==null)var Fi=null;else t(65536>=Kn),Fi=En;var wr=o(pr);if(Fi==null||wr==null||qr==null){Vn.a=1;break n}var Ne=qr;for(dr=rn=0;dr<Tn;++dr){var Re=Fi[dr],xn=Re.G,da=Re.H,Ja=0,na=1,zr=0;for(Oe=0;5>Oe;++Oe){Fr=vl[Oe],xn[Oe]=Ne,da[Oe]=rn,!Oe&&0<nr&&(Fr+=1<<nr);i:{var Mo,Uo=Fr,Yc=Vn,rr=wr,af=Ne,sf=rn,Wc=0,io=Yc.m,t1=J(io,1);if(s(rr,0,0,Uo),t1){var of=J(io,1)+1,lf=J(io,1),Kc=J(io,lf==0?1:8);rr[Kc]=1,of==2&&(rr[Kc=J(io,8)]=1);var li=1}else{var Ar=o(19),ac=J(io,4)+4;if(19<ac){Yc.a=3;var Vo=0;break i}for(Mo=0;Mo<ac;++Mo)Ar[nc[Mo]]=J(io,3);var ou=void 0,wl=void 0,Ms=Yc,Qc=Ar,lu=Uo,$c=rr,Xc=0,ao=Ms.m,uf=8,cf=u(128,O);r:for(;D(cf,0,7,Qc,19);){if(J(ao,1)){var Pd=2+2*J(ao,3);if((ou=2+J(ao,Pd))>lu)break r}else ou=lu;for(wl=0;wl<lu&&ou--;){gt(ao);var hf=cf[0+(127&X(ao))];ct(ao,ao.u+hf.g);var Bo=hf.value;if(16>Bo)$c[wl++]=Bo,Bo!=0&&(uf=Bo);else{var Md=Bo==16,Ud=Bo-16,Vd=ru[Ud],ff=J(ao,Ya[Ud])+Vd;if(wl+ff>lu)break r;for(var Bd=Md?uf:0;0<ff--;)$c[wl++]=Bd}}Xc=1;break r}Xc||(Ms.a=3),li=Xc}(li=li&&!io.h)&&(Wc=D(af,sf,8,rr,Uo)),li&&Wc!=0?Vo=Wc:(Yc.a=3,Vo=0)}if(Vo==0)break n;if(na&&jc[Oe]==1&&(na=Ne[rn].g==0),Ja+=Ne[rn].g,rn+=Vo,3>=Oe){var Al,Jc=wr[0];for(Al=1;Al<Fr;++Al)wr[Al]>Jc&&(Jc=wr[Al]);zr+=Jc}}if(Re.nd=na,Re.Qb=0,na&&(Re.qb=(xn[3][da[3]+0].value<<24|xn[1][da[1]+0].value<<16|xn[2][da[2]+0].value)>>>0,Ja==0&&256>xn[0][da[0]+0].value&&(Re.Qb=1,Re.qb+=xn[0][da[0]+0].value<<8)),Re.jc=!Re.Qb&&6>zr,Re.jc){var sc,Us=Re;for(sc=0;sc<Co;++sc){var so=sc,oo=Us.pd[so],Zc=Us.G[0][Us.H[0]+so];256<=Zc.value?(oo.g=Zc.g+256,oo.value=Zc.value):(oo.g=0,oo.value=0,so>>=Jn(Zc,8,oo),so>>=Jn(Us.G[1][Us.H[1]+so],16,oo),so>>=Jn(Us.G[2][Us.H[2]+so],0,oo),Jn(Us.G[3][Us.H[3]+so],24,oo))}}}jr.vc=cn,jr.Wb=Tn,jr.Ya=Fi,jr.yc=qr,te=1;break e}te=0}if(!(F=te)){N.a=3;break t}if(0<Tt){if(et.ua=1<<Tt,!at(et.Wa,Tt)){N.a=1,F=0;break t}}else et.ua=0;var th=N,El=q,jd=W,uu=th.s,cu=uu.xc;if(th.c=El,th.i=jd,uu.md=Wt(El,cu),uu.wc=cu==0?-1:(1<<cu)-1,E){N.xb=Lo;break t}if((ft=o(q*W))==null){N.a=1,F=0;break t}F=(F=Ii(N,ft,0,q,W,W,null))&&!Q.h;break t}return F?(B!=null?B[0]=ft:(t(ft==null),t(E)),N.$=0,E||la(et)):la(et),F}function Li(p,y){var E=p.c*p.i,N=E+y+16*y;return t(p.c<=y),p.V=o(N),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+E+y,1)}function os(p,y){var E=p.C,N=y-E,B=p.V,F=p.Ba+p.c*E;for(t(y<=p.l.o);0<N;){var q=16<N?16:N,W=p.l.ma,Q=p.l.width,et=Q*q,ft=W.ca,Tt=W.tb+Q*E,Z=p.Ta,mt=p.Ua;mi(p,q,B,F),Pa(Z,mt,ft,Tt,et),Gn(W,E,E+q,ft,Tt,Q),N-=q,B+=q*p.c,E+=q}t(E==y),p.C=p.Ma=y}function Wi(){this.ub=this.yd=this.td=this.Rb=0}function gi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ki(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function ua(){this.Yb=(function(){var p=[];return(function y(E,N,B){for(var F=B[N],q=0;q<F&&(E.push(B.length>N+1?[]:0),!(B.length<N+1));q++)y(E[q],N+1,B)})(p,0,[3,11]),p})()}function fr(){this.jb=o(3),this.Wc=h([4,8],ua),this.Xc=h([4,17],ua)}function _o(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Di(){this.ld=this.La=this.dd=this.tc=0}function ca(){this.Na=this.la=0}function Sa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Hs(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function bo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Di),this.Y=0,this.ya=Array(new Hs),this.aa=0,this.l=new ls}function wo(){this.y=o(16),this.f=o(8),this.ea=o(8)}function ol(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new Wi,this.Kc=new gi,this.ed=new _o,this.Qa=new Ki,this.Ic=this.$c=this.Aa=0,this.D=new bo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,L),this.ia=0,this.pb=u(4,Sa),this.Pa=new fr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wo),this.Hd=0,this.rb=Array(new ca),this.sb=0,this.wa=Array(new Di),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Hs),this.L=this.aa=0,this.gd=h([4,2],Di),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ls(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Qi(){var p=new ol;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Ma||(Ma=Ta)),p}function on(p,y,E){return p.a==0&&(p.a=y,p.sc=E,p.cb=0),0}function Tr(p,y,E){return 3<=E&&p[y+0]==157&&p[y+1]==1&&p[y+2]==42}function us(p,y){if(p==null)return 0;if(p.a=0,p.sc="OK",y==null)return on(p,2,"null VP8Io passed to VP8GetHeaders()");var E=y.data,N=y.w,B=y.ha;if(4>B)return on(p,7,"Truncated header.");var F=E[N+0]|E[N+1]<<8|E[N+2]<<16,q=p.Od;if(q.Rb=!(1&F),q.td=F>>1&7,q.yd=F>>4&1,q.ub=F>>5,3<q.td)return on(p,3,"Incorrect keyframe parameters.");if(!q.yd)return on(p,4,"Frame not displayable.");N+=3,B-=3;var W=p.Kc;if(q.Rb){if(7>B)return on(p,7,"cannot parse picture header");if(!Tr(E,N,B))return on(p,3,"Bad code word");W.c=16383&(E[N+4]<<8|E[N+3]),W.Td=E[N+4]>>6,W.i=16383&(E[N+6]<<8|E[N+5]),W.Ud=E[N+6]>>6,N+=7,B-=7,p.za=W.c+15>>4,p.Ub=W.i+15>>4,y.width=W.c,y.height=W.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,s((F=p.Pa).jb,0,255,F.jb.length),t((F=p.Qa)!=null),F.Cb=0,F.Bb=0,F.Fb=1,s(F.Zb,0,0,F.Zb.length),s(F.Lb,0,0,F.Lb)}if(q.ub>B)return on(p,7,"bad partition length");it(F=p.m,E,N,q.ub),N+=q.ub,B-=q.ub,q.Rb&&(W.Ld=St(F),W.Kd=St(F)),W=p.Qa;var Q,et=p.Pa;if(t(F!=null),t(W!=null),W.Cb=St(F),W.Cb){if(W.Bb=St(F),St(F)){for(W.Fb=St(F),Q=0;4>Q;++Q)W.Zb[Q]=St(F)?ht(F,7):0;for(Q=0;4>Q;++Q)W.Lb[Q]=St(F)?ht(F,6):0}if(W.Bb)for(Q=0;3>Q;++Q)et.jb[Q]=St(F)?dt(F,8):255}else W.Bb=0;if(F.Ka)return on(p,3,"cannot parse segment header");if((W=p.ed).zd=St(F),W.Tb=dt(F,6),W.wb=dt(F,3),W.Pc=St(F),W.Pc&&St(F)){for(et=0;4>et;++et)St(F)&&(W.vd[et]=ht(F,6));for(et=0;4>et;++et)St(F)&&(W.od[et]=ht(F,6))}if(p.L=W.Tb==0?0:W.zd?1:2,F.Ka)return on(p,3,"cannot parse filter header");var ft=B;if(B=Q=N,N=Q+ft,W=ft,p.Xb=(1<<dt(p.m,2))-1,ft<3*(et=p.Xb))E=7;else{for(Q+=3*et,W-=3*et,ft=0;ft<et;++ft){var Tt=E[B+0]|E[B+1]<<8|E[B+2]<<16;Tt>W&&(Tt=W),it(p.Jc[+ft],E,Q,Tt),Q+=Tt,W-=Tt,B+=3}it(p.Jc[+et],E,Q,W),E=Q<N?0:5}if(E!=0)return on(p,E,"cannot parse partitions");for(E=dt(Q=p.m,7),B=St(Q)?ht(Q,4):0,N=St(Q)?ht(Q,4):0,W=St(Q)?ht(Q,4):0,et=St(Q)?ht(Q,4):0,Q=St(Q)?ht(Q,4):0,ft=p.Qa,Tt=0;4>Tt;++Tt){if(ft.Cb){var Z=ft.Zb[Tt];ft.Fb||(Z+=E)}else{if(0<Tt){p.pb[Tt]=p.pb[0];continue}Z=E}var mt=p.pb[Tt];mt.Sc[0]=Qa[_r(Z+B,127)],mt.Sc[1]=$a[_r(Z+0,127)],mt.Eb[0]=2*Qa[_r(Z+N,127)],mt.Eb[1]=101581*$a[_r(Z+W,127)]>>16,8>mt.Eb[1]&&(mt.Eb[1]=8),mt.Qc[0]=Qa[_r(Z+et,117)],mt.Qc[1]=$a[_r(Z+Q,127)],mt.lc=Z+Q}if(!q.Rb)return on(p,4,"Not a key frame.");for(St(F),q=p.Pa,E=0;4>E;++E){for(B=0;8>B;++B)for(N=0;3>N;++N)for(W=0;11>W;++W)et=jt(F,or[E][B][N][W])?dt(F,8):kd[E][B][N][W],q.Wc[E][B].Yb[N][W]=et;for(B=0;17>B;++B)q.Xc[E][B]=q.Wc[E][dn[B]]}return p.kc=St(F),p.kc&&(p.Bd=dt(F,8)),p.cb=1}function Ta(p,y,E,N,B,F,q){var W=y[B].Yb[E];for(E=0;16>B;++B){if(!jt(p,W[E+0]))return B;for(;!jt(p,W[E+1]);)if(W=y[++B].Yb[0],E=0,B==16)return 16;var Q=y[B+1].Yb;if(jt(p,W[E+2])){var et=p,ft=0;if(jt(et,(Z=W)[(Tt=E)+3]))if(jt(et,Z[Tt+6])){for(W=0,Tt=2*(ft=jt(et,Z[Tt+8]))+(Z=jt(et,Z[Tt+9+ft])),ft=0,Z=Dd[Tt];Z[W];++W)ft+=ft+jt(et,Z[W]);ft+=3+(8<<Tt)}else jt(et,Z[Tt+7])?(ft=7+2*jt(et,165),ft+=jt(et,145)):ft=5+jt(et,159);else ft=jt(et,Z[Tt+4])?3+jt(et,Z[Tt+5]):2;W=Q[2]}else ft=1,W=Q[1];Q=q+ef[B],0>(et=p).b&&It(et);var Tt,Z=et.b,mt=(Tt=et.Ca>>1)-(et.I>>Z)>>31;--et.b,et.Ca+=mt,et.Ca|=1,et.I-=(Tt+1&mt)<<Z,F[Q]=((ft^mt)-mt)*N[(0<B)+0]}return 16}function fn(p){var y=p.rb[p.sb-1];y.la=0,y.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function yi(p,y,E,N,B){B=p[y+E+32*N]+(B>>3),p[y+E+32*N]=-256&B?0>B?0:255:B}function ki(p,y,E,N,B,F){yi(p,y,0,E,N+B),yi(p,y,1,E,N+F),yi(p,y,2,E,N-F),yi(p,y,3,E,N-B)}function Yn(p){return(20091*p>>16)+p}function si(p,y,E,N){var B,F=0,q=o(16);for(B=0;4>B;++B){var W=p[y+0]+p[y+8],Q=p[y+0]-p[y+8],et=(35468*p[y+4]>>16)-Yn(p[y+12]),ft=Yn(p[y+4])+(35468*p[y+12]>>16);q[F+0]=W+ft,q[F+1]=Q+et,q[F+2]=Q-et,q[F+3]=W-ft,F+=4,y++}for(B=F=0;4>B;++B)W=(p=q[F+0]+4)+q[F+8],Q=p-q[F+8],et=(35468*q[F+4]>>16)-Yn(q[F+12]),yi(E,N,0,0,W+(ft=Yn(q[F+4])+(35468*q[F+12]>>16))),yi(E,N,1,0,Q+et),yi(E,N,2,0,Q-et),yi(E,N,3,0,W-ft),F++,N+=32}function Ao(p,y,E,N){var B=p[y+0]+4,F=35468*p[y+4]>>16,q=Yn(p[y+4]),W=35468*p[y+1]>>16;ki(E,N,0,B+q,p=Yn(p[y+1]),W),ki(E,N,1,B+F,p,W),ki(E,N,2,B-F,p,W),ki(E,N,3,B-q,p,W)}function Ql(p,y,E,N,B){si(p,y,E,N),B&&si(p,y+16,E,N+4)}function ll(p,y,E,N){eo(p,y+0,E,N,1),eo(p,y+32,E,N+128,1)}function vi(p,y,E,N){var B;for(p=p[y+0]+4,B=0;4>B;++B)for(y=0;4>y;++y)yi(E,N,y,B,p)}function ul(p,y,E,N){p[y+0]&&Rn(p,y+0,E,N),p[y+16]&&Rn(p,y+16,E,N+4),p[y+32]&&Rn(p,y+32,E,N+128),p[y+48]&&Rn(p,y+48,E,N+128+4)}function cs(p,y,E,N){var B,F=o(16);for(B=0;4>B;++B){var q=p[y+0+B]+p[y+12+B],W=p[y+4+B]+p[y+8+B],Q=p[y+4+B]-p[y+8+B],et=p[y+0+B]-p[y+12+B];F[0+B]=q+W,F[8+B]=q-W,F[4+B]=et+Q,F[12+B]=et-Q}for(B=0;4>B;++B)q=(p=F[0+4*B]+3)+F[3+4*B],W=F[1+4*B]+F[2+4*B],Q=F[1+4*B]-F[2+4*B],et=p-F[3+4*B],E[N+0]=q+W>>3,E[N+16]=et+Q>>3,E[N+32]=q-W>>3,E[N+48]=et-Q>>3,N+=64}function Nr(p,y,E){var N,B=y-32,F=Vi,q=255-p[B-1];for(N=0;N<E;++N){var W,Q=F,et=q+p[y-1];for(W=0;W<E;++W)p[y+W]=Q[et+p[B+W]];y+=32}}function Eo(p,y){Nr(p,y,4)}function cl(p,y){Nr(p,y,8)}function hl(p,y){Nr(p,y,16)}function So(p,y){var E;for(E=0;16>E;++E)r(p,y+32*E,p,y-32,16)}function To(p,y){var E;for(E=16;0<E;--E)s(p,y,p[y-1],16),y+=32}function ha(p,y,E){var N;for(N=0;16>N;++N)s(y,E+32*N,p,16)}function Na(p,y){var E,N=16;for(E=0;16>E;++E)N+=p[y-1+32*E]+p[y+E-32];ha(N>>5,p,y)}function xa(p,y){var E,N=8;for(E=0;16>E;++E)N+=p[y-1+32*E];ha(N>>4,p,y)}function hs(p,y){var E,N=8;for(E=0;16>E;++E)N+=p[y+E-32];ha(N>>4,p,y)}function Oi(p,y){ha(128,p,y)}function De(p,y,E){return p+2*y+E+2>>2}function Va(p,y){var E,N=y-32;for(N=new Uint8Array([De(p[N-1],p[N+0],p[N+1]),De(p[N+0],p[N+1],p[N+2]),De(p[N+1],p[N+2],p[N+3]),De(p[N+2],p[N+3],p[N+4])]),E=0;4>E;++E)r(p,y+32*E,N,0,N.length)}function Gs(p,y){var E=p[y-1],N=p[y-1+32],B=p[y-1+64],F=p[y-1+96];Xt(p,y+0,16843009*De(p[y-1-32],E,N)),Xt(p,y+32,16843009*De(E,N,B)),Xt(p,y+64,16843009*De(N,B,F)),Xt(p,y+96,16843009*De(B,F,F))}function No(p,y){var E,N=4;for(E=0;4>E;++E)N+=p[y+E-32]+p[y-1+32*E];for(N>>=3,E=0;4>E;++E)s(p,y+32*E,N,4)}function Ss(p,y){var E=p[y-1+0],N=p[y-1+32],B=p[y-1+64],F=p[y-1-32],q=p[y+0-32],W=p[y+1-32],Q=p[y+2-32],et=p[y+3-32];p[y+0+96]=De(N,B,p[y-1+96]),p[y+1+96]=p[y+0+64]=De(E,N,B),p[y+2+96]=p[y+1+64]=p[y+0+32]=De(F,E,N),p[y+3+96]=p[y+2+64]=p[y+1+32]=p[y+0+0]=De(q,F,E),p[y+3+64]=p[y+2+32]=p[y+1+0]=De(W,q,F),p[y+3+32]=p[y+2+0]=De(Q,W,q),p[y+3+0]=De(et,Q,W)}function Kr(p,y){var E=p[y+1-32],N=p[y+2-32],B=p[y+3-32],F=p[y+4-32],q=p[y+5-32],W=p[y+6-32],Q=p[y+7-32];p[y+0+0]=De(p[y+0-32],E,N),p[y+1+0]=p[y+0+32]=De(E,N,B),p[y+2+0]=p[y+1+32]=p[y+0+64]=De(N,B,F),p[y+3+0]=p[y+2+32]=p[y+1+64]=p[y+0+96]=De(B,F,q),p[y+3+32]=p[y+2+64]=p[y+1+96]=De(F,q,W),p[y+3+64]=p[y+2+96]=De(q,W,Q),p[y+3+96]=De(W,Q,Q)}function Vr(p,y){var E=p[y-1+0],N=p[y-1+32],B=p[y-1+64],F=p[y-1-32],q=p[y+0-32],W=p[y+1-32],Q=p[y+2-32],et=p[y+3-32];p[y+0+0]=p[y+1+64]=F+q+1>>1,p[y+1+0]=p[y+2+64]=q+W+1>>1,p[y+2+0]=p[y+3+64]=W+Q+1>>1,p[y+3+0]=Q+et+1>>1,p[y+0+96]=De(B,N,E),p[y+0+64]=De(N,E,F),p[y+0+32]=p[y+1+96]=De(E,F,q),p[y+1+32]=p[y+2+96]=De(F,q,W),p[y+2+32]=p[y+3+96]=De(q,W,Q),p[y+3+32]=De(W,Q,et)}function Ys(p,y){var E=p[y+0-32],N=p[y+1-32],B=p[y+2-32],F=p[y+3-32],q=p[y+4-32],W=p[y+5-32],Q=p[y+6-32],et=p[y+7-32];p[y+0+0]=E+N+1>>1,p[y+1+0]=p[y+0+64]=N+B+1>>1,p[y+2+0]=p[y+1+64]=B+F+1>>1,p[y+3+0]=p[y+2+64]=F+q+1>>1,p[y+0+32]=De(E,N,B),p[y+1+32]=p[y+0+96]=De(N,B,F),p[y+2+32]=p[y+1+96]=De(B,F,q),p[y+3+32]=p[y+2+96]=De(F,q,W),p[y+3+64]=De(q,W,Q),p[y+3+96]=De(W,Q,et)}function kn(p,y){var E=p[y-1+0],N=p[y-1+32],B=p[y-1+64],F=p[y-1+96];p[y+0+0]=E+N+1>>1,p[y+2+0]=p[y+0+32]=N+B+1>>1,p[y+2+32]=p[y+0+64]=B+F+1>>1,p[y+1+0]=De(E,N,B),p[y+3+0]=p[y+1+32]=De(N,B,F),p[y+3+32]=p[y+1+64]=De(B,F,F),p[y+3+64]=p[y+2+64]=p[y+0+96]=p[y+1+96]=p[y+2+96]=p[y+3+96]=F}function $i(p,y){var E=p[y-1+0],N=p[y-1+32],B=p[y-1+64],F=p[y-1+96],q=p[y-1-32],W=p[y+0-32],Q=p[y+1-32],et=p[y+2-32];p[y+0+0]=p[y+2+32]=E+q+1>>1,p[y+0+32]=p[y+2+64]=N+E+1>>1,p[y+0+64]=p[y+2+96]=B+N+1>>1,p[y+0+96]=F+B+1>>1,p[y+3+0]=De(W,Q,et),p[y+2+0]=De(q,W,Q),p[y+1+0]=p[y+3+32]=De(E,q,W),p[y+1+32]=p[y+3+64]=De(N,E,q),p[y+1+64]=p[y+3+96]=De(B,N,E),p[y+1+96]=De(F,B,N)}function Ws(p,y){var E;for(E=0;8>E;++E)r(p,y+32*E,p,y-32,8)}function Ca(p,y){var E;for(E=0;8>E;++E)s(p,y,p[y-1],8),y+=32}function Ts(p,y,E){var N;for(N=0;8>N;++N)s(y,E+32*N,p,8)}function Ba(p,y){var E,N=8;for(E=0;8>E;++E)N+=p[y+E-32]+p[y-1+32*E];Ts(N>>4,p,y)}function fs(p,y){var E,N=4;for(E=0;8>E;++E)N+=p[y+E-32];Ts(N>>3,p,y)}function Xi(p,y){var E,N=4;for(E=0;8>E;++E)N+=p[y-1+32*E];Ts(N>>3,p,y)}function xr(p,y){Ts(128,p,y)}function Ji(p,y,E){var N=p[y-E],B=p[y+0],F=3*(B-N)+no[1020+p[y-2*E]-p[y+E]],q=Zu[112+(F+4>>3)];p[y-E]=Vi[255+N+Zu[112+(F+3>>3)]],p[y+0]=Vi[255+B-q]}function Pi(p,y,E,N){var B=p[y+0],F=p[y+E];return wi[255+p[y-2*E]-p[y-E]]>N||wi[255+F-B]>N}function ja(p,y,E,N){return 4*wi[255+p[y-E]-p[y+0]]+wi[255+p[y-2*E]-p[y+E]]<=N}function Ns(p,y,E,N,B){var F=p[y-3*E],q=p[y-2*E],W=p[y-E],Q=p[y+0],et=p[y+E],ft=p[y+2*E],Tt=p[y+3*E];return 4*wi[255+W-Q]+wi[255+q-et]>N?0:wi[255+p[y-4*E]-F]<=B&&wi[255+F-q]<=B&&wi[255+q-W]<=B&&wi[255+Tt-ft]<=B&&wi[255+ft-et]<=B&&wi[255+et-Q]<=B}function Fa(p,y,E,N){var B=2*N+1;for(N=0;16>N;++N)ja(p,y+N,E,B)&&Ji(p,y+N,E)}function qa(p,y,E,N){var B=2*N+1;for(N=0;16>N;++N)ja(p,y+N*E,1,B)&&Ji(p,y+N*E,1)}function Ra(p,y,E,N){var B;for(B=3;0<B;--B)Fa(p,y+=4*E,E,N)}function Ks(p,y,E,N){var B;for(B=3;0<B;--B)qa(p,y+=4,E,N)}function Ia(p,y,E,N,B,F,q,W){for(F=2*F+1;0<B--;){if(Ns(p,y,E,F,q))if(Pi(p,y,E,W))Ji(p,y,E);else{var Q=p,et=y,ft=E,Tt=Q[et-2*ft],Z=Q[et-ft],mt=Q[et+0],wt=Q[et+ft],Mt=Q[et+2*ft],Et=27*(Ft=no[1020+3*(mt-Z)+no[1020+Tt-wt]])+63>>7,Pt=18*Ft+63>>7,Ft=9*Ft+63>>7;Q[et-3*ft]=Vi[255+Q[et-3*ft]+Ft],Q[et-2*ft]=Vi[255+Tt+Pt],Q[et-ft]=Vi[255+Z+Et],Q[et+0]=Vi[255+mt-Et],Q[et+ft]=Vi[255+wt-Pt],Q[et+2*ft]=Vi[255+Mt-Ft]}y+=N}}function Zi(p,y,E,N,B,F,q,W){for(F=2*F+1;0<B--;){if(Ns(p,y,E,F,q))if(Pi(p,y,E,W))Ji(p,y,E);else{var Q=p,et=y,ft=E,Tt=Q[et-ft],Z=Q[et+0],mt=Q[et+ft],wt=Zu[112+(4+(Mt=3*(Z-Tt))>>3)],Mt=Zu[112+(Mt+3>>3)],Et=wt+1>>1;Q[et-2*ft]=Vi[255+Q[et-2*ft]+Et],Q[et-ft]=Vi[255+Tt+Mt],Q[et+0]=Vi[255+Z-wt],Q[et+ft]=Vi[255+mt-Et]}y+=N}}function fl(p,y,E,N,B,F){Ia(p,y,E,1,16,N,B,F)}function dl(p,y,E,N,B,F){Ia(p,y,1,E,16,N,B,F)}function La(p,y,E,N,B,F){var q;for(q=3;0<q;--q)Zi(p,y+=4*E,E,1,16,N,B,F)}function xo(p,y,E,N,B,F){var q;for(q=3;0<q;--q)Zi(p,y+=4,1,E,16,N,B,F)}function w(p,y,E,N,B,F,q,W){Ia(p,y,B,1,8,F,q,W),Ia(E,N,B,1,8,F,q,W)}function V(p,y,E,N,B,F,q,W){Ia(p,y,1,B,8,F,q,W),Ia(E,N,1,B,8,F,q,W)}function tt(p,y,E,N,B,F,q,W){Zi(p,y+4*B,B,1,8,F,q,W),Zi(E,N+4*B,B,1,8,F,q,W)}function ut(p,y,E,N,B,F,q,W){Zi(p,y+4,1,B,8,F,q,W),Zi(E,N+4,1,B,8,F,q,W)}function yt(){this.ba=new He,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new sn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ut(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function $t(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ue(){this.ua=0,this.Wa=new qe,this.vb=new qe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new At,this.yc=new O}function de(){this.xb=this.a=0,this.l=new ls,this.ca=new He,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ue,this.ab=0,this.gc=u(4,$t),this.Oc=0}function Ce(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ls,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ve(p,y,E,N,B,F,q){for(p=p==null?0:p[y+0],y=0;y<q;++y)B[F+y]=p+E[N+y]&255,p=B[F+y]}function gn(p,y,E,N,B,F,q){var W;if(p==null)ve(null,null,E,N,B,F,q);else for(W=0;W<q;++W)B[F+W]=p[y+W]+E[N+W]&255}function Zn(p,y,E,N,B,F,q){if(p==null)ve(null,null,E,N,B,F,q);else{var W,Q=p[y+0],et=Q,ft=Q;for(W=0;W<q;++W)et=ft+(Q=p[y+W])-et,ft=E[N+W]+(-256&et?0>et?0:255:et)&255,et=Q,B[F+W]=ft}}function zn(p,y,E,N){var B=y.width,F=y.o;if(t(p!=null&&y!=null),0>E||0>=N||E+N>F)return null;if(!p.Cc){if(p.ga==null){var q;if(p.ga=new Ce,(q=p.ga==null)||(q=y.width*y.o,t(p.Gb.length==0),p.Gb=o(q),p.Uc=0,p.Gb==null?q=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,q=1),q=!q),!q){q=p.ga;var W=p.Fa,Q=p.P,et=p.qc,ft=p.mb,Tt=p.nb,Z=Q+1,mt=et-1,wt=q.l;if(t(W!=null&&ft!=null&&y!=null),ro[0]=null,ro[1]=ve,ro[2]=gn,ro[3]=Zn,q.ca=ft,q.tb=Tt,q.c=y.width,q.i=y.height,t(0<q.c&&0<q.i),1>=et)y=0;else if(q.$a=3&W[Q+0],q.Z=W[Q+0]>>2&3,q.Lc=W[Q+0]>>4&3,Q=W[Q+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||Q)y=0;else if(wt.put=Ae,wt.ac=Wr,wt.bc=ss,wt.ma=q,wt.width=y.width,wt.height=y.height,wt.Da=y.Da,wt.v=y.v,wt.va=y.va,wt.j=y.j,wt.o=y.o,q.$a)t:{t(q.$a==1),y=Es();e:for(;;){if(y==null){y=0;break t}if(t(q!=null),q.mc=y,y.c=q.c,y.i=q.i,y.l=q.l,y.l.ma=q,y.l.width=q.c,y.l.height=q.i,y.a=0,Nt(y.m,W,Z,mt),!Ea(q.c,q.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&Dn(y.s)?(q.ic=1,W=y.c*y.i,y.Ta=null,y.Ua=0,y.V=o(W),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(q.ic=0,y=Li(y,q.c)),!y))break e;y=1;break t}q.mc=null,y=0}else y=mt>=q.c*q.i;q=!y}if(q)return null;p.ga.Lc!=1?p.Ga=0:N=F-E}t(p.ga!=null),t(E+N<=F);t:{if(y=(W=p.ga).c,F=W.l.o,W.$a==0){if(Z=p.rc,mt=p.Vc,wt=p.Fa,Q=p.P+1+E*y,et=p.mb,ft=p.nb+E*y,t(Q<=p.P+p.qc),W.Z!=0)for(t(ro[W.Z]!=null),q=0;q<N;++q)ro[W.Z](Z,mt,wt,Q,et,ft,y),Z=et,mt=ft,ft+=y,Q+=y;else for(q=0;q<N;++q)r(et,ft,wt,Q,y),Z=et,mt=ft,ft+=y,Q+=y;p.rc=Z,p.Vc=mt}else{if(t(W.mc!=null),y=E+N,t((q=W.mc)!=null),t(y<=q.i),q.C>=y)y=1;else if(W.ic||bt(),W.ic){W=q.V,Z=q.Ba,mt=q.c;var Mt=q.i,Et=(wt=1,Q=q.$/mt,et=q.$%mt,ft=q.m,Tt=q.s,q.$),Pt=mt*Mt,Ft=mt*y,Jt=Tt.wc,Kt=Et<Ft?Mr(Tt,et,Q):null;t(Et<=Pt),t(y<=Mt),t(Dn(Tt));e:for(;;){for(;!ft.h&&Et<Ft;){if(et&Jt||(Kt=Mr(Tt,et,Q)),t(Kt!=null),gt(ft),256>(Mt=qn(Kt.G[0],Kt.H[0],ft)))W[Z+Et]=Mt,++Et,++et>=mt&&(et=0,++Q<=y&&!(Q%16)&&Ur(q,Q));else{if(!(280>Mt)){wt=0;break e}Mt=Ci(Mt-256,ft);var pe,oe=qn(Kt.G[4],Kt.H[4],ft);if(gt(ft),!(Et>=(oe=Ri(mt,oe=Ci(oe,ft)))&&Pt-Et>=Mt)){wt=0;break e}for(pe=0;pe<Mt;++pe)W[Z+Et+pe]=W[Z+Et+pe-oe];for(Et+=Mt,et+=Mt;et>=mt;)et-=mt,++Q<=y&&!(Q%16)&&Ur(q,Q);Et<Ft&&et&Jt&&(Kt=Mr(Tt,et,Q))}t(ft.h==ot(ft))}Ur(q,Q>y?y:Q);break e}!wt||ft.h&&Et<Pt?(wt=0,q.a=ft.h?5:3):q.$=Et,y=wt}else y=Ii(q,q.V,q.Ba,q.c,q.i,y,os);if(!y){N=0;break t}}E+N>=F&&(p.Cc=1),N=1}if(!N)return null;if(p.Cc&&((N=p.ga)!=null&&(N.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+E*B}function m(p,y,E,N,B,F){for(;0<B--;){var q,W=p,Q=y+(E?1:0),et=p,ft=y+(E?0:3);for(q=0;q<N;++q){var Tt=et[ft+4*q];Tt!=255&&(Tt*=32897,W[Q+4*q+0]=W[Q+4*q+0]*Tt>>23,W[Q+4*q+1]=W[Q+4*q+1]*Tt>>23,W[Q+4*q+2]=W[Q+4*q+2]*Tt>>23)}y+=F}}function S(p,y,E,N,B){for(;0<N--;){var F;for(F=0;F<E;++F){var q=p[y+2*F+0],W=15&(et=p[y+2*F+1]),Q=4369*W,et=(240&et|et>>4)*Q>>16;p[y+2*F+0]=(240&q|q>>4)*Q>>16&240|(15&q|q<<4)*Q>>16>>4&15,p[y+2*F+1]=240&et|W}y+=B}}function R(p,y,E,N,B,F,q,W){var Q,et,ft=255;for(et=0;et<B;++et){for(Q=0;Q<N;++Q){var Tt=p[y+Q];F[q+4*Q]=Tt,ft&=Tt}y+=E,q+=W}return ft!=255}function K(p,y,E,N,B){var F;for(F=0;F<B;++F)E[N+F]=p[y+F]>>8}function bt(){gl=m,Ha=S,$u=R,Pa=K}function Ct(p,y,E){I[p]=function(N,B,F,q,W,Q,et,ft,Tt,Z,mt,wt,Mt,Et,Pt,Ft,Jt){var Kt,pe=Jt-1>>1,oe=W[Q+0]|et[ft+0]<<16,Ye=Tt[Z+0]|mt[wt+0]<<16;t(N!=null);var he=3*oe+Ye+131074>>2;for(y(N[B+0],255&he,he>>16,Mt,Et),F!=null&&(he=3*Ye+oe+131074>>2,y(F[q+0],255&he,he>>16,Pt,Ft)),Kt=1;Kt<=pe;++Kt){var hn=W[Q+Kt]|et[ft+Kt]<<16,lr=Tt[Z+Kt]|mt[wt+Kt]<<16,Je=oe+hn+Ye+lr+524296,le=Je+2*(hn+Ye)>>3;he=le+oe>>1,oe=(Je=Je+2*(oe+lr)>>3)+hn>>1,y(N[B+2*Kt-1],255&he,he>>16,Mt,Et+(2*Kt-1)*E),y(N[B+2*Kt-0],255&oe,oe>>16,Mt,Et+(2*Kt-0)*E),F!=null&&(he=Je+Ye>>1,oe=le+lr>>1,y(F[q+2*Kt-1],255&he,he>>16,Pt,Ft+(2*Kt-1)*E),y(F[q+2*Kt+0],255&oe,oe>>16,Pt,Ft+(2*Kt+0)*E)),oe=hn,Ye=lr}1&Jt||(he=3*oe+Ye+131074>>2,y(N[B+Jt-1],255&he,he>>16,Mt,Et+(Jt-1)*E),F!=null&&(he=3*Ye+oe+131074>>2,y(F[q+Jt-1],255&he,he>>16,Pt,Ft+(Jt-1)*E)))}}function Zt(){Ei[Mc]=_l,Ei[Bi]=iu,Ei[Uc]=rf,Ei[Ga]=qc,Ei[tc]=Do,Ei[eu]=Ps,Ei[Ro]=ko,Ei[ec]=iu,Ei[Vc]=qc,Ei[nu]=Do,Ei[Bc]=Ps}function je(p){return p&-16384?0>p?0:255:p>>zc}function Wn(p,y){return je((19077*p>>8)+(26149*y>>8)-14234)}function un(p,y,E){return je((19077*p>>8)-(6419*y>>8)-(13320*E>>8)+8708)}function On(p,y){return je((19077*p>>8)+(33050*y>>8)-17685)}function oi(p,y,E,N,B){N[B+0]=Wn(p,E),N[B+1]=un(p,y,E),N[B+2]=On(p,y)}function Mi(p,y,E,N,B){N[B+0]=On(p,y),N[B+1]=un(p,y,E),N[B+2]=Wn(p,E)}function tr(p,y,E,N,B){var F=un(p,y,E);y=F<<3&224|On(p,y)>>3,N[B+0]=248&Wn(p,E)|F>>5,N[B+1]=y}function _i(p,y,E,N,B){var F=240&On(p,y)|15;N[B+0]=240&Wn(p,E)|un(p,y,E)>>4,N[B+1]=F}function Da(p,y,E,N,B){N[B+0]=255,oi(p,y,E,N,B+1)}function xs(p,y,E,N,B){Mi(p,y,E,N,B),N[B+3]=255}function Cs(p,y,E,N,B){oi(p,y,E,N,B),N[B+3]=255}function _r(p,y){return 0>p?0:p>y?y:p}function Qs(p,y,E){I[p]=function(N,B,F,q,W,Q,et,ft,Tt){for(var Z=ft+(-2&Tt)*E;ft!=Z;)y(N[B+0],F[q+0],W[Q+0],et,ft),y(N[B+1],F[q+0],W[Q+0],et,ft+E),B+=2,++q,++Q,ft+=2*E;1&Tt&&y(N[B+0],F[q+0],W[Q+0],et,ft)}}function $l(p,y,E){return E==0?p==0?y==0?6:5:y==0?4:0:E}function Wu(p,y,E,N,B){switch(p>>>30){case 3:eo(y,E,N,B,0);break;case 2:Ui(y,E,N,B);break;case 1:Rn(y,E,N,B)}}function ka(p,y){var E,N,B=y.M,F=y.Nb,q=p.oc,W=p.pc+40,Q=p.oc,et=p.pc+584,ft=p.oc,Tt=p.pc+600;for(E=0;16>E;++E)q[W+32*E-1]=129;for(E=0;8>E;++E)Q[et+32*E-1]=129,ft[Tt+32*E-1]=129;for(0<B?q[W-1-32]=Q[et-1-32]=ft[Tt-1-32]=129:(s(q,W-32-1,127,21),s(Q,et-32-1,127,9),s(ft,Tt-32-1,127,9)),N=0;N<p.za;++N){var Z=y.ya[y.aa+N];if(0<N){for(E=-1;16>E;++E)r(q,W+32*E-4,q,W+32*E+12,4);for(E=-1;8>E;++E)r(Q,et+32*E-4,Q,et+32*E+4,4),r(ft,Tt+32*E-4,ft,Tt+32*E+4,4)}var mt=p.Gd,wt=p.Hd+N,Mt=Z.ad,Et=Z.Hc;if(0<B&&(r(q,W-32,mt[wt].y,0,16),r(Q,et-32,mt[wt].f,0,8),r(ft,Tt-32,mt[wt].ea,0,8)),Z.Za){var Pt=q,Ft=W-32+16;for(0<B&&(N>=p.za-1?s(Pt,Ft,mt[wt].y[15],4):r(Pt,Ft,mt[wt+1].y,0,4)),E=0;4>E;E++)Pt[Ft+128+E]=Pt[Ft+256+E]=Pt[Ft+384+E]=Pt[Ft+0+E];for(E=0;16>E;++E,Et<<=2)Pt=q,Ft=W+Ir[E],br[Z.Ob[E]](Pt,Ft),Wu(Et,Mt,16*+E,Pt,Ft)}else if(Pt=$l(N,B,Z.Ob[0]),ea[Pt](q,W),Et!=0)for(E=0;16>E;++E,Et<<=2)Wu(Et,Mt,16*+E,q,W+Ir[E]);for(E=Z.Gc,Pt=$l(N,B,Z.Dd),gs[Pt](Q,et),gs[Pt](ft,Tt),Et=Mt,Pt=Q,Ft=et,255&(Z=0|E)&&(170&Z?za(Et,256,Pt,Ft):An(Et,256,Pt,Ft)),Z=ft,Et=Tt,255&(E>>=8)&&(170&E?za(Mt,320,Z,Et):An(Mt,320,Z,Et)),B<p.Ub-1&&(r(mt[wt].y,0,q,W+480,16),r(mt[wt].f,0,Q,et+224,8),r(mt[wt].ea,0,ft,Tt+224,8)),E=8*F*p.B,mt=p.sa,wt=p.ta+16*N+16*F*p.R,Mt=p.qa,Z=p.ra+8*N+E,Et=p.Ha,Pt=p.Ia+8*N+E,E=0;16>E;++E)r(mt,wt+E*p.R,q,W+32*E,16);for(E=0;8>E;++E)r(Mt,Z+E*p.B,Q,et+32*E,8),r(Et,Pt+E*p.B,ft,Tt+32*E,8)}}function ds(p,y,E,N,B,F,q,W,Q){var et=[0],ft=[0],Tt=0,Z=Q!=null?Q.kd:0,mt=Q??new Ut;if(p==null||12>E)return 7;mt.data=p,mt.w=y,mt.ha=E,y=[y],E=[E],mt.gb=[mt.gb];t:{var wt=y,Mt=E,Et=mt.gb;if(t(p!=null),t(Mt!=null),t(Et!=null),Et[0]=0,12<=Mt[0]&&!e(p,wt[0],"RIFF")){if(e(p,wt[0]+8,"WEBP")){Et=3;break t}var Pt=Ot(p,wt[0]+4);if(12>Pt||4294967286<Pt){Et=3;break t}if(Z&&Pt>Mt[0]-8){Et=7;break t}Et[0]=Pt,wt[0]+=12,Mt[0]-=12}Et=0}if(Et!=0)return Et;for(Pt=0<mt.gb[0],E=E[0];;){t:{var Ft=p;Mt=y,Et=E;var Jt=et,Kt=ft,pe=wt=[0];if((he=Tt=[Tt])[0]=0,8>Et[0])Et=7;else{if(!e(Ft,Mt[0],"VP8X")){if(Ot(Ft,Mt[0]+4)!=10){Et=3;break t}if(18>Et[0]){Et=7;break t}var oe=Ot(Ft,Mt[0]+8),Ye=1+re(Ft,Mt[0]+12);if(2147483648<=Ye*(Ft=1+re(Ft,Mt[0]+15))){Et=3;break t}pe!=null&&(pe[0]=oe),Jt!=null&&(Jt[0]=Ye),Kt!=null&&(Kt[0]=Ft),Mt[0]+=18,Et[0]-=18,he[0]=1}Et=0}}if(Tt=Tt[0],wt=wt[0],Et!=0)return Et;if(Mt=!!(2&wt),!Pt&&Tt)return 3;if(F!=null&&(F[0]=!!(16&wt)),q!=null&&(q[0]=Mt),W!=null&&(W[0]=0),q=et[0],wt=ft[0],Tt&&Mt&&Q==null){Et=0;break}if(4>E){Et=7;break}if(Pt&&Tt||!Pt&&!Tt&&!e(p,y[0],"ALPH")){E=[E],mt.na=[mt.na],mt.P=[mt.P],mt.Sa=[mt.Sa];t:{oe=p,Et=y,Pt=E;var he=mt.gb;Jt=mt.na,Kt=mt.P,pe=mt.Sa,Ye=22,t(oe!=null),t(Pt!=null),Ft=Et[0];var hn=Pt[0];for(t(Jt!=null),t(pe!=null),Jt[0]=null,Kt[0]=null,pe[0]=0;;){if(Et[0]=Ft,Pt[0]=hn,8>hn){Et=7;break t}var lr=Ot(oe,Ft+4);if(4294967286<lr){Et=3;break t}var Je=8+lr+1&-2;if(Ye+=Je,0<he&&Ye>he){Et=3;break t}if(!e(oe,Ft,"VP8 ")||!e(oe,Ft,"VP8L")){Et=0;break t}if(hn[0]<Je){Et=7;break t}e(oe,Ft,"ALPH")||(Jt[0]=oe,Kt[0]=Ft+8,pe[0]=lr),Ft+=Je,hn-=Je}}if(E=E[0],mt.na=mt.na[0],mt.P=mt.P[0],mt.Sa=mt.Sa[0],Et!=0)break}E=[E],mt.Ja=[mt.Ja],mt.xa=[mt.xa];t:if(he=p,Et=y,Pt=E,Jt=mt.gb[0],Kt=mt.Ja,pe=mt.xa,oe=Et[0],Ft=!e(he,oe,"VP8 "),Ye=!e(he,oe,"VP8L"),t(he!=null),t(Pt!=null),t(Kt!=null),t(pe!=null),8>Pt[0])Et=7;else{if(Ft||Ye){if(he=Ot(he,oe+4),12<=Jt&&he>Jt-12){Et=3;break t}if(Z&&he>Pt[0]-8){Et=7;break t}Kt[0]=he,Et[0]+=8,Pt[0]-=8,pe[0]=Ye}else pe[0]=5<=Pt[0]&&he[oe+0]==47&&!(he[oe+4]>>5),Kt[0]=Pt[0];Et=0}if(E=E[0],mt.Ja=mt.Ja[0],mt.xa=mt.xa[0],y=y[0],Et!=0)break;if(4294967286<mt.Ja)return 3;if(W==null||Mt||(W[0]=mt.xa?2:1),q=[q],wt=[wt],mt.xa){if(5>E){Et=7;break}W=q,Z=wt,Mt=F,p==null||5>E?p=0:5<=E&&p[y+0]==47&&!(p[y+4]>>5)?(Pt=[0],he=[0],Jt=[0],Nt(Kt=new Y,p,y,E),Yi(Kt,Pt,he,Jt)?(W!=null&&(W[0]=Pt[0]),Z!=null&&(Z[0]=he[0]),Mt!=null&&(Mt[0]=Jt[0]),p=1):p=0):p=0}else{if(10>E){Et=7;break}W=wt,p==null||10>E||!Tr(p,y+3,E-3)?p=0:(Z=p[y+0]|p[y+1]<<8|p[y+2]<<16,Mt=16383&(p[y+7]<<8|p[y+6]),p=16383&(p[y+9]<<8|p[y+8]),1&Z||3<(Z>>1&7)||!(Z>>4&1)||Z>>5>=mt.Ja||!Mt||!p?p=0:(q&&(q[0]=Mt),W&&(W[0]=p),p=1))}if(!p||(q=q[0],wt=wt[0],Tt&&(et[0]!=q||ft[0]!=wt)))return 3;Q!=null&&(Q[0]=mt,Q.offset=y-Q.w,t(4294967286>y-Q.w),t(Q.offset==Q.ha-E));break}return Et==0||Et==7&&Tt&&Q==null?(F!=null&&(F[0]|=mt.na!=null&&0<mt.na.length),N!=null&&(N[0]=q),B!=null&&(B[0]=wt),0):Et}function $s(p,y,E){var N=y.width,B=y.height,F=0,q=0,W=N,Q=B;if(y.Da=p!=null&&0<p.Da,y.Da&&(W=p.cd,Q=p.bd,F=p.v,q=p.j,11>E||(F&=-2,q&=-2),0>F||0>q||0>=W||0>=Q||F+W>N||q+Q>B))return 0;if(y.v=F,y.j=q,y.va=F+W,y.o=q+Q,y.U=W,y.T=Q,y.da=p!=null&&0<p.da,y.da){if(!we(W,Q,E=[p.ib],F=[p.hb]))return 0;y.ib=E[0],y.hb=F[0]}return y.ob=p!=null&&p.ob,y.Kb=p==null||!p.Sd,y.da&&(y.ob=y.ib<3*N/4&&y.hb<3*B/4,y.Kb=0),1}function Ku(p){if(p==null)return 2;if(11>p.S){var y=p.f.RGBA;y.fb+=(p.height-1)*y.A,y.A=-y.A}else y=p.f.kb,p=p.height,y.O+=(p-1)*y.fa,y.fa=-y.fa,y.N+=(p-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(p-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(p-1)*y.lb,y.lb=-y.lb);return 0}function ps(p,y,E,N){if(N==null||0>=p||0>=y)return 2;if(E!=null){if(E.Da){var B=E.cd,F=E.bd,q=-2&E.v,W=-2&E.j;if(0>q||0>W||0>=B||0>=F||q+B>p||W+F>y)return 2;p=B,y=F}if(E.da){if(!we(p,y,B=[E.ib],F=[E.hb]))return 2;p=B[0],y=F[0]}}N.width=p,N.height=y;t:{var Q=N.width,et=N.height;if(p=N.S,0>=Q||0>=et||!(p>=Mc&&13>p))p=2;else{if(0>=N.Rd&&N.sd==null){q=F=B=y=0;var ft=(W=Q*Gc[p])*et;if(11>p||(F=(et+1)/2*(y=(Q+1)/2),p==12&&(q=(B=Q)*et)),(et=o(ft+2*F+q))==null){p=1;break t}N.sd=et,11>p?((Q=N.f.RGBA).eb=et,Q.fb=0,Q.A=W,Q.size=ft):((Q=N.f.kb).y=et,Q.O=0,Q.fa=W,Q.Fd=ft,Q.f=et,Q.N=0+ft,Q.Ab=y,Q.Cd=F,Q.ea=et,Q.W=0+ft+F,Q.Db=y,Q.Ed=F,p==12&&(Q.F=et,Q.J=0+ft+2*F),Q.Tc=q,Q.lb=B)}if(y=1,B=N.S,F=N.width,q=N.height,B>=Mc&&13>B)if(11>B)p=N.f.RGBA,y&=(W=Math.abs(p.A))*(q-1)+F<=p.size,y&=W>=F*Gc[B],y&=p.eb!=null;else{p=N.f.kb,W=(F+1)/2,ft=(q+1)/2,Q=Math.abs(p.fa),et=Math.abs(p.Ab);var Tt=Math.abs(p.Db),Z=Math.abs(p.lb),mt=Z*(q-1)+F;y&=Q*(q-1)+F<=p.Fd,y&=et*(ft-1)+W<=p.Cd,y=(y&=Tt*(ft-1)+W<=p.Ed)&Q>=F&et>=W&Tt>=W,y&=p.y!=null,y&=p.f!=null,y&=p.ea!=null,B==12&&(y&=Z>=F,y&=mt<=p.Tc,y&=p.F!=null)}else y=0;p=y?0:2}}return p!=0||E!=null&&E.fd&&(p=Ku(N)),p}var Co=64,fa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ta=24,Rs=32,Is=8,Xs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ee("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(p){return p},I.Predictor2=function(p,y,E){return y[E+0]},I.Predictor3=function(p,y,E){return y[E+1]},I.Predictor4=function(p,y,E){return y[E-1]},I.Predictor5=function(p,y,E){return _e(_e(p,y[E+1]),y[E+0])},I.Predictor6=function(p,y,E){return _e(p,y[E-1])},I.Predictor7=function(p,y,E){return _e(p,y[E+0])},I.Predictor8=function(p,y,E){return _e(y[E-1],y[E+0])},I.Predictor9=function(p,y,E){return _e(y[E+0],y[E+1])},I.Predictor10=function(p,y,E){return _e(_e(p,y[E-1]),_e(y[E+0],y[E+1]))},I.Predictor11=function(p,y,E){var N=y[E+0];return 0>=Ve(N>>24&255,p>>24&255,(y=y[E-1])>>24&255)+Ve(N>>16&255,p>>16&255,y>>16&255)+Ve(N>>8&255,p>>8&255,y>>8&255)+Ve(255&N,255&p,255&y)?N:p},I.Predictor12=function(p,y,E){var N=y[E+0];return(Ge((p>>24&255)+(N>>24&255)-((y=y[E-1])>>24&255))<<24|Ge((p>>16&255)+(N>>16&255)-(y>>16&255))<<16|Ge((p>>8&255)+(N>>8&255)-(y>>8&255))<<8|Ge((255&p)+(255&N)-(255&y)))>>>0},I.Predictor13=function(p,y,E){var N=y[E-1];return(Pe((p=_e(p,y[E+0]))>>24&255,N>>24&255)<<24|Pe(p>>16&255,N>>16&255)<<16|Pe(p>>8&255,N>>8&255)<<8|Pe(255&p,255&N))>>>0};var Xl=I.PredictorAdd0;I.PredictorAdd1=Sn,ee("Predictor2","PredictorAdd2"),ee("Predictor3","PredictorAdd3"),ee("Predictor4","PredictorAdd4"),ee("Predictor5","PredictorAdd5"),ee("Predictor6","PredictorAdd6"),ee("Predictor7","PredictorAdd7"),ee("Predictor8","PredictorAdd8"),ee("Predictor9","PredictorAdd9"),ee("Predictor10","PredictorAdd10"),ee("Predictor11","PredictorAdd11"),ee("Predictor12","PredictorAdd12"),ee("Predictor13","PredictorAdd13");var Jl=I.PredictorAdd2;ye("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),ye("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Cr,kc=I.ColorIndexInverseTransform,Ls=I.MapARGB,Ds=I.VP8LColorIndexInverseTransformAlpha,bi=I.MapAlpha,Js=I.VP8LPredictorsAdd=[];Js.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Zl,tu,Zs,to,ks,pl,Oa,eo,Ui,za,Rn,An,er,Rr,Os,ms,ml,Qu,Jh,Rd,Id,Ld,Zh,tf,gl,Ha,$u,Pa,yl=o(511),Oc=o(2041),Xu=o(225),Ju=o(767),Pc=0,no=Oc,Zu=Xu,Vi=Ju,wi=yl,Mc=0,Bi=1,Uc=2,Ga=3,tc=4,eu=5,Ro=6,ec=7,Vc=8,nu=9,Bc=10,Ya=[2,3,7],ru=[3,3,11],vl=[280,256,256,256,40],jc=[0,1,1,1,0],nc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Wa=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ka=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Io=8,Qa=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],$a=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ma=null,Dd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ef=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Fc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],kd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ai=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],or=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],dn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ea=[],br=[],gs=[],Lo=1,nf=2,ro=[],Ei=[];Ct("UpsampleRgbLinePair",oi,3),Ct("UpsampleBgrLinePair",Mi,3),Ct("UpsampleRgbaLinePair",Cs,4),Ct("UpsampleBgraLinePair",xs,4),Ct("UpsampleArgbLinePair",Da,4),Ct("UpsampleRgba4444LinePair",_i,2),Ct("UpsampleRgb565LinePair",tr,2);var _l=I.UpsampleRgbLinePair,rf=I.UpsampleBgrLinePair,iu=I.UpsampleRgbaLinePair,qc=I.UpsampleBgraLinePair,Do=I.UpsampleArgbLinePair,Ps=I.UpsampleRgba4444LinePair,ko=I.UpsampleRgb565LinePair,Xa=16,au=1<<Xa-1,bl=-227,Oo=482,zc=6,Po=0,Si=o(256),Hc=o(256),Od=o(256),Xm=o(256),Jm=o(Oo-bl),Zm=o(Oo-bl);Qs("YuvToRgbRow",oi,3),Qs("YuvToBgrRow",Mi,3),Qs("YuvToRgbaRow",Cs,4),Qs("YuvToBgraRow",xs,4),Qs("YuvToArgbRow",Da,4),Qs("YuvToRgba4444Row",_i,2),Qs("YuvToRgb565Row",tr,2);var Ir=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],su=[0,2,8],rc=[8,7,6,4,4,2,2,2,1,1,1,1],ic=1;this.WebPDecodeRGBA=function(p,y,E,N,B){var F=Bi,q=new yt,W=new He;q.ba=W,W.S=F,W.width=[W.width],W.height=[W.height];var Q=W.width,et=W.height,ft=new Te;if(ft==null||p==null)var Tt=2;else t(ft!=null),Tt=ds(p,y,E,ft.width,ft.height,ft.Pd,ft.Qd,ft.format,null);if(Tt!=0?Q=0:(Q!=null&&(Q[0]=ft.width[0]),et!=null&&(et[0]=ft.height[0]),Q=1),Q){W.width=W.width[0],W.height=W.height[0],N!=null&&(N[0]=W.width),B!=null&&(B[0]=W.height);t:{if(N=new ls,(B=new Ut).data=p,B.w=y,B.ha=E,B.kd=1,y=[0],t(B!=null),((p=ds(B.data,B.w,B.ha,null,null,null,y,null,B))==0||p==7)&&y[0]&&(p=4),(y=p)==0){if(t(q!=null),N.data=B.data,N.w=B.w+B.offset,N.ha=B.ha-B.offset,N.put=Ae,N.ac=Wr,N.bc=ss,N.ma=q,B.xa){if((p=Es())==null){q=1;break t}if((function(Z,mt){var wt=[0],Mt=[0],Et=[0];e:for(;;){if(Z==null)return 0;if(mt==null)return Z.a=2,0;if(Z.l=mt,Z.a=0,Nt(Z.m,mt.data,mt.w,mt.ha),!Yi(Z.m,wt,Mt,Et)){Z.a=3;break e}if(Z.xb=nf,mt.width=wt[0],mt.height=Mt[0],!Ea(wt[0],Mt[0],1,Z,null))break e;return 1}return t(Z.a!=0),0})(p,N)){if(N=(y=ps(N.width,N.height,q.Oa,q.ba))==0){e:{N=p;n:for(;;){if(N==null){N=0;break e}if(t(N.s.yc!=null),t(N.s.Ya!=null),t(0<N.s.Wb),t((E=N.l)!=null),t((B=E.ma)!=null),N.xb!=0){if(N.ca=B.ba,N.tb=B.tb,t(N.ca!=null),!$s(B.Oa,E,Ga)){N.a=2;break n}if(!Li(N,E.width)||E.da)break n;if((E.da||ze(N.ca.S))&&bt(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&bt()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!at(N.s.vb,N.s.Wa.Xa)){N.a=1;break n}N.xb=0}if(!Ii(N,N.V,N.Ba,N.c,N.i,E.o,ai))break n;B.Dc=N.Ma,N=1;break e}t(N.a!=0),N=0}N=!N}N&&(y=p.a)}else y=p.a}else{if((p=new Qi)==null){q=1;break t}if(p.Fa=B.na,p.P=B.P,p.qc=B.Sa,us(p,N)){if((y=ps(N.width,N.height,q.Oa,q.ba))==0){if(p.Aa=0,E=q.Oa,t((B=p)!=null),E!=null){if(0<(Q=0>(Q=E.Md)?0:100<Q?255:255*Q/100)){for(et=ft=0;4>et;++et)12>(Tt=B.pb[et]).lc&&(Tt.ia=Q*rc[0>Tt.lc?0:Tt.lc]>>3),ft|=Tt.ia;ft&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=E.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(Z,mt){if(Z==null)return 0;if(mt==null)return on(Z,2,"NULL VP8Io parameter in VP8Decode().");if(!Z.cb&&!us(Z,mt))return 0;if(t(Z.cb),mt.ac==null||mt.ac(mt)){mt.ob&&(Z.L=0);var wt=su[Z.L];if(Z.L==2?(Z.yb=0,Z.zb=0):(Z.yb=mt.v-wt>>4,Z.zb=mt.j-wt>>4,0>Z.yb&&(Z.yb=0),0>Z.zb&&(Z.zb=0)),Z.Va=mt.o+15+wt>>4,Z.Hb=mt.va+15+wt>>4,Z.Hb>Z.za&&(Z.Hb=Z.za),Z.Va>Z.Ub&&(Z.Va=Z.Ub),0<Z.L){var Mt=Z.ed;for(wt=0;4>wt;++wt){var Et;if(Z.Qa.Cb){var Pt=Z.Qa.Lb[wt];Z.Qa.Fb||(Pt+=Mt.Tb)}else Pt=Mt.Tb;for(Et=0;1>=Et;++Et){var Ft=Z.gd[wt][Et],Jt=Pt;if(Mt.Pc&&(Jt+=Mt.vd[0],Et&&(Jt+=Mt.od[0])),0<(Jt=0>Jt?0:63<Jt?63:Jt)){var Kt=Jt;0<Mt.wb&&(Kt=4<Mt.wb?Kt>>2:Kt>>1)>9-Mt.wb&&(Kt=9-Mt.wb),1>Kt&&(Kt=1),Ft.dd=Kt,Ft.tc=2*Jt+Kt,Ft.ld=40<=Jt?2:15<=Jt?1:0}else Ft.tc=0;Ft.La=Et}}}wt=0}else on(Z,6,"Frame setup failed"),wt=Z.a;if(wt=wt==0){if(wt){Z.$c=0,0<Z.Aa||(Z.Ic=ic);e:{wt=Z.Ic,Mt=4*(Kt=Z.za);var pe=32*Kt,oe=Kt+1,Ye=0<Z.L?Kt*(0<Z.Aa?2:1):0,he=(Z.Aa==2?2:1)*Kt;if((Ft=Mt+832+(Et=3*(16*wt+su[Z.L])/2*pe)+(Pt=Z.Fa!=null&&0<Z.Fa.length?Z.Kc.c*Z.Kc.i:0))!=Ft)wt=0;else{if(Ft>Z.Vb){if(Z.Vb=0,Z.Ec=o(Ft),Z.Fc=0,Z.Ec==null){wt=on(Z,1,"no memory during frame initialization.");break e}Z.Vb=Ft}Ft=Z.Ec,Jt=Z.Fc,Z.Ac=Ft,Z.Bc=Jt,Jt+=Mt,Z.Gd=u(pe,wo),Z.Hd=0,Z.rb=u(oe+1,ca),Z.sb=1,Z.wa=Ye?u(Ye,Di):null,Z.Y=0,Z.D.Nb=0,Z.D.wa=Z.wa,Z.D.Y=Z.Y,0<Z.Aa&&(Z.D.Y+=Kt),t(!0),Z.oc=Ft,Z.pc=Jt,Jt+=832,Z.ya=u(he,Hs),Z.aa=0,Z.D.ya=Z.ya,Z.D.aa=Z.aa,Z.Aa==2&&(Z.D.aa+=Kt),Z.R=16*Kt,Z.B=8*Kt,Kt=(pe=su[Z.L])*Z.R,pe=pe/2*Z.B,Z.sa=Ft,Z.ta=Jt+Kt,Z.qa=Z.sa,Z.ra=Z.ta+16*wt*Z.R+pe,Z.Ha=Z.qa,Z.Ia=Z.ra+8*wt*Z.B+pe,Z.$c=0,Jt+=Et,Z.mb=Pt?Ft:null,Z.nb=Pt?Jt:null,t(Jt+Pt<=Z.Fc+Z.Vb),fn(Z),s(Z.Ac,Z.Bc,0,Mt),wt=1}}if(wt){if(mt.ka=0,mt.y=Z.sa,mt.O=Z.ta,mt.f=Z.qa,mt.N=Z.ra,mt.ea=Z.Ha,mt.Vd=Z.Ia,mt.fa=Z.R,mt.Rc=Z.B,mt.F=null,mt.J=0,!Pc){for(wt=-255;255>=wt;++wt)yl[255+wt]=0>wt?-wt:wt;for(wt=-1020;1020>=wt;++wt)Oc[1020+wt]=-128>wt?-128:127<wt?127:wt;for(wt=-112;112>=wt;++wt)Xu[112+wt]=-16>wt?-16:15<wt?15:wt;for(wt=-255;510>=wt;++wt)Ju[255+wt]=0>wt?0:255<wt?255:wt;Pc=1}Oa=cs,eo=Ql,za=ll,Rn=vi,An=ul,Ui=Ao,er=fl,Rr=dl,Os=w,ms=V,ml=La,Qu=xo,Jh=tt,Rd=ut,Id=Fa,Ld=qa,Zh=Ra,tf=Ks,br[0]=No,br[1]=Eo,br[2]=Va,br[3]=Gs,br[4]=Ss,br[5]=Vr,br[6]=Kr,br[7]=Ys,br[8]=$i,br[9]=kn,ea[0]=Na,ea[1]=hl,ea[2]=So,ea[3]=To,ea[4]=xa,ea[5]=hs,ea[6]=Oi,gs[0]=Ba,gs[1]=cl,gs[2]=Ws,gs[3]=Ca,gs[4]=Xi,gs[5]=fs,gs[6]=xr,wt=1}else wt=0}wt&&(wt=(function(hn,lr){for(hn.M=0;hn.M<hn.Va;++hn.M){var Je,le=hn.Jc[hn.M&hn.Xb],te=hn.m,dr=hn;for(Je=0;Je<dr.za;++Je){var Oe=te,rn=dr,Vn=rn.Ac,Qr=rn.Bc+4*Je,Ti=rn.zc,nr=rn.ya[rn.aa+Je];if(rn.Qa.Bb?nr.$b=jt(Oe,rn.Pa.jb[0])?2+jt(Oe,rn.Pa.jb[2]):jt(Oe,rn.Pa.jb[1]):nr.$b=0,rn.kc&&(nr.Ad=jt(Oe,rn.Bd)),nr.Za=!jt(Oe,145)+0,nr.Za){var Br=nr.Ob,ji=0;for(rn=0;4>rn;++rn){var jr,cn=Ti[0+rn];for(jr=0;4>jr;++jr){cn=Ai[Vn[Qr+jr]][cn];for(var Tn=Fc[jt(Oe,cn[0])];0<Tn;)Tn=Fc[2*Tn+jt(Oe,cn[Tn])];cn=-Tn,Vn[Qr+jr]=cn}r(Br,ji,Vn,Qr,4),ji+=4,Ti[0+rn]=cn}}else cn=jt(Oe,156)?jt(Oe,128)?1:3:jt(Oe,163)?2:0,nr.Ob[0]=cn,s(Vn,Qr,cn,4),s(Ti,0,cn,4);nr.Dd=jt(Oe,142)?jt(Oe,114)?jt(Oe,183)?1:3:2:0}if(dr.m.Ka)return on(hn,7,"Premature end-of-partition0 encountered.");for(;hn.ja<hn.za;++hn.ja){if(dr=le,Oe=(te=hn).rb[te.sb-1],Vn=te.rb[te.sb+te.ja],Je=te.ya[te.aa+te.ja],Qr=te.kc?Je.Ad:0)Oe.la=Vn.la=0,Je.Za||(Oe.Na=Vn.Na=0),Je.Hc=0,Je.Gc=0,Je.ia=0;else{var pr,In;if(Oe=Vn,Vn=dr,Qr=te.Pa.Xc,Ti=te.ya[te.aa+te.ja],nr=te.pb[Ti.$b],rn=Ti.ad,Br=0,ji=te.rb[te.sb-1],cn=jr=0,s(rn,Br,0,384),Ti.Za)var $r=0,mr=Qr[3];else{Tn=o(16);var Nn=Oe.Na+ji.Na;if(Nn=Ma(Vn,Qr[1],Nn,nr.Eb,0,Tn,0),Oe.Na=ji.Na=(0<Nn)+0,1<Nn)Oa(Tn,0,rn,Br);else{var Lr=Tn[0]+3>>3;for(Tn=0;256>Tn;Tn+=16)rn[Br+Tn]=Lr}$r=1,mr=Qr[0]}var Bn=15&Oe.la,Fr=15&ji.la;for(Tn=0;4>Tn;++Tn){var qr=1&Fr;for(Lr=In=0;4>Lr;++Lr)Bn=Bn>>1|(qr=(Nn=Ma(Vn,mr,Nn=qr+(1&Bn),nr.Sc,$r,rn,Br))>$r)<<7,In=In<<2|(3<Nn?3:1<Nn?2:rn[Br+0]!=0),Br+=16;Bn>>=4,Fr=Fr>>1|qr<<7,jr=(jr<<8|In)>>>0}for(mr=Bn,$r=Fr>>4,pr=0;4>pr;pr+=2){for(In=0,Bn=Oe.la>>4+pr,Fr=ji.la>>4+pr,Tn=0;2>Tn;++Tn){for(qr=1&Fr,Lr=0;2>Lr;++Lr)Nn=qr+(1&Bn),Bn=Bn>>1|(qr=0<(Nn=Ma(Vn,Qr[2],Nn,nr.Qc,0,rn,Br)))<<3,In=In<<2|(3<Nn?3:1<Nn?2:rn[Br+0]!=0),Br+=16;Bn>>=2,Fr=Fr>>1|qr<<5}cn|=In<<4*pr,mr|=Bn<<4<<pr,$r|=(240&Fr)<<pr}Oe.la=mr,ji.la=$r,Ti.Hc=jr,Ti.Gc=cn,Ti.ia=43690&cn?0:nr.ia,Qr=!(jr|cn)}if(0<te.L&&(te.wa[te.Y+te.ja]=te.gd[Je.$b][Je.Za],te.wa[te.Y+te.ja].La|=!Qr),dr.Ka)return on(hn,7,"Premature end-of-file encountered.")}if(fn(hn),te=lr,dr=1,Je=(le=hn).D,Oe=0<le.L&&le.M>=le.zb&&le.M<=le.Va,le.Aa==0)e:{if(Je.M=le.M,Je.uc=Oe,ka(le,Je),dr=1,Je=(In=le.D).Nb,Oe=(cn=su[le.L])*le.R,Vn=cn/2*le.B,Tn=16*Je*le.R,Lr=8*Je*le.B,Qr=le.sa,Ti=le.ta-Oe+Tn,nr=le.qa,rn=le.ra-Vn+Lr,Br=le.Ha,ji=le.Ia-Vn+Lr,Fr=(Bn=In.M)==0,jr=Bn>=le.Va-1,le.Aa==2&&ka(le,In),In.uc)for(qr=(Nn=le).D.M,t(Nn.D.uc),In=Nn.yb;In<Nn.Hb;++In){$r=In,mr=qr;var Kn=(En=(zr=Nn).D).Nb;pr=zr.R;var En=En.wa[En.Y+$r],Fi=zr.sa,wr=zr.ta+16*Kn*pr+16*$r,Ne=En.dd,Re=En.tc;if(Re!=0)if(t(3<=Re),zr.L==1)0<$r&&Ld(Fi,wr,pr,Re+4),En.La&&tf(Fi,wr,pr,Re),0<mr&&Id(Fi,wr,pr,Re+4),En.La&&Zh(Fi,wr,pr,Re);else{var xn=zr.B,da=zr.qa,Ja=zr.ra+8*Kn*xn+8*$r,na=zr.Ha,zr=zr.Ia+8*Kn*xn+8*$r;Kn=En.ld,0<$r&&(Rr(Fi,wr,pr,Re+4,Ne,Kn),ms(da,Ja,na,zr,xn,Re+4,Ne,Kn)),En.La&&(Qu(Fi,wr,pr,Re,Ne,Kn),Rd(da,Ja,na,zr,xn,Re,Ne,Kn)),0<mr&&(er(Fi,wr,pr,Re+4,Ne,Kn),Os(da,Ja,na,zr,xn,Re+4,Ne,Kn)),En.La&&(ml(Fi,wr,pr,Re,Ne,Kn),Jh(da,Ja,na,zr,xn,Re,Ne,Kn))}}if(le.ia&&alert("todo:DitherRow"),te.put!=null){if(In=16*Bn,Bn=16*(Bn+1),Fr?(te.y=le.sa,te.O=le.ta+Tn,te.f=le.qa,te.N=le.ra+Lr,te.ea=le.Ha,te.W=le.Ia+Lr):(In-=cn,te.y=Qr,te.O=Ti,te.f=nr,te.N=rn,te.ea=Br,te.W=ji),jr||(Bn-=cn),Bn>te.o&&(Bn=te.o),te.F=null,te.J=null,le.Fa!=null&&0<le.Fa.length&&In<Bn&&(te.J=zn(le,te,In,Bn-In),te.F=le.mb,te.F==null&&te.F.length==0)){dr=on(le,3,"Could not decode alpha data.");break e}In<te.j&&(cn=te.j-In,In=te.j,t(!(1&cn)),te.O+=le.R*cn,te.N+=le.B*(cn>>1),te.W+=le.B*(cn>>1),te.F!=null&&(te.J+=te.width*cn)),In<Bn&&(te.O+=te.v,te.N+=te.v>>1,te.W+=te.v>>1,te.F!=null&&(te.J+=te.v),te.ka=In-te.j,te.U=te.va-te.v,te.T=Bn-In,dr=te.put(te))}Je+1!=le.Ic||jr||(r(le.sa,le.ta-Oe,Qr,Ti+16*le.R,Oe),r(le.qa,le.ra-Vn,nr,rn+8*le.B,Vn),r(le.Ha,le.Ia-Vn,Br,ji+8*le.B,Vn))}if(!dr)return on(hn,6,"Output aborted.")}return 1})(Z,mt)),mt.bc!=null&&mt.bc(mt),wt&=1}return wt?(Z.cb=0,wt):0})(p,N)||(y=p.a)}}else y=p.a}y==0&&q.Oa!=null&&q.Oa.fd&&(y=Ku(q.ba))}q=y}F=q!=0?null:11>F?W.f.RGBA.eb:W.f.kb.y}else F=null;return F};var Gc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(I,z){for(var x="",D=0;D<4;D++)x+=String.fromCharCode(I[z++]);return x}function v(I,z){return I[z+0]|I[z+1]<<8}function A(I,z){return(I[z+0]|I[z+1]<<8|I[z+2]<<16)>>>0}function T(I,z){return(I[z+0]|I[z+1]<<8|I[z+2]<<16|I[z+3]<<24)>>>0}new f;var b=[0],M=[0],j=[],P=new f,k=n,$=(function(I,z){var x={},D=0,O=!1,st=0,At=0;if(x.frames=[],!(function(L,Y){for(var X=0;X<4;X++)if(L[Y+X]!="RIFF".charCodeAt(X))return!0;return!1})(I,z)){for(T(I,z+=4),z+=8;z<I.length;){var it=d(I,z),dt=T(I,z+=4);z+=4;var ht=dt+(1&dt);switch(it){case"VP8 ":case"VP8L":x.frames[D]===void 0&&(x.frames[D]={}),(J=x.frames[D]).src_off=O?At:z-8,J.src_size=st+dt+8,D++,O&&(O=!1,st=0,At=0);break;case"VP8X":(J=x.header={}).feature_flags=I[z];var Nt=z+4;J.canvas_width=1+A(I,Nt),Nt+=3,J.canvas_height=1+A(I,Nt),Nt+=3;break;case"ALPH":O=!0,st=ht+8,At=z-8;break;case"ANIM":(J=x.header).bgcolor=T(I,z),Nt=z+4,J.loop_count=v(I,Nt),Nt+=2;break;case"ANMF":var zt,J;(J=x.frames[D]={}).offset_x=2*A(I,z),z+=3,J.offset_y=2*A(I,z),z+=3,J.width=1+A(I,z),z+=3,J.height=1+A(I,z),z+=3,J.duration=A(I,z),z+=3,zt=I[z++],J.dispose=1&zt,J.blend=zt>>1&1}it!="ANMF"&&(z+=ht)}return x}})(k,0);$.response=k,$.rgbaoutput=!0,$.dataurl=!1;var nt=$.header?$.header:null,rt=$.frames?$.frames:null;if(nt){nt.loop_counter=nt.loop_count,b=[nt.canvas_height],M=[nt.canvas_width];for(var vt=0;vt<rt.length&&rt[vt].blend!=0;vt++);}var Dt=rt[0],G=P.WebPDecodeRGBA(k,Dt.src_off,Dt.src_size,M,b);Dt.rgba=G,Dt.imgwidth=M[0],Dt.imgheight=b[0];for(var U=0;U<M[0]*b[0]*4;U++)j[U]=G[U];return this.width=M,this.height=b,this.data=j,this}(function(n){var t,e,r,s,o,u,h,f,d,v=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new f,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new u,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new u,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,h=this.internal.Rectangle,f=this.internal.Matrix,d=new v}]);var A=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=L;Object.defineProperty(this,"pdf",{get:function(){return Y}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(Ot){X=!!Ot}});var ot=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ot},set:function(Ot){ot=!!Ot}});var ct=0;Object.defineProperty(this,"posX",{get:function(){return ct},set:function(Ot){isNaN(Ot)||(ct=Ot)}});var gt=0;Object.defineProperty(this,"posY",{get:function(){return gt},set:function(Ot){isNaN(Ot)||(gt=Ot)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Ot){var at;typeof Ot=="number"?at=[Ot,Ot,Ot,Ot]:((at=new Array(4))[0]=Ot[0],at[1]=Ot.length>=2?Ot[1]:at[0],at[2]=Ot.length>=3?Ot[2]:at[0],at[3]=Ot.length>=4?Ot[3]:at[1]),d.margin=at}});var It=!1;Object.defineProperty(this,"autoPaging",{get:function(){return It},set:function(Ot){It=Ot}});var St=0;Object.defineProperty(this,"lastBreak",{get:function(){return St},set:function(Ot){St=Ot}});var jt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return jt},set:function(Ot){jt=Ot}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Ot){Ot instanceof v&&(d=Ot)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Ot){d.path=Ot}});var Xt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xt},set:function(Ot){Xt=Ot}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ot){var at;at=T(Ot),this.ctx.fillStyle=at.style,this.ctx.isFillTransparent=at.a===0,this.ctx.fillOpacity=at.a,this.pdf.setFillColor(at.r,at.g,at.b,{a:at.a}),this.pdf.setTextColor(at.r,at.g,at.b,{a:at.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ot){var at=T(Ot);this.ctx.strokeStyle=at.style,this.ctx.isStrokeTransparent=at.a===0,this.ctx.strokeOpacity=at.a,at.a===0?this.pdf.setDrawColor(255,255,255):(at.a,this.pdf.setDrawColor(at.r,at.g,at.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ot){["butt","round","square"].indexOf(Ot)!==-1&&(this.ctx.lineCap=Ot,this.pdf.setLineCap(Ot))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ot){isNaN(Ot)||(this.ctx.lineWidth=Ot,this.pdf.setLineWidth(Ot))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ot){["bevel","round","miter"].indexOf(Ot)!==-1&&(this.ctx.lineJoin=Ot,this.pdf.setLineJoin(Ot))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ot){isNaN(Ot)||(this.ctx.miterLimit=Ot,this.pdf.setMiterLimit(Ot))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ot){this.ctx.textBaseline=Ot}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ot){["right","end","center","left","start"].indexOf(Ot)!==-1&&(this.ctx.textAlign=Ot)}});var ne=null,re=null;Object.defineProperty(this,"fontFaces",{get:function(){return re},set:function(Ot){ne=null,re=Ot}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ot){var at;if(this.ctx.font=Ot,(at=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ot))!==null){var Xe=at[1];at[2];var qe=at[3],we=at[4];at[5];var Wt=at[6],ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(we)[2];we=Math.floor(ie==="px"?parseFloat(we)*this.pdf.internal.scaleFactor:ie==="em"?parseFloat(we)*this.pdf.getFontSize():parseFloat(we)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(we);var ee=(function(ke){var ye,Un,nn=[],ae=ke.trim();if(ae==="")return Kg;if(ae in Zb)return[Zb[ae]];for(;ae!=="";){switch(Un=null,ye=(ae=ew(ae)).charAt(0)){case'"':case"'":Un=ID(ae.substring(1),ye);break;default:Un=LD(ae)}if(Un===null||(nn.push(Un[0]),(ae=ew(Un[1]))!==""&&ae.charAt(0)!==","))return Kg;ae=ae.replace(/^,/,"")}return nn})(Wt);if(this.fontFaces){var Qe=(function(ke,ye){if(ne===null){var Un=(function(nn){var ae=[];return Object.keys(nn).forEach(function(Se){nn[Se].forEach(function(Be){var xe=null;switch(Be){case"bold":xe={family:Se,weight:"bold"};break;case"italic":xe={family:Se,style:"italic"};break;case"bolditalic":xe={family:Se,weight:"bold",style:"italic"};break;case"":case"normal":xe={family:Se}}xe!==null&&(xe.ref={name:Se,style:Be},ae.push(xe))})}),ae})(ke.getFontList());ne=(function(nn){for(var ae={},Se=0;Se<nn.length;++Se){var Be=Wg(nn[Se]),xe=Be.family,an=Be.stretch,ze=Be.style,Ln=Be.weight;ae[xe]=ae[xe]||{},ae[xe][an]=ae[xe][an]||{},ae[xe][an][ze]=ae[xe][an][ze]||{},ae[xe][an][ze][Ln]=Be}return ae})(Un.concat(ye))}return ne})(this.pdf,this.fontFaces),_e=ee.map(function(ke){return{family:ke,stretch:"normal",weight:qe,style:Xe}}),Ge=(function(ke,ye,Un){for(var nn=(Un=Un||{}).defaultFontFamily||"times",ae=Object.assign({},RD,Un.genericFontFamilies||{}),Se=null,Be=null,xe=0;xe<ye.length;++xe)if(ae[(Se=Wg(ye[xe])).family]&&(Se.family=ae[Se.family]),ke.hasOwnProperty(Se.family)){Be=ke[Se.family];break}if(!(Be=Be||ke[nn]))throw new Error("Could not find a font-family for the rule '"+tw(Se)+"' and default family '"+nn+"'.");if(Be=(function(an,ze){if(ze[an])return ze[an];var Ln=P0[an],sr=Ln<=P0.normal?-1:1,He=Jb(ze,JA,Ln,sr);if(!He)throw new Error("Could not find a matching font-stretch value for "+an);return He})(Se.stretch,Be),Be=(function(an,ze){if(ze[an])return ze[an];for(var Ln=XA[an],sr=0;sr<Ln.length;++sr)if(ze[Ln[sr]])return ze[Ln[sr]];throw new Error("Could not find a matching font-style for "+an)})(Se.style,Be),!(Be=(function(an,ze){if(ze[an])return ze[an];if(an===400&&ze[500])return ze[500];if(an===500&&ze[400])return ze[400];var Ln=CD[an],sr=Jb(ze,ZA,Ln,an<400?-1:1);if(!sr)throw new Error("Could not find a matching font-weight for value "+an);return sr})(Se.weight,Be)))throw new Error("Failed to resolve a font for the rule '"+tw(Se)+"'.");return Be})(Qe,_e);this.pdf.setFont(Ge.ref.name,Ge.ref.style)}else{var Pe="";(qe==="bold"||parseInt(qe,10)>=700||Xe==="bold")&&(Pe="bold"),Xe==="italic"&&(Pe+="italic"),Pe.length===0&&(Pe="normal");for(var Ve="",Sn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Me=0;Me<ee.length;Me++){if(this.pdf.internal.getFont(ee[Me],Pe,{noFallback:!0,disableWarning:!0})!==void 0){Ve=ee[Me];break}if(Pe==="bolditalic"&&this.pdf.internal.getFont(ee[Me],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ve=ee[Me],Pe="bold";else if(this.pdf.internal.getFont(ee[Me],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ve=ee[Me],Pe="normal";break}}if(Ve===""){for(var be=0;be<ee.length;be++)if(Sn[ee[be]]){Ve=Sn[ee[be]];break}}Ve=Ve===""?"Times":Ve,this.pdf.setFont(Ve,Pe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ot){this.ctx.globalCompositeOperation=Ot}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ot){this.ctx.globalAlpha=Ot}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ot){this.ctx.lineDashOffset=Ot,J.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ot){this.ctx.lineDash=Ot,J.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ot){this.ctx.ignoreClearRect=!!Ot}})};A.prototype.setLineDash=function(L){this.lineDash=L},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){rt.call(this,"fill",!1)},A.prototype.stroke=function(){rt.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(L,Y){if(isNaN(L)||isNaN(Y))throw cr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new u(L,Y));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new u(L,Y)},A.prototype.closePath=function(){var L=new u(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&Xn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){L=new u(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(L.x,L.y)},A.prototype.lineTo=function(L,Y){if(isNaN(L)||isNaN(Y))throw cr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new u(L,Y));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new u(X.x,X.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),rt.call(this,null,!0)},A.prototype.quadraticCurveTo=function(L,Y,X,ot){if(isNaN(X)||isNaN(ot)||isNaN(L)||isNaN(Y))throw cr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ct=this.ctx.transform.applyToPoint(new u(X,ot)),gt=this.ctx.transform.applyToPoint(new u(L,Y));this.path.push({type:"qct",x1:gt.x,y1:gt.y,x:ct.x,y:ct.y}),this.ctx.lastPoint=new u(ct.x,ct.y)},A.prototype.bezierCurveTo=function(L,Y,X,ot,ct,gt){if(isNaN(ct)||isNaN(gt)||isNaN(L)||isNaN(Y)||isNaN(X)||isNaN(ot))throw cr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var It=this.ctx.transform.applyToPoint(new u(ct,gt)),St=this.ctx.transform.applyToPoint(new u(L,Y)),jt=this.ctx.transform.applyToPoint(new u(X,ot));this.path.push({type:"bct",x1:St.x,y1:St.y,x2:jt.x,y2:jt.y,x:It.x,y:It.y}),this.ctx.lastPoint=new u(It.x,It.y)},A.prototype.arc=function(L,Y,X,ot,ct,gt){if(isNaN(L)||isNaN(Y)||isNaN(X)||isNaN(ot)||isNaN(ct))throw cr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(gt=!!gt,!this.ctx.transform.isIdentity){var It=this.ctx.transform.applyToPoint(new u(L,Y));L=It.x,Y=It.y;var St=this.ctx.transform.applyToPoint(new u(0,X)),jt=this.ctx.transform.applyToPoint(new u(0,0));X=Math.sqrt(Math.pow(St.x-jt.x,2)+Math.pow(St.y-jt.y,2))}Math.abs(ct-ot)>=2*Math.PI&&(ot=0,ct=2*Math.PI),this.path.push({type:"arc",x:L,y:Y,radius:X,startAngle:ot,endAngle:ct,counterclockwise:gt})},A.prototype.arcTo=function(L,Y,X,ot,ct){throw new Error("arcTo not implemented.")},A.prototype.rect=function(L,Y,X,ot){if(isNaN(L)||isNaN(Y)||isNaN(X)||isNaN(ot))throw cr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,Y),this.lineTo(L+X,Y),this.lineTo(L+X,Y+ot),this.lineTo(L,Y+ot),this.lineTo(L,Y),this.lineTo(L+X,Y),this.lineTo(L,Y)},A.prototype.fillRect=function(L,Y,X,ot){if(isNaN(L)||isNaN(Y)||isNaN(X)||isNaN(ot))throw cr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var ct={};this.lineCap!=="butt"&&(ct.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ct.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,Y,X,ot),this.fill(),ct.hasOwnProperty("lineCap")&&(this.lineCap=ct.lineCap),ct.hasOwnProperty("lineJoin")&&(this.lineJoin=ct.lineJoin)}},A.prototype.strokeRect=function(L,Y,X,ot){if(isNaN(L)||isNaN(Y)||isNaN(X)||isNaN(ot))throw cr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");M.call(this)||(this.beginPath(),this.rect(L,Y,X,ot),this.stroke())},A.prototype.clearRect=function(L,Y,X,ot){if(isNaN(L)||isNaN(Y)||isNaN(X)||isNaN(ot))throw cr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,Y,X,ot))},A.prototype.save=function(L){L=typeof L!="boolean"||L;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var ot=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ot}},A.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var T=function(L){var Y,X,ot,ct;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))Y=0,X=0,ot=0,ct=0;else{var gt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(gt!==null)Y=parseInt(gt[1]),X=parseInt(gt[2]),ot=parseInt(gt[3]),ct=1;else if((gt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)Y=parseInt(gt[1]),X=parseInt(gt[2]),ot=parseInt(gt[3]),ct=parseFloat(gt[4]);else{if(ct=1,typeof L=="string"&&L.charAt(0)!=="#"){var It=new HA(L);L=It.ok?It.toHex():"#000000"}L.length===4?(Y=L.substring(1,2),Y+=Y,X=L.substring(2,3),X+=X,ot=L.substring(3,4),ot+=ot):(Y=L.substring(1,3),X=L.substring(3,5),ot=L.substring(5,7)),Y=parseInt(Y,16),X=parseInt(X,16),ot=parseInt(ot,16)}}return{r:Y,g:X,b:ot,a:ct,style:L}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},M=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(L,Y,X,ot){if(isNaN(Y)||isNaN(X)||typeof L!="string")throw cr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ot=isNaN(ot)?void 0:ot,!b.call(this)){var ct=ht(this.ctx.transform.rotation),gt=this.ctx.transform.scaleX;D.call(this,{text:L,x:Y,y:X,scale:gt,angle:ct,align:this.textAlign,maxWidth:ot})}},A.prototype.strokeText=function(L,Y,X,ot){if(isNaN(Y)||isNaN(X)||typeof L!="string")throw cr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!M.call(this)){ot=isNaN(ot)?void 0:ot;var ct=ht(this.ctx.transform.rotation),gt=this.ctx.transform.scaleX;D.call(this,{text:L,x:Y,y:X,scale:gt,renderingMode:"stroke",angle:ct,align:this.textAlign,maxWidth:ot})}},A.prototype.measureText=function(L){if(typeof L!="string")throw cr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,X=this.pdf.internal.scaleFactor,ot=Y.internal.getFontSize(),ct=Y.getStringUnitWidth(L)*ot/Y.internal.scaleFactor;return new function(gt){var It=(gt=gt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return It}}),this}({width:ct*=Math.round(96*X/72*1e4)/1e4})},A.prototype.scale=function(L,Y){if(isNaN(L)||isNaN(Y))throw cr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new f(L,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},A.prototype.rotate=function(L){if(isNaN(L))throw cr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new f(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},A.prototype.translate=function(L,Y){if(isNaN(L)||isNaN(Y))throw cr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new f(1,0,0,1,L,Y);this.ctx.transform=this.ctx.transform.multiply(X)},A.prototype.transform=function(L,Y,X,ot,ct,gt){if(isNaN(L)||isNaN(Y)||isNaN(X)||isNaN(ot)||isNaN(ct)||isNaN(gt))throw cr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var It=new f(L,Y,X,ot,ct,gt);this.ctx.transform=this.ctx.transform.multiply(It)},A.prototype.setTransform=function(L,Y,X,ot,ct,gt){L=isNaN(L)?1:L,Y=isNaN(Y)?0:Y,X=isNaN(X)?0:X,ot=isNaN(ot)?1:ot,ct=isNaN(ct)?0:ct,gt=isNaN(gt)?0:gt,this.ctx.transform=new f(L,Y,X,ot,ct,gt)};var j=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(L,Y,X,ot,ct,gt,It,St,jt){var Xt=this.pdf.getImageProperties(L),ne=1,re=1,Ot=1,at=1;ot!==void 0&&St!==void 0&&(Ot=St/ot,at=jt/ct,ne=Xt.width/ot*St/ot,re=Xt.height/ct*jt/ct),gt===void 0&&(gt=Y,It=X,Y=0,X=0),ot!==void 0&&St===void 0&&(St=ot,jt=ct),ot===void 0&&St===void 0&&(St=Xt.width,jt=Xt.height);for(var Xe,qe=this.ctx.transform.decompose(),we=ht(qe.rotate.shx),Wt=new f,ie=(Wt=(Wt=(Wt=Wt.multiply(qe.translate)).multiply(qe.skew)).multiply(qe.scale)).applyToRectangle(new h(gt-Y*Ot,It-X*at,ot*ne,ct*re)),ee=P.call(this,ie),Qe=[],_e=0;_e<ee.length;_e+=1)Qe.indexOf(ee[_e])===-1&&Qe.push(ee[_e]);if(nt(Qe),this.autoPaging)for(var Ge=Qe[0],Pe=Qe[Qe.length-1],Ve=Ge;Ve<Pe+1;Ve++){this.pdf.setPage(Ve);var Sn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Me=Ve===1?this.posY+this.margin[0]:this.margin[0],be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ye=Ve===1?0:be+(Ve-2)*ke;if(this.ctx.clip_path.length!==0){var Un=this.path;Xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(Xe,this.posX+this.margin[3],-ye+Me+this.ctx.prevPageLastElemOffset),vt.call(this,"fill",!0),this.path=Un}var nn=JSON.parse(JSON.stringify(ie));nn=$([nn],this.posX+this.margin[3],-ye+Me+this.ctx.prevPageLastElemOffset)[0];var ae=(Ve>Ge||Ve<Pe)&&j.call(this);ae&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Sn,ke,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",nn.x,nn.y,nn.w,nn.h,null,null,we),ae&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",ie.x,ie.y,ie.w,ie.h,null,null,we)};var P=function(L,Y,X){var ot=[];Y=Y||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ct=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":ot.push(Math.floor((L.y+ct)/X)+1);break;case"arc":ot.push(Math.floor((L.y+ct-L.radius)/X)+1),ot.push(Math.floor((L.y+ct+L.radius)/X)+1);break;case"qct":var gt=Nt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);ot.push(Math.floor((gt.y+ct)/X)+1),ot.push(Math.floor((gt.y+gt.h+ct)/X)+1);break;case"bct":var It=zt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);ot.push(Math.floor((It.y+ct)/X)+1),ot.push(Math.floor((It.y+It.h+ct)/X)+1);break;case"rect":ot.push(Math.floor((L.y+ct)/X)+1),ot.push(Math.floor((L.y+L.h+ct)/X)+1)}for(var St=0;St<ot.length;St+=1)for(;this.pdf.internal.getNumberOfPages()<ot[St];)k.call(this);return ot},k=function(){var L=this.fillStyle,Y=this.strokeStyle,X=this.font,ot=this.lineCap,ct=this.lineWidth,gt=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=Y,this.font=X,this.lineCap=ot,this.lineWidth=ct,this.lineJoin=gt},$=function(L,Y,X){for(var ot=0;ot<L.length;ot++)switch(L[ot].type){case"bct":L[ot].x2+=Y,L[ot].y2+=X;case"qct":L[ot].x1+=Y,L[ot].y1+=X;default:L[ot].x+=Y,L[ot].y+=X}return L},nt=function(L){return L.sort(function(Y,X){return Y-X})},rt=function(L,Y){for(var X,ot,ct=this.fillStyle,gt=this.strokeStyle,It=this.lineCap,St=this.lineWidth,jt=Math.abs(St*this.ctx.transform.scaleX),Xt=this.lineJoin,ne=JSON.parse(JSON.stringify(this.path)),re=JSON.parse(JSON.stringify(this.path)),Ot=[],at=0;at<re.length;at++)if(re[at].x!==void 0)for(var Xe=P.call(this,re[at]),qe=0;qe<Xe.length;qe+=1)Ot.indexOf(Xe[qe])===-1&&Ot.push(Xe[qe]);for(var we=0;we<Ot.length;we++)for(;this.pdf.internal.getNumberOfPages()<Ot[we];)k.call(this);if(nt(Ot),this.autoPaging)for(var Wt=Ot[0],ie=Ot[Ot.length-1],ee=Wt;ee<ie+1;ee++){this.pdf.setPage(ee),this.fillStyle=ct,this.strokeStyle=gt,this.lineCap=It,this.lineWidth=jt,this.lineJoin=Xt;var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_e=ee===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=ee===1?0:Ge+(ee-2)*Pe;if(this.ctx.clip_path.length!==0){var Sn=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(X,this.posX+this.margin[3],-Ve+_e+this.ctx.prevPageLastElemOffset),vt.call(this,L,!0),this.path=Sn}if(ot=JSON.parse(JSON.stringify(ne)),this.path=$(ot,this.posX+this.margin[3],-Ve+_e+this.ctx.prevPageLastElemOffset),Y===!1||ee===0){var Me=(ee>Wt||ee<ie)&&j.call(this);Me&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,Pe,null).clip().discardPath()),vt.call(this,L,Y),Me&&this.pdf.restoreGraphicsState()}this.lineWidth=St}else this.lineWidth=jt,vt.call(this,L,Y),this.lineWidth=St;this.path=ne},vt=function(L,Y){if((L!=="stroke"||Y||!M.call(this))&&(L==="stroke"||Y||!b.call(this))){for(var X,ot,ct=[],gt=this.path,It=0;It<gt.length;It++){var St=gt[It];switch(St.type){case"begin":ct.push({begin:!0});break;case"close":ct.push({close:!0});break;case"mt":ct.push({start:St,deltas:[],abs:[]});break;case"lt":var jt=ct.length;if(gt[It-1]&&!isNaN(gt[It-1].x)&&(X=[St.x-gt[It-1].x,St.y-gt[It-1].y],jt>0)){for(;jt>=0;jt--)if(ct[jt-1].close!==!0&&ct[jt-1].begin!==!0){ct[jt-1].deltas.push(X),ct[jt-1].abs.push(St);break}}break;case"bct":X=[St.x1-gt[It-1].x,St.y1-gt[It-1].y,St.x2-gt[It-1].x,St.y2-gt[It-1].y,St.x-gt[It-1].x,St.y-gt[It-1].y],ct[ct.length-1].deltas.push(X);break;case"qct":var Xt=gt[It-1].x+2/3*(St.x1-gt[It-1].x),ne=gt[It-1].y+2/3*(St.y1-gt[It-1].y),re=St.x+2/3*(St.x1-St.x),Ot=St.y+2/3*(St.y1-St.y),at=St.x,Xe=St.y;X=[Xt-gt[It-1].x,ne-gt[It-1].y,re-gt[It-1].x,Ot-gt[It-1].y,at-gt[It-1].x,Xe-gt[It-1].y],ct[ct.length-1].deltas.push(X);break;case"arc":ct.push({deltas:[],abs:[],arc:!0}),Array.isArray(ct[ct.length-1].abs)&&ct[ct.length-1].abs.push(St)}}ot=Y?null:L==="stroke"?"stroke":"fill";for(var qe=!1,we=0;we<ct.length;we++)if(ct[we].arc)for(var Wt=ct[we].abs,ie=0;ie<Wt.length;ie++){var ee=Wt[ie];ee.type==="arc"?U.call(this,ee.x,ee.y,ee.radius,ee.startAngle,ee.endAngle,ee.counterclockwise,void 0,Y,!qe):O.call(this,ee.x,ee.y),qe=!0}else if(ct[we].close===!0)this.pdf.internal.out("h"),qe=!1;else if(ct[we].begin!==!0){var Qe=ct[we].start.x,_e=ct[we].start.y;st.call(this,ct[we].deltas,Qe,_e),qe=!0}ot&&I.call(this,ot),Y&&z.call(this)}},Dt=function(L){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-X;case"top":return L+Y-X;case"hanging":return L+Y-2*X;case"middle":return L+Y/2-X;default:return L}},G=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(Y,X){this.colorStops.push([Y,X])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(L,Y,X,ot,ct,gt,It,St,jt){for(var Xt=it.call(this,X,ot,ct,gt),ne=0;ne<Xt.length;ne++){var re=Xt[ne];ne===0&&(jt?x.call(this,re.x1+L,re.y1+Y):O.call(this,re.x1+L,re.y1+Y)),At.call(this,L,Y,re.x2,re.y2,re.x3,re.y3,re.x4,re.y4)}St?z.call(this):I.call(this,It)},I=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},x=function(L,Y){this.pdf.internal.out(e(L)+" "+r(Y)+" m")},D=function(L){var Y;switch(L.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var X=this.pdf.getTextDimensions(L.text),ot=Dt.call(this,L.y),ct=G.call(this,ot)-X.h,gt=this.ctx.transform.applyToPoint(new u(L.x,ot)),It=this.ctx.transform.decompose(),St=new f;St=(St=(St=St.multiply(It.translate)).multiply(It.skew)).multiply(It.scale);for(var jt,Xt,ne,re=this.ctx.transform.applyToRectangle(new h(L.x,ot,X.w,X.h)),Ot=St.applyToRectangle(new h(L.x,ct,X.w,X.h)),at=P.call(this,Ot),Xe=[],qe=0;qe<at.length;qe+=1)Xe.indexOf(at[qe])===-1&&Xe.push(at[qe]);if(nt(Xe),this.autoPaging)for(var we=Xe[0],Wt=Xe[Xe.length-1],ie=we;ie<Wt+1;ie++){this.pdf.setPage(ie);var ee=ie===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_e=this.pdf.internal.pageSize.height-this.margin[2],Ge=_e-this.margin[0],Pe=this.pdf.internal.pageSize.width-this.margin[1],Ve=Pe-this.margin[3],Sn=ie===1?0:Qe+(ie-2)*Ge;if(this.ctx.clip_path.length!==0){var Me=this.path;jt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(jt,this.posX+this.margin[3],-1*Sn+ee),vt.call(this,"fill",!0),this.path=Me}var be=$([JSON.parse(JSON.stringify(Ot))],this.posX+this.margin[3],-Sn+ee+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(Xt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Xt*L.scale),ne=this.lineWidth,this.lineWidth=ne*L.scale);var ke=this.autoPaging!=="text";if(ke||be.y+be.h<=_e){if(ke||be.y>=ee&&be.x<=Pe){var ye=ke?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Pe-be.x)[0],Un=$([JSON.parse(JSON.stringify(re))],this.posX+this.margin[3],-Sn+ee+this.ctx.prevPageLastElemOffset)[0],nn=ke&&(ie>we||ie<Wt)&&j.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,Ge,null).clip().discardPath()),this.pdf.text(ye,Un.x,Un.y,{angle:L.angle,align:Y,renderingMode:L.renderingMode}),nn&&this.pdf.restoreGraphicsState()}}else be.y<_e&&(this.ctx.prevPageLastElemOffset+=_e-be.y);L.scale>=.01&&(this.pdf.setFontSize(Xt),this.lineWidth=ne)}else L.scale>=.01&&(Xt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Xt*L.scale),ne=this.lineWidth,this.lineWidth=ne*L.scale),this.pdf.text(L.text,gt.x+this.posX,gt.y+this.posY,{angle:L.angle,align:Y,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(Xt),this.lineWidth=ne)},O=function(L,Y,X,ot){X=X||0,ot=ot||0,this.pdf.internal.out(e(L+X)+" "+r(Y+ot)+" l")},st=function(L,Y,X){return this.pdf.lines(L,Y,X,null,null)},At=function(L,Y,X,ot,ct,gt,It,St){this.pdf.internal.out([t(s(X+L)),t(o(ot+Y)),t(s(ct+L)),t(o(gt+Y)),t(s(It+L)),t(o(St+Y)),"c"].join(" "))},it=function(L,Y,X,ot){for(var ct=2*Math.PI,gt=Math.PI/2;Y>X;)Y-=ct;var It=Math.abs(X-Y);It<ct&&ot&&(It=ct-It);for(var St=[],jt=ot?-1:1,Xt=Y;It>1e-5;){var ne=Xt+jt*Math.min(It,gt);St.push(dt.call(this,L,Xt,ne)),It-=Math.abs(ne-Xt),Xt=ne}return St},dt=function(L,Y,X){var ot=(X-Y)/2,ct=L*Math.cos(ot),gt=L*Math.sin(ot),It=ct,St=-gt,jt=It*It+St*St,Xt=jt+It*ct+St*gt,ne=4/3*(Math.sqrt(2*jt*Xt)-Xt)/(It*gt-St*ct),re=It-ne*St,Ot=St+ne*It,at=re,Xe=-Ot,qe=ot+Y,we=Math.cos(qe),Wt=Math.sin(qe);return{x1:L*Math.cos(Y),y1:L*Math.sin(Y),x2:re*we-Ot*Wt,y2:re*Wt+Ot*we,x3:at*we-Xe*Wt,y3:at*Wt+Xe*we,x4:L*Math.cos(X),y4:L*Math.sin(X)}},ht=function(L){return 180*L/Math.PI},Nt=function(L,Y,X,ot,ct,gt){var It=L+.5*(X-L),St=Y+.5*(ot-Y),jt=ct+.5*(X-ct),Xt=gt+.5*(ot-gt),ne=Math.min(L,ct,It,jt),re=Math.max(L,ct,It,jt),Ot=Math.min(Y,gt,St,Xt),at=Math.max(Y,gt,St,Xt);return new h(ne,Ot,re-ne,at-Ot)},zt=function(L,Y,X,ot,ct,gt,It,St){var jt,Xt,ne,re,Ot,at,Xe,qe,we,Wt,ie,ee,Qe,_e,Ge=X-L,Pe=ot-Y,Ve=ct-X,Sn=gt-ot,Me=It-ct,be=St-gt;for(Xt=0;Xt<41;Xt++)we=(Xe=(ne=L+(jt=Xt/40)*Ge)+jt*((Ot=X+jt*Ve)-ne))+jt*(Ot+jt*(ct+jt*Me-Ot)-Xe),Wt=(qe=(re=Y+jt*Pe)+jt*((at=ot+jt*Sn)-re))+jt*(at+jt*(gt+jt*be-at)-qe),Xt==0?(ie=we,ee=Wt,Qe=we,_e=Wt):(ie=Math.min(ie,we),ee=Math.min(ee,Wt),Qe=Math.max(Qe,we),_e=Math.max(_e,Wt));return new h(Math.round(ie),Math.round(ee),Math.round(Qe-ie),Math.round(_e-ee))},J=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,Y,X=(L=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:Y}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Ee.API),(function(n){var t=function(u){var h,f,d,v,A,T,b,M,j,P;for(f=[],d=0,v=(u+=h="\0\0\0\0".slice(u.length%4||4)).length;v>d;d+=4)(A=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(T=(A=((A=((A=((A=(A-(P=A%85))/85)-(j=A%85))/85)-(M=A%85))/85)-(b=A%85))/85)%85,f.push(T+33,b+33,M+33,j+33,P+33)):f.push(122);return(function(k,$){for(var nt=$;nt>0;nt--)k.pop()})(f,h.length),String.fromCharCode.apply(String,f)+"~>"},e=function(u){var h,f,d,v,A,T=String,b="length",M=255,j="charCodeAt",P="slice",k="replace";for(u[P](-2),u=u[P](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),d=[],v=0,A=(u+=h="uuuuu"[P](u[b]%5||5))[b];A>v;v+=5)f=52200625*(u[j](v)-33)+614125*(u[j](v+1)-33)+7225*(u[j](v+2)-33)+85*(u[j](v+3)-33)+(u[j](v+4)-33),d.push(M&f>>24,M&f>>16,M&f>>8,M&f);return(function($,nt){for(var rt=nt;rt>0;rt--)$.pop()})(d,h[b]),T.fromCharCode.apply(T,d)},r=function(u){return u.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(u){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),h.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var h=new Uint8Array(u.length),f=u.length;f--;)h[f]=u.charCodeAt(f);return(h=C0(h)).reduce(function(d,v){return d+String.fromCharCode(v)},"")};n.processDataByFilters=function(u,h){var f=0,d=u||"",v=[];for(typeof(h=h||[])=="string"&&(h=[h]),f=0;f<h.length;f+=1)switch(h[f]){case"ASCII85Decode":case"/ASCII85Decode":d=e(d),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[f]+'" is not implemented')}return{data:d,reverseChain:v.reverse().join(" ")}}})(Ee.API),(function(n){n.loadFile=function(t,e,r){return(function(s,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var h=void 0;try{h=(function(f,d,v){var A=new XMLHttpRequest,T=0,b=function(M){var j=M.length,P=[],k=String.fromCharCode;for(T=0;T<j;T+=1)P.push(k(255&M.charCodeAt(T)));return P.join("")};if(A.open("GET",f,!d),A.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(A.onload=function(){A.status===200?v(b(this.responseText)):v(void 0)}),A.send(null),d&&A.status===200)return b(A.responseText)})(s,o,u)}catch{}return h})(t,e,r)},n.loadImageFile=n.loadFile})(Ee.API),(function(n){function t(){return(We.html2canvas?Promise.resolve(We.html2canvas):Rg(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function e(){return(We.DOMPurify?Promise.resolve(We.DOMPurify):Rg(()=>import("./purify.es-aGzT-_H7.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var r=function(h){var f=Xn(h);return f==="undefined"?"undefined":f==="string"||h instanceof String?"string":f==="number"||h instanceof Number?"number":f==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(h,f){var d=document.createElement(h);for(var v in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[v]=f.style[v];return d},o=function h(f,d){for(var v=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),A=f.firstChild;A;A=A.nextSibling)d!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||v.appendChild(h(A,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(v.width=f.width,v.height=f.height,v.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(v.value=f.value),v.addEventListener("load",function(){v.scrollTop=f.scrollTop,v.scrollLeft=f.scrollLeft},!0)),v},u=function h(f){var d=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),v=h.convert(Promise.resolve(),d);return(v=v.setProgress(1,h,1,[h])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(h,f){return h.__proto__=f||u.prototype,h},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(h,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),f){case"string":return this.then(e).then(function(d){return this.set({src:s("div",{innerHTML:h,dompurify:d})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},u.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(t).then(function(f){var d=this.opt.jsPDF,v=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,T=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete T.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=v,v)for(var b=0;b<v.length;++b){var M=v[b],j=M.src.find(function(P){return P.format==="truetype"});j&&d.addFont(j.url,M.ref.name,M.ref.style)}return T.windowHeight=T.windowHeight||0,T.windowHeight=T.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):T.windowHeight,d.context2d.save(!0),f(this.prop.container,T)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(h,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(h,f):this.outputPdf(h,f)},u.prototype.outputPdf=function(h,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,f)})},u.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},u.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(h){if(r(h)!=="object")return this;var f=Object.keys(h||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=h[d]};switch(d){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[d]=h[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(h,f){return this.then(function(){var d=h in u.template.prop?this.prop[h]:this.opt[h];return f?f(d):d})},u.prototype.setMargin=function(h){return this.then(function(){switch(r(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},u.prototype.setPageSize=function(h){function f(d,v){return Math.floor(d*v/72*96)}return this.then(function(){(h=h||Ee.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:f(h.inner.width,h.k),height:f(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},u.prototype.setProgress=function(h,f,d,v){return h!=null&&(this.progress.val=h),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(h,f,d,v){return this.setProgress(h?this.progress.val+h:null,f||null,d?this.progress.n+d:null,v?this.progress.stack.concat(v):null)},u.prototype.then=function(h,f){var d=this;return this.thenCore(h,f,function(v,A){return d.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(T){return d.updateProgress(null,v),T}).then(v,A).then(function(T){return d.updateProgress(1),T})})},u.prototype.thenCore=function(h,f,d){d=d||Promise.prototype.then;var v=this;h&&(h=h.bind(v)),f&&(f=f.bind(v));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?v:u.convert(Object.assign({},v),Promise.prototype),T=d.call(A,h,f);return u.convert(T,v.__proto__)},u.prototype.thenExternal=function(h,f){return Promise.prototype.then.call(this,h,f)},u.prototype.thenList=function(h){var f=this;return h.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(h){h&&(h=h.bind(this));var f=Promise.prototype.catch.call(this,h);return u.convert(f,this)},u.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},u.prototype.error=function(h){return this.then(function(){throw new Error(h)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Ee.getPageSize=function(h,f,d){if(Xn(h)==="object"){var v=h;h=v.orientation,f=v.unit||f,d=v.format||d}f=f||"mm",d=d||"a4",h=(""+(h||"P")).toLowerCase();var A,T=(""+d).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+f}var M,j=0,P=0;if(b.hasOwnProperty(T))j=b[T][1]/A,P=b[T][0]/A;else try{j=d[1],P=d[0]}catch{throw new Error("Invalid format: "+d)}if(h==="p"||h==="portrait")h="p",P>j&&(M=P,P=j,j=M);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",j>P&&(M=P,P=j,j=M)}return{width:P,height:j,unit:f,k:A,orientation:h}},n.html=function(h,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Wg):null;var d=new u(f);return f.worker?d:d.from(h).doCallback()}})(Ee.API),Ee.API.addJS=function(n){return rw=n,this.internal.events.subscribe("postPutResources",function(){Pp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Pp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),nw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+rw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Pp!==void 0&&nw!==void 0&&this.internal.out("/Names <</JavaScript "+Pp+" 0 R>>")}),this},(function(n){var t;n.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=e.outline.render().split(/\r\n/),o=0;o<s.length;o++){var u=s[o],h=r.exec(u);if(h!=null){var f=h[1];e.internal.newObjectDeferredBegin(f,!1)}e.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,v=[];for(o=0;o<d;o++){var A=e.internal.newObject();v.push(A);var T=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+T.objId+" 0 R /XYZ null null null]>> endobj")}var b=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<v.length;o++)e.internal.write("(page_"+(o+1)+")"+v[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+b+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,s,o){var u={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(u),u},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var u=r.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var h=this.count=this.count_r({count:0},u);if(h>0&&this.line("/Count "+h),u.options&&u.options.pageNumber){var f=e.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])})(Ee.API),(function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,r,s,o,u,h){var f,d=this.decode.DCT_DECODE,v=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=u||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,f=(function(A){for(var T,b=256*A.charCodeAt(4)+A.charCodeAt(5),M=A.length,j={width:0,height:0,numcomponents:1},P=4;P<M;P+=2){if(P+=b,t.indexOf(A.charCodeAt(P+1))!==-1){T=256*A.charCodeAt(P+5)+A.charCodeAt(P+6),j={width:256*A.charCodeAt(P+7)+A.charCodeAt(P+8),height:T,numcomponents:A.charCodeAt(P+9)};break}b=256*A.charCodeAt(P+2)+A.charCodeAt(P+3)}return j})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),f.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}v={data:e,width:f.width,height:f.height,colorSpace:h,bitsPerComponent:8,filter:d,index:r,alias:s}}return v}})(Ee.API),Ee.API.processPNG=function(n,t,e,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,o=pD(n,{checkCrc:!0}),u=o.width,h=o.height,f=o.channels,d=o.palette,v=o.depth;s=d&&f===1?(function(U){for(var I=U.width,z=U.height,x=U.data,D=U.palette,O=U.depth,st=!1,At=[],it=[],dt=void 0,ht=!1,Nt=0,zt=0;zt<D.length;zt++){var J=ob(D[zt],4),L=J[0],Y=J[1],X=J[2],ot=J[3];At.push(L,Y,X),ot!=null&&(ot===0?(Nt++,it.length<1&&it.push(zt)):ot<255&&(ht=!0))}if(ht||Nt>1){st=!0,it=void 0;var ct=I*z;dt=new Uint8Array(ct);for(var gt=new DataView(x.buffer),It=0;It<ct;It++){var St=Qg(gt,It,O),jt=ob(D[St],4)[3];dt[It]=jt}}else Nt===0&&(it=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:st?8:void 0,colorBytes:x,alphaBytes:dt,needSMask:st,palette:At,mask:it}})(o):f===2||f===4?(function(U){for(var I=U.data,z=U.width,x=U.height,D=U.channels,O=U.depth,st=D===2?"DeviceGray":"DeviceRGB",At=D-1,it=z*x,dt=At,ht=it*dt,Nt=1*it,zt=Math.ceil(ht*O/8),J=Math.ceil(Nt*O/8),L=new Uint8Array(zt),Y=new Uint8Array(J),X=new DataView(I.buffer),ot=new DataView(L.buffer),ct=new DataView(Y.buffer),gt=!1,It=0;It<it;It++){for(var St=It*D,jt=0;jt<dt;jt++)fw(ot,Qg(X,St+jt,O),It*dt+jt,O);var Xt=Qg(X,St+dt,O);Xt<(1<<O)-1&&(gt=!0),fw(ct,Xt,1*It,O)}return{colorSpace:st,colorsPerPixel:At,sMaskBitsPerComponent:gt?O:void 0,colorBytes:L,alphaBytes:Y,needSMask:gt}})(o):(function(U){var I=U.data,z=U.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:z,colorsPerPixel:z==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?(function(x){for(var D=x.length,O=new Uint8Array(2*D),st=new DataView(O.buffer,O.byteOffset,O.byteLength),At=0;At<D;At++)st.setUint16(2*At,x[At],!1);return O})(I):I,needSMask:!1}})(o);var A,T,b,M=s,j=M.colorSpace,P=M.colorsPerPixel,k=M.sMaskBitsPerComponent,$=M.colorBytes,nt=M.alphaBytes,rt=M.needSMask,vt=M.palette,Dt=M.mask,G=null;return r!==Ee.API.image_compression.NONE&&typeof C0=="function"?(G=(function(U){var I;switch(U){case Ee.API.image_compression.FAST:I=11;break;case Ee.API.image_compression.MEDIUM:I=13;break;case Ee.API.image_compression.SLOW:I=14;break;default:I=12}return I})(r),A=this.decode.FLATE_DECODE,T="/Predictor ".concat(G," /Colors ").concat(P," /BitsPerComponent ").concat(v," /Columns ").concat(u),n=ow($,Math.ceil(u*P*v/8),P,v,r),rt&&(b=ow(nt,Math.ceil(u*k/8),1,k,r))):(A=void 0,T=void 0,n=$,rt&&(b=nt)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:e,data:n,index:t,filter:A,decodeParameters:T,transparency:Dt,palette:vt,sMask:b,predictor:G,width:u,height:h,bitsPerComponent:v,sMaskBitsPerComponent:k,colorSpace:j}}},(function(n){n.processGIF89A=function(t,e,r,s){var o=new PD(t),u=o.width,h=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:h},v=new $g(100).encode(d,100);return n.processJPEG.call(this,v,e,r,s)},n.processGIF87A=n.processGIF89A})(Ee.API),co.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},co.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){cr.log("bit decode error:"+e)}},co.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<t;s++)for(var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*s*4,h=0;h<8&&8*s+h<this.width;h++){var f=this.palette[o>>7-h&1];this.data[u+4*h]=f.blue,this.data[u+4*h+1]=f.green,this.data[u+4*h+2]=f.red,this.data[u+4*h+3]=255}e!==0&&(this.pos+=4-e)}},co.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*s*4,h=o>>4,f=15&o,d=this.palette[h];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*s+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}t!==0&&(this.pos+=4-t)}},co.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;if(s<this.palette.length){var u=this.palette[s];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},co.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&t)/t*255|0,h=(o>>5&t)/t*255|0,f=(o>>10&t)/t*255|0,d=o>>15?255:0,v=r*this.width*4+4*s;this.data[v]=f,this.data[v+1]=h,this.data[v+2]=u,this.data[v+3]=d}this.pos+=n}},co.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(u&t)/t*255|0,f=(u>>5&e)/e*255|0,d=(u>>11)/t*255|0,v=s*this.width*4+4*o;this.data[v]=d,this.data[v+1]=f,this.data[v+2]=h,this.data[v+3]=255}this.pos+=n}},co.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},co.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),h=t*this.width*4+4*e;this.data[h]=o,this.data[h+1]=s,this.data[h+2]=r,this.data[h+3]=u}},co.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(t,e,r,s){var o=new co(t,!1),u=o.width,h=o.height,f={data:o.getData(),width:u,height:h},d=new $g(100).encode(f,100);return n.processJPEG.call(this,d,e,r,s)}})(Ee.API),pw.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(t,e,r,s){var o=new pw(t),u=o.width,h=o.height,f={data:o.getData(),width:u,height:h},d=new $g(100).encode(f,100);return n.processJPEG.call(this,d,e,r,s)}})(Ee.API),Ee.API.processRGBA=function(n,t,e){for(var r=n.data,s=r.length,o=new Uint8Array(s/4*3),u=new Uint8Array(s/4),h=0,f=0,d=0;d<s;d+=4){var v=r[d],A=r[d+1],T=r[d+2],b=r[d+3];o[h++]=v,o[h++]=A,o[h++]=T,u[f++]=b}var M=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:M,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ee.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},mh=Ee.API,Mp=mh.getCharWidthsArray=function(n,t){var e,r,s=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),u=t.charSpace||this.internal.getCharSpace(),h=t.widths?t.widths:s.metadata.Unicode.widths,f=h.fof?h.fof:1,d=t.kerning?t.kerning:s.metadata.Unicode.kerning,v=d.fof?d.fof:1,A=t.doKerning!==!1,T=0,b=n.length,M=0,j=h[0]||f,P=[];for(e=0;e<b;e++)r=n.charCodeAt(e),typeof s.metadata.widthOfString=="function"?P.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+u*(1e3/o)||0)/1e3):(T=A&&Xn(d[r])==="object"&&!isNaN(parseInt(d[r][M],10))?d[r][M]/v:0,P.push((h[r]||j)/f+T)),M=r;return P},iw=mh.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return mh.processArabic&&(n=mh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,e,s)/e:Mp.apply(this,arguments).reduce(function(o,u){return o+u},0)},aw=function(n,t,e,r){for(var s=[],o=0,u=n.length,h=0;o!==u&&h+t[o]<e;)h+=t[o],o++;s.push(n.slice(0,o));var f=o;for(h=0;o!==u;)h+t[o]>r&&(s.push(n.slice(f,o)),h=0,f=o),h+=t[o],o++;return f!==o&&s.push(n.slice(f,o)),s},sw=function(n,t,e){e||(e={});var r,s,o,u,h,f,d,v=[],A=[v],T=e.textIndent||0,b=0,M=0,j=n.split(" "),P=Mp.apply(this,[" ",e])[0];if(f=e.lineIndent===-1?j[0].length+2:e.lineIndent||0){var k=Array(f).join(" "),$=[];j.map(function(rt){(rt=rt.split(/\s*\n/)).length>1?$=$.concat(rt.map(function(vt,Dt){return(Dt&&vt.length?`
`:"")+vt})):$.push(rt[0])}),j=$,f=iw.apply(this,[k,e])}for(o=0,u=j.length;o<u;o++){var nt=0;if(r=j[o],f&&r[0]==`
`&&(r=r.substr(1),nt=1),T+b+(M=(s=Mp.apply(this,[r,e])).reduce(function(rt,vt){return rt+vt},0))>t||nt){if(M>t){for(h=aw.apply(this,[r,s,t-(T+b),t]),v.push(h.shift()),v=[h.pop()];h.length;)A.push([h.shift()]);M=s.slice(r.length-(v[0]?v[0].length:0)).reduce(function(rt,vt){return rt+vt},0)}else v=[r];A.push(v),T=M+f,b=P}else v.push(r),T+=b+M,b=P}return d=f?function(rt,vt){return(vt?k:"")+rt.join(" ")}:function(rt){return rt.join(" ")},A.map(d)},mh.splitTextToSize=function(n,t,e){var r,s=(e=e||{}).fontSize||this.internal.getFontSize(),o=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var A=this.internal.getFont(v.fontName,v.fontStyle),T="Unicode";return A.metadata[T]?{widths:A.metadata[T].widths||{0:1},kerning:A.metadata[T].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*t/s;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=e.lineIndent;var h,f,d=[];for(h=0,f=r.length;h<f;h++)d=d.concat(sw.apply(this,[r[h],u,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",r={},s={},o=0;o<16;o++)r[e[o]]=t[o],s[t[o]]=e[o];var u=function(T){return"0x"+parseInt(T,10).toString(16)},h=n.__fontmetrics__.compress=function(T){var b,M,j,P,k=["{"];for(var $ in T){if(b=T[$],isNaN(parseInt($,10))?M="'"+$+"'":($=parseInt($,10),M=(M=u($).slice(2)).slice(0,-1)+s[M.slice(-1)]),typeof b=="number")b<0?(j=u(b).slice(3),P="-"):(j=u(b).slice(2),P=""),j=P+j.slice(0,-1)+s[j.slice(-1)];else{if(Xn(b)!=="object")throw new Error("Don't know what to do with value type "+Xn(b)+".");j=h(b)}k.push(M+j)}return k.push("}"),k.join("")},f=n.__fontmetrics__.uncompress=function(T){if(typeof T!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,M,j,P,k={},$=1,nt=k,rt=[],vt="",Dt="",G=T.length-1,U=1;U<G;U+=1)(P=T[U])=="'"?b?(j=b.join(""),b=void 0):b=[]:b?b.push(P):P=="{"?(rt.push([nt,j]),nt={},j=void 0):P=="}"?((M=rt.pop())[0][M[1]]=nt,j=void 0,nt=M[0]):P=="-"?$=-1:j===void 0?r.hasOwnProperty(P)?(vt+=r[P],j=parseInt(vt,16)*$,$=1,vt=""):vt+=P:r.hasOwnProperty(P)?(Dt+=r[P],nt[j]=parseInt(Dt,16)*$,$=1,j=void 0,Dt=""):Dt+=P;return k},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},A={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(T){var b=T.font,M=A.Unicode[b.postScriptName];M&&(b.metadata.Unicode={},b.metadata.Unicode.widths=M.widths,b.metadata.Unicode.kerning=M.kerning);var j=v.Unicode[b.postScriptName];j&&(b.metadata.Unicode.encoding=j,b.encoding=j.codePages[0])}])})(Ee.API),(function(n){var t=function(e){for(var r=e.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=e.charCodeAt(o);return s};n.API.events.push(["addFont",function(e){var r=void 0,s=e.font,o=e.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,h){h=/^\x00\x01\x00\x00/.test(h)?t(h):t(Xp(h)),u.metadata=n.API.TTFFont.open(h),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,r)}}])})(Ee),Ee.API.addSvgAsImage=function(n,t,e,r,s,o,u,h){if(isNaN(t)||isNaN(e))throw cr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw cr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=s;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(We.canvg?Promise.resolve(We.canvg):Rg(()=>import("./index.es-CZ37r_gd.js"),[])).catch(function(T){return Promise.reject(new Error("Could not load canvg: "+T))}).then(function(T){return T.default?T.default:T}).then(function(T){return T.fromString(d,n,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(T){return T.render(v)}).then(function(){A.addImage(f.toDataURL("image/jpeg",1),t,e,r,s,u,h)})},Ee.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,e);return this},Ee.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var r,s,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(u),f=[],d=0,v=0,A=0;function T(M,j){var P,k=!1;for(P=0;P<M.length;P+=1)M[P]===j&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var b=h.length;for(A=0;A<b;A+=1)e[h[A]].value=e[h[A]].defaultValue,e[h[A]].explicitSet=!1}if(Xn(n)==="object"){for(s in n)if(o=n[s],T(h,s)&&o!==void 0){if(e[s].type==="boolean"&&typeof o=="boolean")e[s].value=o;else if(e[s].type==="name"&&T(e[s].valueSet,o))e[s].value=o;else if(e[s].type==="integer"&&Number.isInteger(o))e[s].value=o;else if(e[s].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(v=0;v<o[d].length;v+=1)typeof o[d][v]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}e[s].value="["+f.join(" ")+"]"}else e[s].value=e[s].defaultValue;e[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var M,j=[];for(M in e)e[M].explicitSet===!0&&(e[M].type==="name"?j.push("/"+M+" /"+e[M].value):j.push("/"+M+" "+e[M].value));j.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+j.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(n){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+u.length+h.length+s.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+o+u+h+f),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(Ee.API),(function(n){var t=n.API,e=t.pdfEscape16=function(o,u){for(var h,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],v=[""],A=0,T=o.length;A<T;++A){if(h=u.metadata.characterToGlyph(o.charCodeAt(A)),u.metadata.glyIdsUsed.push(h),u.metadata.toUnicode[h]=o.charCodeAt(A),f.indexOf(h)==-1&&(f.push(h),f.push([parseInt(u.metadata.widthOfGlyph(h),10)])),h=="0")return v.join("");h=h.toString(16),v.push(d[4-h.length],h)}return v.join("")},r=function(o){var u,h,f,d,v,A,T;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],A=0,T=(h=Object.keys(o).sort(function(b,M){return b-M})).length;A<T;A++)u=h[A],f.length>=100&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(v+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),v+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(u){var h=u.font,f=u.out,d=u.newObject,v=u.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var A=h.metadata.Unicode.widths,T=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),b="",M=0;M<T.length;M++)b+=String.fromCharCode(T[M]);var j=d();v({data:b,addLength1:!0,objectId:j}),f("endobj");var P=d();v({data:r(h.metadata.toUnicode),addLength1:!0,objectId:P}),f("endobj");var k=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+wh(h.fontName)),f("/FontFile2 "+j+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/Flags "+h.metadata.flags),f("/StemV "+h.metadata.stemV),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f(">>"),f("endobj");var $=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+wh(h.fontName)),f("/FontDescriptor "+k+" 0 R"),f("/W "+n.API.PDFObject.convert(A)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+h.encoding+")"),f(">>"),f(">>"),f("endobj"),h.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+P+" 0 R"),f("/BaseFont /"+wh(h.fontName)),f("/Encoding /"+h.encoding),f("/DescendantFonts ["+$+" 0 R]"),f(">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(u){var h=u.font,f=u.out,d=u.newObject,v=u.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var A=h.metadata.rawData,T="",b=0;b<A.length;b++)T+=String.fromCharCode(A[b]);var M=d();v({data:T,addLength1:!0,objectId:M}),f("endobj");var j=d();v({data:r(h.metadata.toUnicode),addLength1:!0,objectId:j}),f("endobj");var P=d();f("<<"),f("/Descent "+h.metadata.decender),f("/CapHeight "+h.metadata.capHeight),f("/StemV "+h.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+M+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),f("/FontName /"+wh(h.fontName)),f("/ItalicAngle "+h.metadata.italicAngle),f("/Ascent "+h.metadata.ascender),f(">>"),f("endobj"),h.objectNumber=d();for(var k=0;k<h.metadata.hmtx.widths.length;k++)h.metadata.hmtx.widths[k]=parseInt(h.metadata.hmtx.widths[k]*(1e3/h.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+j+" 0 R/BaseFont/"+wh(h.fontName)+"/FontDescriptor "+P+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),f("endobj"),h.isAlreadyPutted=!0}})(o)}]);var s=function(o){var u,h=o.text||"",f=o.x,d=o.y,v=o.options||{},A=o.mutex||{},T=A.pdfEscape,b=A.activeFontKey,M=A.fonts,j=b,P="",k=0,$="",nt=M[j].encoding;if(M[j].encoding!=="Identity-H")return{text:h,x:f,y:d,options:v,mutex:A};for($=h,j=b,Array.isArray(h)&&($=h[0]),k=0;k<$.length;k+=1)M[j].metadata.hasOwnProperty("cmap")&&(u=M[j].metadata.cmap.unicode.codeMap[$[k].charCodeAt(0)]),u||$[k].charCodeAt(0)<256&&M[j].metadata.hasOwnProperty("Unicode")?P+=$[k]:P+="";var rt="";return parseInt(j.slice(1))<14||nt==="WinAnsiEncoding"?rt=T(P,j).split("").map(function(vt){return vt.charCodeAt(0).toString(16)}).join(""):nt==="Identity-H"&&(rt=e(P,M[j])),A.isHex=!0,{text:rt,x:f,y:d,options:v,mutex:A}};t.events.push(["postProcessText",function(o){var u=o.text||"",h=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?h.push([s(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):h.push(s(Object.assign({},f,{text:u[d]})).text);o.text=h}else o.text=s(Object.assign({},f,{text:u})).text}])})(Ee),(function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(Ee.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,o,u,h,f,d,v,A=t,T=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],M={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},j={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},P=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),$=!1,nt=0;this.__bidiEngine__={};var rt=function(x){var D=x.charCodeAt(),O=D>>8,st=j[O];return st!==void 0?A[256*st+(255&D)]:O===252||O===253?"AL":k.test(O)?"L":O===8?"R":"N"},vt=function(x){for(var D,O=0;O<x.length;O++){if((D=rt(x.charAt(O)))==="L")return!1;if(D==="R")return!0}return!1},Dt=function(x,D,O,st){var At,it,dt,ht,Nt=D[st];switch(Nt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":$=!1;break;case"N":case"AN":break;case"EN":$&&(Nt="AN");break;case"AL":$=!0,Nt="R";break;case"WS":case"BN":Nt="N";break;case"CS":st<1||st+1>=D.length||(At=O[st-1])!=="EN"&&At!=="AN"||(it=D[st+1])!=="EN"&&it!=="AN"?Nt="N":$&&(it="AN"),Nt=it===At?it:"N";break;case"ES":Nt=(At=st>0?O[st-1]:"B")==="EN"&&st+1<D.length&&D[st+1]==="EN"?"EN":"N";break;case"ET":if(st>0&&O[st-1]==="EN"){Nt="EN";break}if($){Nt="N";break}for(dt=st+1,ht=D.length;dt<ht&&D[dt]==="ET";)dt++;Nt=dt<ht&&D[dt]==="EN"?"EN":"N";break;case"NSM":if(u&&!h){for(ht=D.length,dt=st+1;dt<ht&&D[dt]==="NSM";)dt++;if(dt<ht){var zt=x[st],J=zt>=1425&&zt<=2303||zt===64286;if(At=D[dt],J&&(At==="R"||At==="AL")){Nt="R";break}}}Nt=st<1||(At=D[st-1])==="B"?"N":O[st-1];break;case"B":$=!1,s=!0,Nt=nt;break;case"S":o=!0,Nt="N"}return Nt},G=function(x,D,O){var st=x.split("");return O&&U(st,O,{hiLevel:nt}),st.reverse(),D&&D.reverse(),st.join("")},U=function(x,D,O){var st,At,it,dt,ht,Nt=-1,zt=x.length,J=0,L=[],Y=nt?b:T,X=[];for($=!1,s=!1,o=!1,At=0;At<zt;At++)X[At]=rt(x[At]);for(it=0;it<zt;it++){if(ht=J,L[it]=Dt(x,X,L,it),st=240&(J=Y[ht][M[L[it]]]),J&=15,D[it]=dt=Y[J][5],st>0)if(st===16){for(At=Nt;At<it;At++)D[At]=1;Nt=-1}else Nt=-1;if(Y[J][6])Nt===-1&&(Nt=it);else if(Nt>-1){for(At=Nt;At<it;At++)D[At]=dt;Nt=-1}X[it]==="B"&&(D[it]=0),O.hiLevel|=dt}o&&(function(ot,ct,gt){for(var It=0;It<gt;It++)if(ot[It]==="S"){ct[It]=nt;for(var St=It-1;St>=0&&ot[St]==="WS";St--)ct[St]=nt}})(X,D,zt)},I=function(x,D,O,st,At){if(!(At.hiLevel<x)){if(x===1&&nt===1&&!s)return D.reverse(),void(O&&O.reverse());for(var it,dt,ht,Nt,zt=D.length,J=0;J<zt;){if(st[J]>=x){for(ht=J+1;ht<zt&&st[ht]>=x;)ht++;for(Nt=J,dt=ht-1;Nt<dt;Nt++,dt--)it=D[Nt],D[Nt]=D[dt],D[dt]=it,O&&(it=O[Nt],O[Nt]=O[dt],O[dt]=it);J=ht}J++}}},z=function(x,D,O){var st=x.split(""),At={hiLevel:nt};return O||(O=[]),U(st,O,At),(function(it,dt,ht){if(ht.hiLevel!==0&&v)for(var Nt,zt=0;zt<it.length;zt++)dt[zt]===1&&(Nt=P.indexOf(it[zt]))>=0&&(it[zt]=P[Nt+1])})(st,O,At),I(2,st,D,O,At),I(1,st,D,O,At),st.join("")};return this.__bidiEngine__.doBidiReorder=function(x,D,O){if((function(At,it){if(it)for(var dt=0;dt<At.length;dt++)it[dt]=dt;h===void 0&&(h=vt(At)),d===void 0&&(d=vt(At))})(x,D),u||!f||d)if(u&&f&&h^d)nt=h?1:0,x=G(x,D,O);else if(!u&&f&&d)nt=h?1:0,x=z(x,D,O),x=G(x,D);else if(!u||h||f||d){if(u&&!f&&h^d)x=G(x,D),h?(nt=0,x=z(x,D,O)):(nt=1,x=z(x,D,O),x=G(x,D));else if(u&&h&&!f&&d)nt=1,x=z(x,D,O),x=G(x,D);else if(!u&&!f&&h^d){var st=v;h?(nt=1,x=z(x,D,O),nt=0,v=!1,x=z(x,D,O),v=st):(nt=0,x=z(x,D,O),x=G(x,D),nt=1,v=!1,x=z(x,D,O),v=st,x=G(x,D))}}else nt=0,x=z(x,D,O);else nt=h?1:0,x=z(x,D,O);return x},this.__bidiEngine__.setOptions=function(x){x&&(u=x.isInputVisual,f=x.isOutputVisual,h=x.isInputRtl,d=x.isOutputRtl,v=x.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var h=0;for(u=[],h=0;h<s.length;h+=1)Object.prototype.toString.call(s[h])==="[object Array]"?u.push([e.doBidiReorder(s[h][0]),s[h][1],s[h][2]]):u.push([e.doBidiReorder(s[h])]);r.text=u}else r.text=e.doBidiReorder(s);e.setOptions({isInputVisual:!0})}])})(Ee),Ee.API.TTFFont=(function(){function n(t){var e;if(this.rawData=t,e=this.contents=new zu(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new $D(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new MD(this.contents),this.head=new VD(this),this.name=new zD(this),this.cmap=new eE(this),this.toUnicode={},this.hhea=new BD(this),this.maxp=new HD(this),this.hmtx=new GD(this),this.post=new FD(this),this.os2=new jD(this),this.loca=new QD(this),this.glyf=new YD(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,h,f,d;for(d=[],u=0,h=(f=this.bbox).length;u<h;u++)t=f[u],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(e=s>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,r){var s,o,u,h;for(u=0,o=0,h=(t=""+t).length;0<=h?o<h:o>h;o=0<=h?++o:--o)s=t.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/e)||0;return u*(e/1e3)},n.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},n})();var vo,zu=(function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(t){var e,r,s;for(s=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)s.push(this.writeByte(t.charCodeAt(e)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,r,s,o,u,h,f;return t=this.readByte(),e=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),h=this.readByte(),f=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^u)+256*(255^h)+(255^f)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*s+16777216*o+65536*u+256*h+f},n.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},n.prototype.write=function(t){var e,r,s,o;for(o=[],r=0,s=t.length;r<s;r++)e=t[r],o.push(this.writeByte(e));return o},n})(),MD=(function(){var n;function t(e){var r,s,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,s,o,u,h,f,d,v,A,T,b,M,j;for(j in b=Object.keys(e).length,f=Math.log(2),A=16*Math.floor(Math.log(b)/f),u=Math.floor(A/f),v=16*b-A,(s=new zu).writeInt(this.scalarType),s.writeShort(b),s.writeShort(A),s.writeShort(u),s.writeShort(v),o=16*b,d=s.pos+o,h=null,M=[],e)for(T=e[j],s.writeString(j),s.writeInt(n(T)),s.writeInt(d),s.writeInt(T.length),M=M.concat(T),j==="head"&&(h=d),d+=T.length;d%4;)M.push(0),d++;return s.write(M),r=2981146554-n(s.data),s.pos=h+8,s.writeUInt32(r),s.data},n=function(e){var r,s,o,u;for(e=nE.call(e);e.length%4;)e.push(0);for(o=new zu(e),s=0,r=0,u=e.length;r<u;r=r+=4)s+=o.readUInt32();return 4294967295&s},t})(),UD={}.hasOwnProperty,sl=function(n,t){for(var e in t)UD.call(t,e)&&(n[e]=t[e]);function r(){this.constructor=n}return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};vo=(function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var VD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return sl(n,vo),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var e;return(e=new zu).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},n})(),mw=(function(){function n(t,e){var r,s,o,u,h,f,d,v,A,T,b,M,j,P,k,$,nt;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),A=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=t.readByte();break;case 4:for(b=t.readUInt16(),T=b/2,t.pos+=6,o=(function(){var rt,vt;for(vt=[],f=rt=0;0<=T?rt<T:rt>T;f=0<=T?++rt:--rt)vt.push(t.readUInt16());return vt})(),t.pos+=2,j=(function(){var rt,vt;for(vt=[],f=rt=0;0<=T?rt<T:rt>T;f=0<=T?++rt:--rt)vt.push(t.readUInt16());return vt})(),d=(function(){var rt,vt;for(vt=[],f=rt=0;0<=T?rt<T:rt>T;f=0<=T?++rt:--rt)vt.push(t.readUInt16());return vt})(),v=(function(){var rt,vt;for(vt=[],f=rt=0;0<=T?rt<T:rt>T;f=0<=T?++rt:--rt)vt.push(t.readUInt16());return vt})(),s=(this.length-t.pos+this.offset)/2,h=(function(){var rt,vt;for(vt=[],f=rt=0;0<=s?rt<s:rt>s;f=0<=s?++rt:--rt)vt.push(t.readUInt16());return vt})(),f=k=0,nt=o.length;k<nt;f=++k)for(P=o[f],r=$=M=j[f];M<=P?$<=P:$>=P;r=M<=P?++$:--$)v[f]===0?u=r+d[f]:(u=h[v[f]/2+(r-M)-(T-f)]||0)!==0&&(u+=d[f]),this.codeMap[r]=65535&u}t.pos=A}return n.encode=function(t,e){var r,s,o,u,h,f,d,v,A,T,b,M,j,P,k,$,nt,rt,vt,Dt,G,U,I,z,x,D,O,st,At,it,dt,ht,Nt,zt,J,L,Y,X,ot,ct,gt,It,St,jt,Xt,ne;switch(st=new zu,u=Object.keys(t).sort(function(re,Ot){return re-Ot}),e){case"macroman":for(j=0,P=(function(){var re=[];for(M=0;M<256;++M)re.push(0);return re})(),$={0:0},o={},At=0,Nt=u.length;At<Nt;At++)$[St=t[s=u[At]]]==null&&($[St]=++j),o[s]={old:t[s],new:$[t[s]]},P[s]=$[t[s]];return st.writeUInt16(1),st.writeUInt16(0),st.writeUInt32(12),st.writeUInt16(0),st.writeUInt16(262),st.writeUInt16(0),st.write(P),{charMap:o,subtable:st.data,maxGlyphID:j+1};case"unicode":for(D=[],A=[],nt=0,$={},r={},k=d=null,it=0,zt=u.length;it<zt;it++)$[vt=t[s=u[it]]]==null&&($[vt]=++nt),r[s]={old:vt,new:$[vt]},h=$[vt]-s,k!=null&&h===d||(k&&A.push(k),D.push(s),d=h),k=s;for(k&&A.push(k),A.push(65535),D.push(65535),z=2*(I=D.length),U=2*Math.pow(Math.log(I)/Math.LN2,2),T=Math.log(U/2)/Math.LN2,G=2*I-U,f=[],Dt=[],b=[],M=dt=0,J=D.length;dt<J;M=++dt){if(x=D[M],v=A[M],x===65535){f.push(0),Dt.push(0);break}if(x-(O=r[x].new)>=32768)for(f.push(0),Dt.push(2*(b.length+I-M)),s=ht=x;x<=v?ht<=v:ht>=v;s=x<=v?++ht:--ht)b.push(r[s].new);else f.push(O-x),Dt.push(0)}for(st.writeUInt16(3),st.writeUInt16(1),st.writeUInt32(12),st.writeUInt16(4),st.writeUInt16(16+8*I+2*b.length),st.writeUInt16(0),st.writeUInt16(z),st.writeUInt16(U),st.writeUInt16(T),st.writeUInt16(G),gt=0,L=A.length;gt<L;gt++)s=A[gt],st.writeUInt16(s);for(st.writeUInt16(0),It=0,Y=D.length;It<Y;It++)s=D[It],st.writeUInt16(s);for(jt=0,X=f.length;jt<X;jt++)h=f[jt],st.writeUInt16(h);for(Xt=0,ot=Dt.length;Xt<ot;Xt++)rt=Dt[Xt],st.writeUInt16(rt);for(ne=0,ct=b.length;ne<ct;ne++)j=b[ne],st.writeUInt16(j);return{charMap:r,subtable:st.data,maxGlyphID:nt+1}}},n})(),eE=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return sl(n,vo),n.prototype.tag="cmap",n.prototype.parse=function(t){var e,r,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)e=new mw(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},n.encode=function(t,e){var r,s;return e==null&&(e="macroman"),r=mw.encode(t,e),(s=new zu).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},n})(),BD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return sl(n,vo),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n})(),jD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return sl(n,vo),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,r;for(r=[],e=0;e<10;++e)r.push(t.readByte());return r})(),this.charRange=(function(){var e,r;for(r=[],e=0;e<4;++e)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,r;for(r=[],e=0;e<2;e=++e)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n})(),FD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return sl(n,vo),n.prototype.tag="post",n.prototype.parse=function(t){var e,r,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)e=t.readByte(),s.push(this.names.push(t.readString(e)));return s;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var u,h,f;for(f=[],o=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;o=0<=h?++u:--u)f.push(t.readUInt32());return f}).call(this)}},n})(),qD=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},zD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return sl(n,vo),n.prototype.tag="name",n.prototype.parse=function(t){var e,r,s,o,u,h,f,d,v,A,T;for(t.pos=this.offset,t.readShort(),e=t.readShort(),h=t.readShort(),r=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+h+t.readShort()});for(f={},o=v=0,A=r.length;v<A;o=++v)s=r[o],t.pos=s.offset,d=t.readString(s.length),u=new qD(d,s),f[T=s.nameID]==null&&(f[T]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),HD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return sl(n,vo),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n})(),GD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return sl(n,vo),n.prototype.tag="hmtx",n.prototype.parse=function(t){var e,r,s,o,u,h,f;for(t.pos=this.offset,this.metrics=[],e=0,h=this.file.hhea.numberOfMetrics;0<=h?e<h:e>h;e=0<=h?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,v;for(v=[],e=d=0;0<=s?d<s:d>s;e=0<=s?++d:--d)v.push(t.readInt16());return v})(),this.widths=(function(){var d,v,A,T;for(T=[],d=0,v=(A=this.metrics).length;d<v;d++)o=A[d],T.push(o.advance);return T}).call(this),r=this.widths[this.widths.length-1],f=[],e=u=0;0<=s?u<s:u>s;e=0<=s?++u:--u)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n})(),nE=[].slice,YD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return sl(n,vo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var e,r,s,o,u,h,f,d,v,A;return t in this.cache?this.cache[t]:(o=this.file.loca,e=this.file.contents,r=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+r,u=(h=new zu(e.read(s))).readShort(),d=h.readShort(),A=h.readShort(),f=h.readShort(),v=h.readShort(),this.cache[t]=u===-1?new KD(h,d,A,f,v):new WD(h,u,d,A,f,v),this.cache[t]))},n.prototype.encode=function(t,e,r){var s,o,u,h,f;for(u=[],o=[],h=0,f=e.length;h<f;h++)s=t[e[h]],o.push(u.length),s&&(u=u.concat(s.encode(r)));return o.push(u.length),{table:u,offsets:o}},n})(),WD=(function(){function n(t,e,r,s,o,u){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),KD=(function(){function n(t,e,r,s,o){var u,h;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;h=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&h;)u.pos+=1&h?4:2,128&h?u.pos+=8:64&h?u.pos+=4:8&h&&(u.pos+=2)}return n.prototype.encode=function(){var t,e,r;for(e=new zu(nE.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},n})(),QD=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return sl(n,vo),n.prototype.tag="loca",n.prototype.parse=function(t){var e,r;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(t.readUInt32());return o}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,e){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<r.length;++u)if(r[u]=s,o<e.length&&e[o]==u){++o,r[u]=s;var h=this.offsets[u],f=this.offsets[u+1]-h;f>0&&(s+=f)}for(var d=new Array(4*r.length),v=0;v<r.length;++v)d[4*v+3]=255&r[v],d[4*v+2]=(65280&r[v])>>8,d[4*v+1]=(16711680&r[v])>>16,d[4*v]=(4278190080&r[v])>>24;return d},n})(),$D=(function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,s,o;for(e in s=this.font.cmap.tables[0].codeMap,t={},o=this.subset)r=o[e],t[e]=s[r];return t},n.prototype.glyphsFor=function(t){var e,r,s,o,u,h,f;for(s={},u=0,h=t.length;u<h;u++)s[o=t[u]]=this.font.glyf.glyphFor(o);for(o in e=[],s)(r=s[o])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(o in f=this.glyphsFor(e))r=f[o],s[o]=r;return s},n.prototype.encode=function(t,e){var r,s,o,u,h,f,d,v,A,T,b,M,j,P,k;for(s in r=eE.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(t),b={0:0},k=r.charMap)b[(f=k[s]).old]=f.new;for(M in T=r.maxGlyphID,u)M in b||(b[M]=T++);return v=(function($){var nt,rt;for(nt in rt={},$)rt[$[nt]]=nt;return rt})(b),A=Object.keys(v).sort(function($,nt){return $-nt}),j=(function(){var $,nt,rt;for(rt=[],$=0,nt=A.length;$<nt;$++)h=A[$],rt.push(v[h]);return rt})(),o=this.font.glyf.encode(u,j,b),d=this.font.loca.encode(o.offsets,j),P={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(P["OS/2"]=this.font.os2.raw()),this.font.directory.encode(P)},n})();Ee.API.PDFObject=(function(){var n;function t(){}return n=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,s,o,u;if(Array.isArray(e))return"["+(function(){var h,f,d;for(d=[],h=0,f=e.length;h<f;h++)r=e[h],d.push(t.convert(r));return d})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(s in o=["<<"],e)u=e[s],o.push("/"+s+" "+t.convert(u));return o.push(">>"),o.join(`
`)}return""+e},t})();const cc=20,js={primary:[37,99,235],text:[30,41,59],muted:[100,116,139],surfaceAlt:[245,247,250],border:[226,232,240]};function gw(n,t,e,r){const s=n.splitTextToSize(t||"",e);return Math.max(r,s.length*r)}function yw(n,t,e,r,s,o,u,h="helvetica",f="normal",d=11){n.setFont(h,f),n.setFontSize(d),u&&n.setTextColor(...u);const v=n.splitTextToSize(t||"",s);return v.forEach((A,T)=>n.text(A,e,r+T*o)),r+v.length*o}function XD(n){const t=new Ee("p","mm","a4"),e=t.internal.pageSize.getWidth(),r=t.internal.pageSize.getHeight(),s=e-cc*2;t.setFont("helvetica","bold"),t.setFontSize(18),t.setTextColor(...js.text);const o=28;t.text("RDV Edouard Lambert en Accompagnement",e/2,o,{align:"center"}),t.setDrawColor(...js.primary),t.setLineWidth(1),t.line(e/2-30,o+3,e/2+30,o+3);const u=cc,h=o+10,f=5,d=6,v=[`Client: ${n.clientName}`,`Date/Heure: ${n.date} ${n.time}`,`Lieu: ${n.location}`,`Conseiller: ${n.accompagnant}`];let A=f*2+v.length*d;t.setDrawColor(...js.border),t.setFillColor(...js.surfaceAlt),t.roundedRect(u,h,s,A,3,3,"FD");let T=h+f+4;t.setFont("helvetica","normal"),t.setFontSize(12),t.setTextColor(...js.text),v.forEach(st=>{t.text(st,u+f,T),T+=d});const b=h+A+10,M=6,j=12,P=11,$=["Qu'est-ce qui a t ncessaire dans la prparation au(x) rendez-vous auxquel(s) vous avez assist ?","Qu'est-ce qui a t important dans le (les) 'entretien(s) de vente auxquel(s) vous avez particip ?","Quel(s) lments ont fait basculer la / les vente(s) ?","Quel tait, selon vous, lobjectif du client ? / par quelle(s) solution(s) tait-il intress et pourquoi"].map((st,At)=>{const it=`Question ${At+1} : ${st}`,dt=`Rponse : ${(n.responses&&n.responses[At]||"").trim()}`,ht=gw(t,it,s,M),Nt=gw(t,dt,s,M),zt=ht+2+Nt+6;return{qText:it,aText:dt,qH:ht,aH:Nt,blockH:zt}}),nt=b,vt=r-cc-nt,Dt=$.reduce((st,At)=>st+At.blockH,0),G=$.length+1,U=4,I=Math.max(0,vt-Dt),z=U+I/G;let x=b+z;$.forEach(st=>{t.setTextColor(...js.primary),x=yw(t,st.qText,cc,x,s,M,js.primary,"helvetica","bold",j),x+=2;const At=st.aH+4;t.setDrawColor(...js.border),t.setFillColor(...js.surfaceAlt),t.roundedRect(cc,x,s,At,2,2,"FD"),x+=3,t.setTextColor(...js.text),x=yw(t,st.aText,cc+3,x,s-6,M,js.text,"helvetica","normal",P),x+=z}),t.setFont("helvetica","normal"),t.setFontSize(9),t.setTextColor(...js.muted),t.text("Document gnr automatiquement",e-cc,r-8,{align:"right"});const O=`RDV_${String(n.clientName||"Client").replace(/[^a-z0-9_-]+/gi,"_")}_${n.date}.pdf`;t.save(O)}const rE=6048e5,JD=6e4,ZD=36e5,tk=1e3,vw=Symbol.for("constructDateFrom");function Gi(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&vw in n?n[vw](t):n instanceof Date?new n.constructor(t):new Date(t)}function Or(n,t){return Gi(t||n,n)}function iE(n,t,e){const r=Or(n,e?.in);return isNaN(t)?Gi(e?.in||n,NaN):(t&&r.setDate(r.getDate()+t),r)}let ek={};function Cd(){return ek}function Wl(n,t){const e=Cd(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,s=Or(n,t?.in),o=s.getDay(),u=(o<r?7:0)+o-r;return s.setDate(s.getDate()-u),s.setHours(0,0,0,0),s}function jh(n,t){return Wl(n,{...t,weekStartsOn:1})}function nk(n,t){const e=Or(n,t?.in),r=e.getFullYear(),s=Gi(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=jh(s),u=Gi(e,0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);const h=jh(u);return e.getTime()>=o.getTime()?r+1:e.getTime()>=h.getTime()?r:r-1}function aE(n){const t=Or(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function rk(n,...t){const e=Gi.bind(null,t.find(r=>typeof r=="object"));return t.map(e)}function _w(n,t){const e=Or(n,t?.in);return e.setHours(0,0,0,0),e}function ik(n,t){const e=nk(n,t),r=Gi(n,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),jh(r)}function ak(n,t,e){const[r,s]=rk(e?.in,n,t);return+_w(r)==+_w(s)}function sk(n,t){const e=Or(n,t?.in),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function ok(n,t){const e=Or(n,t?.in);return e.setDate(1),e.setHours(0,0,0,0),e}function lk(n,t){const e=t?.weekStartsOn,r=Or(n,t?.in),s=r.getDay(),o=(s<e?-7:0)+6-(s-e);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r}const uk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ck=(n,t,e)=>{let r;const s=uk[n];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+r:r+" ago":r};function Xg(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const hk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pk={date:Xg({formats:hk,defaultWidth:"full"}),time:Xg({formats:fk,defaultWidth:"full"}),dateTime:Xg({formats:dk,defaultWidth:"full"})},mk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gk=(n,t,e,r)=>mk[n];function Bf(n){return(t,e)=>{const r=e?.context?String(e.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,h=e?.width?String(e.width):u;s=n.formattingValues[h]||n.formattingValues[u]}else{const u=n.defaultWidth,h=e?.width?String(e.width):n.defaultWidth;s=n.values[h]||n.values[u]}const o=n.argumentCallback?n.argumentCallback(t):t;return s[o]}}const yk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_k={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ak={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ek=(n,t)=>{const e=Number(n),r=e%100;if(r>20||r<10)switch(r%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},Sk={ordinalNumber:Ek,era:Bf({values:yk,defaultWidth:"wide"}),quarter:Bf({values:vk,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Bf({values:_k,defaultWidth:"wide"}),day:Bf({values:bk,defaultWidth:"wide"}),dayPeriod:Bf({values:wk,defaultWidth:"wide",formattingValues:Ak,defaultFormattingWidth:"wide"})};function jf(n){return(t,e={})=>{const r=e.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=t.match(s);if(!o)return null;const u=o[0],h=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(h)?Nk(h,A=>A.test(u)):Tk(h,A=>A.test(u));let d;d=n.valueCallback?n.valueCallback(f):f,d=e.valueCallback?e.valueCallback(d):d;const v=t.slice(u.length);return{value:d,rest:v}}}function Tk(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function Nk(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function xk(n){return(t,e={})=>{const r=t.match(n.matchPattern);if(!r)return null;const s=r[0],o=t.match(n.parsePattern);if(!o)return null;let u=n.valueCallback?n.valueCallback(o[0]):o[0];u=e.valueCallback?e.valueCallback(u):u;const h=t.slice(s.length);return{value:u,rest:h}}}const Ck=/^(\d+)(th|st|nd|rd)?/i,Rk=/\d+/i,Ik={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Lk={any:[/^b/i,/^(a|c)/i]},Dk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kk={any:[/1/i,/2/i,/3/i,/4/i]},Ok={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Pk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Mk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Uk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Bk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jk={ordinalNumber:xk({matchPattern:Ck,parsePattern:Rk,valueCallback:n=>parseInt(n,10)}),era:jf({matchPatterns:Ik,defaultMatchWidth:"wide",parsePatterns:Lk,defaultParseWidth:"any"}),quarter:jf({matchPatterns:Dk,defaultMatchWidth:"wide",parsePatterns:kk,defaultParseWidth:"any",valueCallback:n=>n+1}),month:jf({matchPatterns:Ok,defaultMatchWidth:"wide",parsePatterns:Pk,defaultParseWidth:"any"}),day:jf({matchPatterns:Mk,defaultMatchWidth:"wide",parsePatterns:Uk,defaultParseWidth:"any"}),dayPeriod:jf({matchPatterns:Vk,defaultMatchWidth:"any",parsePatterns:Bk,defaultParseWidth:"any"})},Fk={code:"en-US",formatDistance:ck,formatLong:pk,formatRelative:gk,localize:Sk,match:jk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qk(n,t){const e=Or(n,t?.in),r=+jh(e)-+ik(e);return Math.round(r/rE)+1}function sE(n,t){const e=Or(n,t?.in),r=e.getFullYear(),s=Cd(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,u=Gi(t?.in||n,0);u.setFullYear(r+1,0,o),u.setHours(0,0,0,0);const h=Wl(u,t),f=Gi(t?.in||n,0);f.setFullYear(r,0,o),f.setHours(0,0,0,0);const d=Wl(f,t);return+e>=+h?r+1:+e>=+d?r:r-1}function zk(n,t){const e=Cd(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,s=sE(n,t),o=Gi(t?.in||n,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),Wl(o,t)}function Hk(n,t){const e=Or(n,t?.in),r=+Wl(e,t)-+zk(e,t);return Math.round(r/rE)+1}const bw=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},oE=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Gk=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],r=e[1],s=e[2];if(!s)return bw(n,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",bw(r,t)).replace("{{time}}",oE(s,t))},ww={p:oE,P:Gk},Yk=/^D+$/,Wk=/^Y+$/,Kk=["D","DD","YY","YYYY"];function Qk(n){return Yk.test(n)}function $k(n){return Wk.test(n)}function Aw(n,t,e){const r=Xk(n,t,e);if(console.warn(r),Kk.includes(n))throw new RangeError(r)}function Xk(n,t,e){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${r} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function Jk(){return Object.assign({},Cd())}function Zk(n,t){const e=Or(n,t?.in).getDay();return e===0?7:e}function tO(n,t){return+Or(n)>+Or(t)}function eO(n,t){const e=nO(t)?new t(0):Gi(t,0);return e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),e.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e}function nO(n){return typeof n=="function"&&n.prototype?.constructor===n}const rO=10;class lE{subPriority=0;validate(t,e){return!0}}class iO extends lE{constructor(t,e,r,s,o){super(),this.value=t,this.validateValue=e,this.setValue=r,this.priority=s,o&&(this.subPriority=o)}validate(t,e){return this.validateValue(t,this.value,e)}set(t,e,r){return this.setValue(t,e,this.value,r)}}class aO extends lE{priority=rO;subPriority=-1;constructor(t,e){super(),this.context=t||(r=>Gi(e,r))}set(t,e){return e.timestampIsSet?t:Gi(t,eO(t,this.context))}}class Fn{run(t,e,r,s){const o=this.parse(t,e,r,s);return o?{setter:new iO(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,e,r){return!0}}class sO extends Fn{priority=140;parse(t,e,r){switch(e){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});case"GGGG":default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}}set(t,e,r){return e.era=r,t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const ni={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Yo={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ri(n,t){return n&&{value:t(n.value),rest:n.rest}}function Dr(n,t){const e=t.match(n);return e?{value:parseInt(e[0],10),rest:t.slice(e[0].length)}:null}function Wo(n,t){const e=t.match(n);if(!e)return null;if(e[0]==="Z")return{value:0,rest:t.slice(1)};const r=e[1]==="+"?1:-1,s=e[2]?parseInt(e[2],10):0,o=e[3]?parseInt(e[3],10):0,u=e[5]?parseInt(e[5],10):0;return{value:r*(s*ZD+o*JD+u*tk),rest:t.slice(e[0].length)}}function uE(n){return Dr(ni.anyDigitsSigned,n)}function Yr(n,t){switch(n){case 1:return Dr(ni.singleDigit,t);case 2:return Dr(ni.twoDigits,t);case 3:return Dr(ni.threeDigits,t);case 4:return Dr(ni.fourDigits,t);default:return Dr(new RegExp("^\\d{1,"+n+"}"),t)}}function Nm(n,t){switch(n){case 1:return Dr(ni.singleDigitSigned,t);case 2:return Dr(ni.twoDigitsSigned,t);case 3:return Dr(ni.threeDigitsSigned,t);case 4:return Dr(ni.fourDigitsSigned,t);default:return Dr(new RegExp("^-?\\d{1,"+n+"}"),t)}}function Q2(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function cE(n,t){const e=t>0,r=e?t:1-t;let s;if(r<=50)s=n||100;else{const o=r+50,u=Math.trunc(o/100)*100,h=n>=o%100;s=n+u-(h?100:0)}return e?s:1-s}function hE(n){return n%400===0||n%4===0&&n%100!==0}class oO extends Fn{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,e,r){const s=o=>({year:o,isTwoDigitYear:e==="yy"});switch(e){case"y":return ri(Yr(4,t),s);case"yo":return ri(r.ordinalNumber(t,{unit:"year"}),s);default:return ri(Yr(e.length,t),s)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,r){const s=t.getFullYear();if(r.isTwoDigitYear){const u=cE(r.year,s);return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}const o=!("era"in e)||e.era===1?r.year:1-r.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class lO extends Fn{priority=130;parse(t,e,r){const s=o=>({year:o,isTwoDigitYear:e==="YY"});switch(e){case"Y":return ri(Yr(4,t),s);case"Yo":return ri(r.ordinalNumber(t,{unit:"year"}),s);default:return ri(Yr(e.length,t),s)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,r,s){const o=sE(t,s);if(r.isTwoDigitYear){const h=cE(r.year,o);return t.setFullYear(h,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Wl(t,s)}const u=!("era"in e)||e.era===1?r.year:1-r.year;return t.setFullYear(u,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Wl(t,s)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class uO extends Fn{priority=130;parse(t,e){return Nm(e==="R"?4:e.length,t)}set(t,e,r){const s=Gi(t,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),jh(s)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class cO extends Fn{priority=130;parse(t,e){return Nm(e==="u"?4:e.length,t)}set(t,e,r){return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class hO extends Fn{priority=120;parse(t,e,r){switch(e){case"Q":case"QQ":return Yr(e.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=1&&e<=4}set(t,e,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class fO extends Fn{priority=120;parse(t,e,r){switch(e){case"q":case"qq":return Yr(e.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=1&&e<=4}set(t,e,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class dO extends Fn{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,e,r){const s=o=>o-1;switch(e){case"M":return ri(Dr(ni.month,t),s);case"MM":return ri(Yr(2,t),s);case"Mo":return ri(r.ordinalNumber(t,{unit:"month"}),s);case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=11}set(t,e,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}class pO extends Fn{priority=110;parse(t,e,r){const s=o=>o-1;switch(e){case"L":return ri(Dr(ni.month,t),s);case"LL":return ri(Yr(2,t),s);case"Lo":return ri(r.ordinalNumber(t,{unit:"month"}),s);case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=11}set(t,e,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function mO(n,t,e){const r=Or(n,e?.in),s=Hk(r,e)-t;return r.setDate(r.getDate()-s*7),Or(r,e?.in)}class gO extends Fn{priority=100;parse(t,e,r){switch(e){case"w":return Dr(ni.week,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return Yr(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,r,s){return Wl(mO(t,r,s),s)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function yO(n,t,e){const r=Or(n,e?.in),s=qk(r,e)-t;return r.setDate(r.getDate()-s*7),r}class vO extends Fn{priority=100;parse(t,e,r){switch(e){case"I":return Dr(ni.week,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return Yr(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,r){return jh(yO(t,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const _O=[31,28,31,30,31,30,31,31,30,31,30,31],bO=[31,29,31,30,31,30,31,31,30,31,30,31];class wO extends Fn{priority=90;subPriority=1;parse(t,e,r){switch(e){case"d":return Dr(ni.date,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return Yr(e.length,t)}}validate(t,e){const r=t.getFullYear(),s=hE(r),o=t.getMonth();return s?e>=1&&e<=bO[o]:e>=1&&e<=_O[o]}set(t,e,r){return t.setDate(r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class AO extends Fn{priority=90;subpriority=1;parse(t,e,r){switch(e){case"D":case"DD":return Dr(ni.dayOfYear,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return Yr(e.length,t)}}validate(t,e){const r=t.getFullYear();return hE(r)?e>=1&&e<=366:e>=1&&e<=365}set(t,e,r){return t.setMonth(0,r),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function $2(n,t,e){const r=Cd(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Or(n,e?.in),u=o.getDay(),f=(t%7+7)%7,d=7-s,v=t<0||t>6?t-(u+d)%7:(f+d)%7-(u+d)%7;return iE(o,v,e)}class EO extends Fn{priority=90;parse(t,e,r){switch(e){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,r,s){return t=$2(t,r,s),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class SO extends Fn{priority=90;parse(t,e,r,s){const o=u=>{const h=Math.floor((u-1)/7)*7;return(u+s.weekStartsOn+6)%7+h};switch(e){case"e":case"ee":return ri(Yr(e.length,t),o);case"eo":return ri(r.ordinalNumber(t,{unit:"day"}),o);case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,r,s){return t=$2(t,r,s),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class TO extends Fn{priority=90;parse(t,e,r,s){const o=u=>{const h=Math.floor((u-1)/7)*7;return(u+s.weekStartsOn+6)%7+h};switch(e){case"c":case"cc":return ri(Yr(e.length,t),o);case"co":return ri(r.ordinalNumber(t,{unit:"day"}),o);case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=6}set(t,e,r,s){return t=$2(t,r,s),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function NO(n,t,e){const r=Or(n,e?.in),s=Zk(r,e),o=t-s;return iE(r,o,e)}class xO extends Fn{priority=90;parse(t,e,r){const s=o=>o===0?7:o;switch(e){case"i":case"ii":return Yr(e.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return ri(r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),s);case"iiiii":return ri(r.day(t,{width:"narrow",context:"formatting"}),s);case"iiiiii":return ri(r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),s);case"iiii":default:return ri(r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),s)}}validate(t,e){return e>=1&&e<=7}set(t,e,r){return t=NO(t,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class CO extends Fn{priority=80;parse(t,e,r){switch(e){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,r){return t.setHours(Q2(r),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class RO extends Fn{priority=80;parse(t,e,r){switch(e){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,r){return t.setHours(Q2(r),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class IO extends Fn{priority=80;parse(t,e,r){switch(e){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,r){return t.setHours(Q2(r),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class LO extends Fn{priority=70;parse(t,e,r){switch(e){case"h":return Dr(ni.hour12h,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return Yr(e.length,t)}}validate(t,e){return e>=1&&e<=12}set(t,e,r){const s=t.getHours()>=12;return s&&r<12?t.setHours(r+12,0,0,0):!s&&r===12?t.setHours(0,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class DO extends Fn{priority=70;parse(t,e,r){switch(e){case"H":return Dr(ni.hour23h,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return Yr(e.length,t)}}validate(t,e){return e>=0&&e<=23}set(t,e,r){return t.setHours(r,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class kO extends Fn{priority=70;parse(t,e,r){switch(e){case"K":return Dr(ni.hour11h,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return Yr(e.length,t)}}validate(t,e){return e>=0&&e<=11}set(t,e,r){return t.getHours()>=12&&r<12?t.setHours(r+12,0,0,0):t.setHours(r,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class OO extends Fn{priority=70;parse(t,e,r){switch(e){case"k":return Dr(ni.hour24h,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return Yr(e.length,t)}}validate(t,e){return e>=1&&e<=24}set(t,e,r){const s=r<=24?r%24:r;return t.setHours(s,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class PO extends Fn{priority=60;parse(t,e,r){switch(e){case"m":return Dr(ni.minute,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return Yr(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,r){return t.setMinutes(r,0,0),t}incompatibleTokens=["t","T"]}class MO extends Fn{priority=50;parse(t,e,r){switch(e){case"s":return Dr(ni.second,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return Yr(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,r){return t.setSeconds(r,0),t}incompatibleTokens=["t","T"]}class UO extends Fn{priority=30;parse(t,e){const r=s=>Math.trunc(s*Math.pow(10,-e.length+3));return ri(Yr(e.length,t),r)}set(t,e,r){return t.setMilliseconds(r),t}incompatibleTokens=["t","T"]}class VO extends Fn{priority=10;parse(t,e){switch(e){case"X":return Wo(Yo.basicOptionalMinutes,t);case"XX":return Wo(Yo.basic,t);case"XXXX":return Wo(Yo.basicOptionalSeconds,t);case"XXXXX":return Wo(Yo.extendedOptionalSeconds,t);case"XXX":default:return Wo(Yo.extended,t)}}set(t,e,r){return e.timestampIsSet?t:Gi(t,t.getTime()-aE(t)-r)}incompatibleTokens=["t","T","x"]}class BO extends Fn{priority=10;parse(t,e){switch(e){case"x":return Wo(Yo.basicOptionalMinutes,t);case"xx":return Wo(Yo.basic,t);case"xxxx":return Wo(Yo.basicOptionalSeconds,t);case"xxxxx":return Wo(Yo.extendedOptionalSeconds,t);case"xxx":default:return Wo(Yo.extended,t)}}set(t,e,r){return e.timestampIsSet?t:Gi(t,t.getTime()-aE(t)-r)}incompatibleTokens=["t","T","X"]}class jO extends Fn{priority=40;parse(t){return uE(t)}set(t,e,r){return[Gi(t,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class FO extends Fn{priority=20;parse(t){return uE(t)}set(t,e,r){return[Gi(t,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const qO={G:new sO,y:new oO,Y:new lO,R:new uO,u:new cO,Q:new hO,q:new fO,M:new dO,L:new pO,w:new gO,I:new vO,d:new wO,D:new AO,E:new EO,e:new SO,c:new TO,i:new xO,a:new CO,b:new RO,B:new IO,h:new LO,H:new DO,K:new kO,k:new OO,m:new PO,s:new MO,S:new UO,X:new VO,x:new BO,t:new jO,T:new FO},zO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GO=/^'([^]*?)'?$/,YO=/''/g,WO=/\S/,KO=/[a-zA-Z]/;function Gf(n,t,e,r){const s=()=>Gi(e,NaN),o=Jk(),u=o.locale??Fk,h=o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,f=o.weekStartsOn??o.locale?.options?.weekStartsOn??0,d={firstWeekContainsDate:h,weekStartsOn:f,locale:u},v=[new aO(r?.in,e)],A=t.match(HO).map(P=>{const k=P[0];if(k in ww){const $=ww[k];return $(P,u.formatLong)}return P}).join("").match(zO),T=[];for(let P of A){$k(P)&&Aw(P,t,n),Qk(P)&&Aw(P,t,n);const k=P[0],$=qO[k];if($){const{incompatibleTokens:nt}=$;if(Array.isArray(nt)){const vt=T.find(Dt=>nt.includes(Dt.token)||Dt.token===k);if(vt)throw new RangeError(`The format string mustn't contain \`${vt.fullToken}\` and \`${P}\` at the same time`)}else if($.incompatibleTokens==="*"&&T.length>0)throw new RangeError(`The format string mustn't contain \`${P}\` and any other token at the same time`);T.push({token:k,fullToken:P});const rt=$.run(n,P,u.match,d);if(!rt)return s();v.push(rt.setter),n=rt.rest}else{if(k.match(KO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");if(P==="''"?P="'":k==="'"&&(P=QO(P)),n.indexOf(P)===0)n=n.slice(P.length);else return s()}}if(n.length>0&&WO.test(n))return s();const b=v.map(P=>P.priority).sort((P,k)=>k-P).filter((P,k,$)=>$.indexOf(P)===k).map(P=>v.filter(k=>k.priority===P).sort((k,$)=>$.subPriority-k.subPriority)).map(P=>P[0]);let M=Or(e,r?.in);if(isNaN(+M))return s();const j={};for(const P of b){if(!P.validate(M,d))return s();const k=P.set(M,j,d);Array.isArray(k)?(M=k[0],Object.assign(j,k[1])):M=k}return M}function QO(n){return n.match(GO)[1].replace(YO,"'")}function Ew(n,t,e){const r=+Or(n,e?.in),[s,o]=[+Or(t.start,e?.in),+Or(t.end,e?.in)].sort((u,h)=>u-h);return r>=s&&r<=o}function $O(n,t){const e=Gf(`${n} ${t}`,"yyyy-MM-dd HH:mm",new Date),r=new Date;return ak(e,r)?"today":tO(e,r)?"future":"past"}function XO({rdv:n,onEdit:t,onDelete:e,onExport:r}){const s=$O(n.date,n.time),o=s==="today"?"Aujourd'hui":s==="future"?" venir":"Pass";return Ht.jsxs("div",{className:"card",children:[Ht.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",gap:12},children:[Ht.jsxs("div",{children:[Ht.jsx("h3",{style:{margin:"0 0 6px 0"},children:n.clientName}),Ht.jsxs("div",{style:{color:"var(--text-light)",fontSize:14},children:[Ht.jsxs("div",{children:[Ht.jsx("i",{className:"fa-regular fa-calendar"})," ",n.date,"  ",n.time]}),Ht.jsxs("div",{children:[Ht.jsx("i",{className:"fa-solid fa-location-dot"})," ",n.location]}),Ht.jsxs("div",{children:[Ht.jsx("i",{className:"fa-regular fa-user"})," ",n.accompagnant]})]})]}),Ht.jsx("span",{className:`chip ${s}`,children:o})]}),Ht.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[Ht.jsxs("button",{className:"btn secondary",onClick:t,title:"Modifier",children:[Ht.jsx("i",{className:"fa-solid fa-pen"})," Modifier"]}),Ht.jsxs("button",{className:"btn danger",onClick:e,title:"Supprimer",children:[Ht.jsx("i",{className:"fa-solid fa-trash"})," Supprimer"]}),Ht.jsxs("button",{className:"btn",onClick:r,title:"Exporter en PDF",children:[Ht.jsx("i",{className:"fa-solid fa-file-pdf"})," Export PDF"]})]})]})}function JO({search:n,onSearch:t,sortBy:e,sortDir:r,onSortBy:s,onSortDir:o,period:u,onPeriod:h}){return Ht.jsx("div",{className:"card",children:Ht.jsxs("div",{className:"row two",children:[Ht.jsxs("div",{children:[Ht.jsx("label",{className:"label",htmlFor:"search",children:"Recherche"}),Ht.jsx("input",{id:"search",className:"input",type:"text",placeholder:"Rechercher (client, lieu, accompagnant, date)",value:n,onChange:f=>t(f.target.value)})]}),Ht.jsxs("div",{className:"row two",children:[Ht.jsxs("div",{children:[Ht.jsx("label",{className:"label",htmlFor:"period",children:"Priode"}),Ht.jsxs("select",{id:"period",className:"select",value:u,onChange:f=>h(f.target.value),children:[Ht.jsx("option",{value:"all",children:"Toutes"}),Ht.jsx("option",{value:"week",children:"Cette semaine"}),Ht.jsx("option",{value:"month",children:"Ce mois"})]})]}),Ht.jsxs("div",{children:[Ht.jsx("label",{className:"label",htmlFor:"sortBy",children:"Trier par"}),Ht.jsxs("div",{className:"row two",children:[Ht.jsxs("select",{id:"sortBy",className:"select",value:e,onChange:f=>s(f.target.value),children:[Ht.jsx("option",{value:"date",children:"Date"}),Ht.jsx("option",{value:"location",children:"Lieu"}),Ht.jsx("option",{value:"clientName",children:"Nom client"})]}),Ht.jsxs("select",{className:"select",value:r,onChange:f=>o(f.target.value),children:[Ht.jsx("option",{value:"asc",children:"Ascendant"}),Ht.jsx("option",{value:"desc",children:"Descendant"})]})]})]})]})]})})}function ZO(){const n=B0(),[t,e]=Vt.useState([]),[r,s]=Vt.useState(""),[o,u]=Vt.useState("date"),[h,f]=Vt.useState("asc"),[d,v]=Vt.useState("all");Vt.useEffect(()=>{const M=rL(j=>e(j));return()=>M&&M()},[]);const A=Vt.useCallback(M=>{confirm("Confirmer la suppression de ce RDV ?")&&aL(M)},[]),T=Vt.useCallback(M=>{XD(M)},[]),b=Vt.useMemo(()=>{let M=[...t];const j=r.trim().toLowerCase();if(j&&(M=M.filter(P=>[P.clientName,P.location,P.accompagnant,P.date,P.time].filter(Boolean).some(k=>String(k).toLowerCase().includes(j)))),d!=="all"){const P=new Date;if(d==="week"){const k=Wl(P,{weekStartsOn:1}),$=lk(P,{weekStartsOn:1});M=M.filter(nt=>{const rt=Gf(`${nt.date} ${nt.time}`,"yyyy-MM-dd HH:mm",new Date);return Ew(rt,{start:k,end:$})})}if(d==="month"){const k=ok(P),$=sk(P);M=M.filter(nt=>{const rt=Gf(`${nt.date} ${nt.time}`,"yyyy-MM-dd HH:mm",new Date);return Ew(rt,{start:k,end:$})})}}return M.sort((P,k)=>{let $=0;if(o==="date"){const nt=Gf(`${P.date} ${P.time}`,"yyyy-MM-dd HH:mm",new Date).getTime(),rt=Gf(`${k.date} ${k.time}`,"yyyy-MM-dd HH:mm",new Date).getTime();$=nt-rt}else o==="location"?$=P.location.localeCompare(k.location):o==="clientName"&&($=P.clientName.localeCompare(k.clientName));return h==="asc"?$:-$}),M},[t,r,d,o,h]);return Ht.jsxs("section",{children:[Ht.jsx(JO,{search:r,onSearch:s,sortBy:o,sortDir:h,onSortBy:u,onSortDir:f,period:d,onPeriod:v}),Ht.jsxs("div",{className:"grid",style:{marginTop:16},children:[b.map(M=>Ht.jsx(XO,{rdv:M,onEdit:()=>n(`/edit/${M.id}`),onDelete:()=>A(M.id),onExport:()=>T(M)},M.id)),b.length===0&&Ht.jsx("div",{className:"card",style:{gridColumn:"1 / -1"},children:Ht.jsx("p",{style:{margin:0,color:"var(--text-light)"},children:"Aucun RDV. Crez un nouveau rendez-vous."})})]})]})}function tP(n){const t={};return n.clientName?.trim()||(t.clientName="Nom du client requis"),n.location?.trim()||(t.location="Lieu requis"),n.accompagnant?.trim()||(t.accompagnant="Nom de l'accompagnant requis"),n.date||(t.date="Date requise"),n.time||(t.time="Heure requise"),(n.responses||[]).length!==4&&(t.responses="4 rponses requises"),{valid:Object.keys(t).length===0,errors:t}}function eP(n){return{id:n.id??Date.now().toString(),clientName:n.clientName.trim(),location:n.location.trim(),accompagnant:n.accompagnant.trim(),date:n.date,time:n.time,responses:[...n.responses||[]],createdAt:n.createdAt??Date.now()}}const nP=["Qu'est-ce qui a t ncessaire dans la prparation au(x) rendez-vous auxquel(s) vous avez assist ?","Qu'est-ce qui a t important dans le (les) 'entretien(s) de vente auxquel(s) vous avez particip ?","Quel(s) lments ont fait basculer la / les vente(s) ?","Quel tait, selon vous, lobjectif du client ? / par quelle(s) solution(s) tait-il intress et pourquoi"];function Sw(){const n=B0(),{id:t}=o6(),[e,r]=Vt.useState({clientName:"",location:"",accompagnant:"",date:"",time:"",responses:["","","",""]}),[s,o]=Vt.useState({}),u=!!t,[h,f]=Vt.useState(!1),[d,v]=Vt.useState("");Vt.useEffect(()=>{u&&(async()=>{f(!0);try{const M=await sL(t);M&&r({id:M.id,clientName:M.clientName||"",location:M.location||"",accompagnant:M.accompagnant||"",date:M.date||"",time:M.time||"",responses:M.responses?.length===4?M.responses:["","","",""],createdAt:M.createdAt||void 0})}finally{f(!1)}})()},[t,u]);function A(M){const{name:j,value:P}=M.target;r(k=>({...k,[j]:P}))}function T(M,j){r(P=>{const k=[...P.responses||["","","",""]];return k[M]=j,{...P,responses:k}})}async function b(M){M.preventDefault(),v("");const{valid:j,errors:P}=tP(e);if(o(P),!!j)try{f(!0);const k=eP(e);await iL(k),n("/")}catch(k){console.error(k),v("Erreur d'enregistrement. Vrifiez votre connexion.")}finally{f(!1)}}return Ht.jsx("section",{children:Ht.jsxs("div",{className:"card",children:[Ht.jsx("h2",{style:{marginTop:0},children:u?"Modifier le RDV":"Nouveau RDV"}),Ht.jsxs("form",{onSubmit:b,children:[h&&Ht.jsx("div",{style:{marginBottom:12,color:"var(--text-light)"},children:"Chargement"}),d&&Ht.jsx("div",{style:{marginBottom:12,color:"var(--danger)"},children:d}),Ht.jsxs("div",{className:"row two",children:[Ht.jsxs("div",{children:[Ht.jsx("label",{className:"label",htmlFor:"clientName",children:"Nom du client"}),Ht.jsx("input",{id:"clientName",name:"clientName",className:"input",type:"text",value:e.clientName,onChange:A,required:!0}),s.clientName&&Ht.jsx("small",{style:{color:"var(--danger)"},children:s.clientName})]}),Ht.jsxs("div",{children:[Ht.jsx("label",{className:"label",htmlFor:"location",children:"Lieu (commune)"}),Ht.jsx("input",{id:"location",name:"location",className:"input",type:"text",value:e.location,onChange:A,required:!0,list:"communes"}),s.location&&Ht.jsx("small",{style:{color:"var(--danger)"},children:s.location}),Ht.jsxs("datalist",{id:"communes",children:[Ht.jsx("option",{children:"Paris"}),Ht.jsx("option",{children:"Lyon"}),Ht.jsx("option",{children:"Marseille"}),Ht.jsx("option",{children:"Toulouse"}),Ht.jsx("option",{children:"Bordeaux"})]})]})]}),Ht.jsxs("div",{className:"row two",children:[Ht.jsxs("div",{children:[Ht.jsx("label",{className:"label",htmlFor:"accompagnant",children:"Nom du conseiller(re)"}),Ht.jsx("input",{id:"accompagnant",name:"accompagnant",className:"input",type:"text",value:e.accompagnant,onChange:A,required:!0}),s.accompagnant&&Ht.jsx("small",{style:{color:"var(--danger)"},children:s.accompagnant})]}),Ht.jsxs("div",{children:[Ht.jsx("label",{className:"label",htmlFor:"date",children:"Date du RDV"}),Ht.jsx("input",{id:"date",name:"date",className:"input",type:"date",value:e.date,onChange:A,required:!0}),s.date&&Ht.jsx("small",{style:{color:"var(--danger)"},children:s.date})]})]}),Ht.jsx("div",{className:"row two",children:Ht.jsxs("div",{children:[Ht.jsx("label",{className:"label",htmlFor:"time",children:"Heure du RDV"}),Ht.jsx("input",{id:"time",name:"time",className:"input",type:"time",value:e.time,onChange:A,required:!0}),s.time&&Ht.jsx("small",{style:{color:"var(--danger)"},children:s.time})]})}),Ht.jsxs("div",{style:{marginTop:12},children:[nP.map((M,j)=>Ht.jsxs("div",{style:{marginTop:j?12:0},children:[Ht.jsxs("label",{className:"label",children:["Question ",j+1]}),Ht.jsx("div",{style:{fontWeight:600,color:"var(--text)"},children:M}),Ht.jsx("textarea",{className:"textarea",rows:4,spellCheck:!0,placeholder:"Votre rponse",value:e.responses[j]||"",onChange:P=>T(j,P.target.value)})]},j)),s.responses&&Ht.jsx("small",{style:{color:"var(--danger)"},children:s.responses})]}),Ht.jsxs("div",{style:{display:"flex",gap:8,marginTop:16},children:[Ht.jsxs("button",{type:"submit",className:"btn",children:[Ht.jsx("i",{className:"fa-solid fa-floppy-disk"})," Enregistrer"]}),Ht.jsx("button",{type:"button",className:"btn secondary",onClick:()=>n("/"),children:"Annuler"})]})]})]})})}const fE="theme";function dE(){try{return localStorage.getItem(fE)||""}catch{return""}}function pE(){const n=dE();return n==="light"||n==="dark"?n:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function M0(n){const t=n==="dark"?"dark":"light";document.documentElement.setAttribute("data-theme",t)}function rP(n){try{localStorage.setItem(fE,n)}catch{}M0(n)}function iP(){const t=(document.documentElement.getAttribute("data-theme")||pE())==="dark"?"light":"dark";return rP(t),t}function aP(){if(M0(pE()),!dE()&&window.matchMedia){const n=window.matchMedia("(prefers-color-scheme: dark)"),t=()=>M0(n.matches?"dark":"light");n.addEventListener?.("change",t)}}function sP(){const n=Hu(),[t,e]=Vt.useState(document.documentElement.getAttribute("data-theme")||"light");Vt.useEffect(()=>{const s=new MutationObserver(()=>{e(document.documentElement.getAttribute("data-theme")||"light")});return s.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>s.disconnect()},[]);const r=()=>e(iP());return Ht.jsx("header",{className:"container",children:Ht.jsxs("div",{className:"header",children:[Ht.jsx("h1",{style:{margin:0},children:"Gestion RDV - Edouard Lambert"}),Ht.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[Ht.jsxs("div",{className:"theme-toggle",role:"button","aria-label":"Basculer thme",title:`Thme: ${t}`,onClick:r,children:[Ht.jsx("i",{className:"fa-solid fa-sun icon sun","aria-hidden":"true"}),Ht.jsx("i",{className:"fa-solid fa-moon icon moon","aria-hidden":"true"}),Ht.jsx("div",{className:"knob"})]}),n.pathname!=="/new"&&Ht.jsxs(H0,{className:"btn",to:"/new",children:[Ht.jsx("i",{className:"fa-solid fa-plus"})," Nouveau RDV"]})]})]})})}function oP(){return Ht.jsxs(Ht.Fragment,{children:[Ht.jsx(sP,{}),Ht.jsx("main",{className:"container",style:{paddingTop:0},children:Ht.jsxs(A6,{children:[Ht.jsx(Up,{path:"/",element:Ht.jsx(ZO,{})}),Ht.jsx(Up,{path:"/new",element:Ht.jsx(Sw,{})}),Ht.jsx(Up,{path:"/edit/:id",element:Ht.jsx(Sw,{})})]})})]})}aP();LS.createRoot(document.getElementById("root")).render(Ht.jsx(Vt.StrictMode,{children:Ht.jsx(G6,{children:Ht.jsx(oP,{})})}));export{Xn as _};
